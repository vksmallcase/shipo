/*! For license information please see d16211a1d755b0cf6e17.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{108:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"j",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"e",(function(){return _})),n.d(t,"h",(function(){return j})),n.d(t,"l",(function(){return T})),n.d(t,"a",(function(){return k})),n.d(t,"i",(function(){return P})),n.d(t,"k",(function(){return M})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return D}));n(121),n(270);var r=n(3),a=n.n(r),o=n(34),i=n.n(o),s=n(30),l=n.n(s),c=n(10),u=n.n(c),p=n(29),d=n.n(p),h=n(239),f=n.n(h),b=n(161),m=n(187),g=n(326),v=n(278),y=n(157);function O(e){const{slice:t}=e;return t?t.slice_id:0}let C=0;function x(e=!1){let t=0;return e&&(t=C%v.b.length,C+=1,0===t&&(t+=1,C+=1)),v.b[t]}function w(e,t,n){if(null==e)return null;const r=n?"annotation_json":"slice_json";return f()(window.location.search).pathname("/superset/"+r+"/"+e).search({form_data:Object(y.a)(t,(e,t)=>null===t?void 0:t)}).toString()}function E(e="base"){var t;return d()(t=["full","json","csv","query","results","samples"]).call(t,e)?"/superset/explore_json/":"/superset/explore/"}function S(e,t,n=!0,r={}){var a;if(!e.datasource)return null;const o=new f.a("/"),i=E(t),s=o.search(!0);u()(a=l()(r)).call(a,e=>{s[e]=r[e]}),s.form_data=Object(y.a)(e),"standalone"===t&&(s.standalone="true");const c=o.directory(i).search(s).toString();if(!n&&c.length>8e3){return S({datasource:e.datasource,viz_type:e.viz_type},t,!1,{URL_IS_TOO_LONG_TO_SHARE:null})}return c}function _({path:e,qs:t,allowDomainSharding:n=!1}){var r;let a=new f.a({protocol:i()(r=window.location.protocol).call(r,0,-1),hostname:x(n),port:window.location.port?window.location.port:"",path:e});return t&&(a=a.search(t)),a}function j({formData:e,endpointType:t="base",force:n=!1,curUrl:r=null,requestParams:a={},allowDomainSharding:o=!1,method:i="POST"}){if(!e.datasource)return null;let s=_({path:"/",allowDomainSharding:o});r&&(s=f()(f()(r).search()));const c=E(t),p=s.search(!0),{slice_id:d,extra_filters:h,adhoc_filters:b,viz_type:m}=e;if(d){const e={slice_id:d};"GET"===i&&(e.viz_type=m,h&&h.length&&(e.extra_filters=h),b&&b.length&&(e.adhoc_filters=b)),p.form_data=Object(y.a)(e)}n&&(p.force="true"),"csv"===t&&(p.csv="true"),"standalone"===t&&(p.standalone="true"),"query"===t&&(p.query="true"),"results"===t&&(p.results="true"),"samples"===t&&(p.samples="true");const g=l()(a);return g.length&&u()(g).call(g,e=>{a.hasOwnProperty(e)&&(p[e]=a[e])}),s.search(p).directory(c).toString()}const T=e=>{const t=Object(b.a)().get(e.viz_type);return!!t&&t.useLegacyApi},k=({formData:e,force:t,resultFormat:n,resultType:r})=>{var o;return(null!=(o=Object(m.a)().get(e.viz_type))?o:e=>Object(g.a)(e,e=>[a()({},e)]))(a()({},e,{force:t,result_format:n,result_type:r}))},P=({resultType:e,resultFormat:t})=>"csv"===t?t:e;function M(e,t,n="_blank"){if(!e)return;const r=document.createElement("form");r.action=e,r.method="POST",r.target=n;const a=document.createElement("input");a.type="hidden",a.name="csrf_token",a.value=(document.getElementById("csrf_token")||{}).value,r.appendChild(a);const o=document.createElement("input");o.type="hidden",o.name="form_data",o.value=Object(y.a)(t),r.appendChild(o),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}const R=({formData:e,resultFormat:t="json",resultType:n="full",force:r=!1})=>{let a,o;if(T(e)){a=j({formData:e,endpointType:P({resultFormat:t,resultType:n}),allowDomainSharding:!1}),o=e}else a="/api/v1/chart/data",o=k({formData:e,force:r,resultFormat:t,resultType:n});M(a,o)},D=e=>{M(j({formData:e,endpointType:"base",allowDomainSharding:!1}),e)}},109:function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"q",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"b",(function(){return y}));const r={offline:"danger",failed:"danger",pending:"info",fetching:"info",running:"warning",stopped:"danger",success:"success"},a={success:"success",failed:"failed",running:"running",offline:"offline",pending:"pending"},o=["now","1 hour ago","1 day ago","7 days ago","28 days ago","90 days ago","1 year ago"],i=5,s=3,l=51,c=1024,u=2,p=864e5,d=5120,h=.9,f=8e3,b=100,m=90,g=60,v=55,y=50},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(5),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=n(67),u=n(485),p=n(21),d=n(1);const h={dialogClassName:l.a.string,animation:l.a.bool,triggerNode:l.a.node.isRequired,modalTitle:l.a.node,modalBody:l.a.node,modalFooter:l.a.node,beforeOpen:l.a.func,onExit:l.a.func,isButton:l.a.bool,isMenuItem:l.a.bool,bsSize:l.a.oneOf(["large","small"]),className:l.a.string,tooltip:l.a.string,backdrop:l.a.oneOf(["static",!0,!1])};class f extends i.a.Component{constructor(e){var t,n;super(e),this.state={showModal:!1},this.open=a()(t=this.open).call(t,this),this.close=a()(n=this.close).call(n,this)}close(){this.setState(()=>({showModal:!1}))}open(e){e.preventDefault(),this.props.beforeOpen(),this.setState(()=>({showModal:!0}))}renderModal(){return Object(d.e)(c.a,{dialogClassName:this.props.dialogClassName,animation:this.props.animation,show:this.state.showModal,onHide:this.close,onExit:this.props.onExit,bsSize:this.props.bsSize,className:this.props.className,backdrop:this.props.backdrop},this.props.modalTitle&&Object(d.e)(c.a.Header,{closeButton:!0},Object(d.e)(c.a.Title,null,this.props.modalTitle)),Object(d.e)(c.a.Body,null,this.props.modalBody),this.props.modalFooter&&Object(d.e)(c.a.Footer,null,this.props.modalFooter))}render(){return this.props.isButton?Object(d.e)(i.a.Fragment,null,Object(d.e)(p.a,{className:"modal-trigger",tooltip:this.props.tooltip,onClick:this.open},this.props.triggerNode),this.renderModal()):this.props.isMenuItem?Object(d.e)(i.a.Fragment,null,Object(d.e)(u.a,{onClick:this.open},this.props.triggerNode),this.renderModal()):Object(d.e)(i.a.Fragment,null,Object(d.e)("span",{onClick:this.open,role:"button"},this.props.triggerNode),this.renderModal())}}f.propTypes=h,f.defaultProps={animation:!0,beforeOpen:()=>{},onExit:()=>{},isButton:!1,isMenuItem:!1,bsSize:null,className:"",modalTitle:""}},1165:function(e,t,n){},1175:function(e,t,n){},1176:function(e,t,n){},1177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(53)),i=n(98),s=l(n(1195));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,c=e.onChange,u=e.direction,p=e.style,d=e.renderers,h=e.pointer,f=e.className,b=void 0===f?"":f,m=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:p}}});return a.default.createElement("div",{style:m.picker,className:"alpha-picker "+b},a.default.createElement(i.Alpha,r({},m.alpha,{rgb:t,hsl:n,pointer:h,renderers:d,onChange:c,direction:u})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(1083)),a=s(n(853)),o=s(n(325)),i=s(n(292));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,i.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,a.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},1179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=i(n(853)),a=i(n(1566)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,a.default)(e.default)||{};return t.map((function(t){var a=e[t];return a&&(0,r.default)(a,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],a[t])})),t})),n};t.default=s},1180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,a=n(853),o=(r=a)&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=i({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},1181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,p=Array(u),d=0;d<u;d++)p[d]=arguments[d];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(p))),c.state={hover:!1},c.handleMouseOver=function(){return c.setState({hover:!0})},c.handleMouseOut=function(){return c.setState({hover:!1})},c.render=function(){return i.default.createElement(t,{onMouseOver:c.handleMouseOver,onMouseOut:c.handleMouseOut},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,c;s(this,r);for(var u=arguments.length,p=Array(u),d=0;d<u;d++)p[d]=arguments[d];return o=c=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(p))),c.state={active:!1},c.handleMouseDown=function(){return c.setState({active:!0})},c.handleMouseUp=function(){return c.setState({active:!1})},c.render=function(){return i.default.createElement(t,{onMouseDown:c.handleMouseDown,onMouseUp:c.handleMouseUp},i.default.createElement(e,a({},c.props,c.state)))},l(c,o)}return c(r,n),r}(i.default.Component)};t.default=u},1183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},1184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),s=u(n(53)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1185)),c=u(n(924));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.default.createElement("div",{style:n.alpha},i.default.createElement("div",{style:n.checkboard},i.default.createElement(c.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:n.gradient}),i.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=h},1185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var u=void 0;if(u=c<0?0:c>o?1:Math.round(100*c/o)/100,n.hsl.a!==u)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:u,source:"rgb"}}else{var p=void 0;if(p=l<0?0:l>a?1:Math.round(100*l/a)/100,n.a!==p)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:p,source:"rgb"}}return null}},1186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var a=r?new r:document.createElement("canvas");a.width=2*n,a.height=2*n;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null};t.get=function(e,t,n,o){var i=e+"-"+t+"-"+n+(o?"-server":""),s=a(e,t,n,o);return r[i]?r[i]:(r[i]=s,s)}},1187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=s(a),i=s(n(53));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,a=Number(t.replace(/%/g,""));if(!isNaN(a)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a+o),e):n.props.onChange&&n.props.onChange(a+o,e),r?n.setState({value:a+o+"%"}):n.setState({value:a+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,a-o),e):n.props.onChange&&n.props.onChange(a-o,e),r?n.setState({value:a-o+"%"}):n.setState({value:a-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(a.PureComponent||a.Component);t.default=c},1188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),i=l(n(53)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1189));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.Hue=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,i.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}(a.PureComponent||a.Component);t.default=p},1189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,o=r.clientHeight,i="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=i-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var u=void 0;if(c<0)u=359;else if(c>o)u=0;else{u=360*(-100*c/o+100)/100}if(n.hsl.h!==u)return{h:u,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var p=void 0;if(l<0)p=0;else if(l>a)p=359;else{p=360*(100*l/a)/100}if(n.hsl.h!==p)return{h:p,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},119:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),l=n(23),c=n(429),u=i(n(784)),p=i(n(785)),d=!l.Modal.childContextTypes,h=function(e){function t(n){var r=e.call(this,n)||this;return r.promptInput=null,r.keyBinds={},r.state=t.initialState(),r.onHide=r.onHide.bind(r),r.onSubmitPrompt=r.onSubmitPrompt.bind(r),r}return a(t,e),t.setOptions=function(e){t.options=Object.assign({},t.DEFAULT_OPTIONS,e)},t.resetOptions=function(){t.options=t.DEFAULT_OPTIONS},t.initialState=function(){return{title:null,body:null,showModal:!1,actions:[],bsSize:void 0,onHide:null,prompt:null}},t.prototype.componentWillUnmount=function(){this.state.showModal&&this.hide()},t.prototype.show=function(e){var n=this;void 0===e&&(e={});var r={},a=Object.assign({},e),o=a.actions,i=a.prompt;o&&i&&(a.actions=o.map((function(e){var t=e.key;if(!t||!t.includes("enter"))return e;var r=Object.assign({},e);return r.func=function(t){if(!t.promptInput||!t.promptInput.checkValidity())return!1;e.func(n)},r}))),a.actions&&a.actions.forEach((function(e){e.key&&e.key.split(",").forEach((function(t){r[t]=function(){e.func(n)}}))})),this.keyBinds=r,this.setState(Object.assign({},t.initialState(),a,{showModal:!0}))},t.prototype.showAlert=function(e,n){void 0===n&&(n=void 0);var r={body:e,actions:[t.SingleOKAction()],bsSize:n};this.show(r)},t.prototype.onHide=function(){var e=this.state.onHide;"function"==typeof e?e(this):this.hide()},t.prototype.hide=function(){this.state.showModal&&this.setState({showModal:!1})},Object.defineProperty(t.prototype,"value",{get:function(){return this.promptInput?this.promptInput.value:null},enumerable:!0,configurable:!0}),t.prototype.onSubmitPrompt=function(){var e=this.keyBinds&&this.keyBinds.enter;e&&e()},t.prototype.getSize=function(e){return void 0===this.state.bsSize?e:"medium"===this.state.bsSize?null:this.state.bsSize},t.prototype.render=function(){var e=this,t=d?{size:this.getSize("sm")}:{bsSize:this.getSize("small")};return s.default.createElement(l.Modal,o({show:this.state.showModal,onHide:this.onHide},t),this.state.title&&s.default.createElement(l.Modal.Header,null,s.default.createElement(l.Modal.Title,null,this.state.title)),s.default.createElement(l.Modal.Body,null,"string"==typeof this.state.body?s.default.createElement("p",null,this.state.body):this.state.body,this.state.prompt&&s.default.createElement(u.default,{ref:function(t){e.promptInput=t},prompt:this.state.prompt,onSubmit:this.onSubmitPrompt})),s.default.createElement(l.Modal.Footer,null,this.state.actions&&this.state.actions.map((function(t,n){return s.default.createElement("button",{key:n,type:"button",className:"btn btn-sm "+t.className,onClick:function(){t.func&&t.func(e)},style:{minWidth:82}},t.label)}))))},t.DEFAULT_OPTIONS={defaultOkLabel:"OK",defaultCancelLabel:"Cancel",primaryClassName:"btn-primary",defaultButtonClassName:"btn-default btn-outline-secondary"},t.options=t.DEFAULT_OPTIONS,t.Action=function(e,t,n,r){return new p.default(e,t,n,r)},t.DefaultAction=function(e,n,r){return new p.default(e,n,r&&r.length>0?r:t.options.primaryClassName,"enter")},t.OKAction=function(e){return new p.default(t.options.defaultOkLabel,(function(t){t.hide(),e&&e(t)}),t.options.primaryClassName,"enter")},t.CancelAction=function(e){return new p.default(t.options.defaultCancelLabel,(function(t){t.hide(),e&&e(t)}),null,"esc")},t.SingleOKAction=function(){return new p.default(t.options.defaultOkLabel,(function(e){e.hide()}),t.options.primaryClassName,"enter,esc")},t.TextPrompt=function(e){return new c.TextPrompt(e)},t.PasswordPrompt=function(e){return new c.PasswordPrompt(e)},t.displayName="Dialog",t}(s.default.Component);t.default=h},1190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=i(n(0)),a=i(n(2)),o=i(n(53));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,a=e.background,i=e.children,s=(0,o.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:a}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return r.default.createElement("div",{style:s.wrap},r.default.createElement("div",{style:s.bg}),r.default.createElement("div",{style:s.content},i))};s.propTypes={background:a.default.string,zDepth:a.default.oneOf([0,1,2,3,4,5]),radius:a.default.number},s.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=s},1191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=c(a),i=c(n(53)),s=c(n(718)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1192));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,a=t.black,s=t.pointer,l=t.circle,c=(0,i.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:a,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:c.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:c.white,className:"saturation-white"},o.default.createElement("div",{style:c.black,className:"saturation-black"}),o.default.createElement("div",{style:c.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:c.circle}))))}}]),t}(a.PureComponent||a.Component);t.default=u},1192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.getBoundingClientRect(),o=a.width,i=a.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o?c=o:u<0?u=0:u>i&&(u=i);var p=100*c/o,d=-100*u/i+100;return{h:n.hsl.h,s:p,v:d,a:n.hsl.a,source:"rgb"}}},1193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(53)),i=n(1194),s=n(98);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,l=void 0===i?function(){}:i,c=e.onHover,u=e.title,p=void 0===u?t:u,d=e.children,h=e.focus,f=e.focusStyle,b=void 0===f?{}:f,m="transparent"===t,g=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?b:{})}}),v={};return c&&(v.onMouseOver=function(e){return c(t,e)}),a.default.createElement("div",r({style:g.swatch,onClick:function(e){return l(t,e)},title:p,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},v),d,m&&a.default.createElement(s.Checkboard,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,i.handleFocus)(c)},1194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=(r=i)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;l(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=n=c(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},c(n,t)}return u(r,n),o(r,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,a({},this.props,this.state)))}}]),r}(s.default.Component)}},1195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.AlphaPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(53)),i=c(n(225)),s=n(98),l=c(n(1197));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,c=e.colors,u=e.width,p=e.triangle,d=e.className,h=void 0===d?"":d,f="transparent"===a,b=function(e,n){i.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},m=(0,o.default)({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:a,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:i.default.getContrastingColor(a),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+a+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===p});return r.default.createElement("div",{style:m.card,className:"block-picker "+h},r.default.createElement("div",{style:m.triangle}),r.default.createElement("div",{style:m.head},f&&r.default.createElement(s.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:m.label},a)),r.default.createElement("div",{style:m.body},r.default.createElement(l.default,{colors:c,onClick:b,onSwatchHover:n}),r.default.createElement(s.EditableInput,{style:{input:m.input},value:a,onChange:b})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf(["top","hide"])},u.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,s.ColorWrap)(u)},1197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(292)),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,a.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(i.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:l.clear}))};t.default=l},1198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=u(n(0)),a=u(n(2)),o=u(n(53)),i=u(n(292)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(926)),l=n(98),c=u(n(1199));function u(e){return e&&e.__esModule?e:{default:e}}var p=t.Circle=function(e){var t=e.width,n=e.onChange,a=e.onSwatchHover,s=e.colors,l=e.hex,u=e.circleSize,p=e.circleSpacing,d=e.className,h=void 0===d?"":d,f=(0,o.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}}),b=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:f.card,className:"circle-picker "+h},(0,i.default)(s,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:b,onSwatchHover:a,active:l===e.toLowerCase(),circleSize:u,circleSpacing:p})})))};p.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),circleSize:a.default.number,circleSpacing:a.default.number},p.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,l.ColorWrap)(p)},1199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(0)),a=n(53),o=s(a),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,a=e.onSwatchHover,s=e.hover,l=e.active,c=e.circleSize,u=e.circleSpacing,p=(0,o.default)({default:{swatch:{width:c,height:c,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+c/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:p.swatch},r.default.createElement(i.Swatch,{style:p.Swatch,color:t,onClick:n,onHover:a,focusStyle:{boxShadow:p.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,a.handleHover)(l)},1200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=u(n(0)),a=u(n(2)),o=u(n(53)),i=n(98),s=u(n(1201)),l=u(n(1202)),c=u(n(1203));function u(e){return e&&e.__esModule?e:{default:e}}var p=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,a=e.rgb,u=e.hsl,p=e.hsv,d=e.hex,h=e.renderers,f=e.className,b=void 0===f?"":f,m=(0,o.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return r.default.createElement("div",{style:m.picker,className:"chrome-picker "+b},r.default.createElement("div",{style:m.saturation},r.default.createElement(i.Saturation,{style:m.Saturation,hsl:u,hsv:p,pointer:c.default,onChange:t})),r.default.createElement("div",{style:m.body},r.default.createElement("div",{style:m.controls,className:"flexbox-fix"},r.default.createElement("div",{style:m.color},r.default.createElement("div",{style:m.swatch},r.default.createElement("div",{style:m.active}),r.default.createElement(i.Checkboard,{renderers:h}))),r.default.createElement("div",{style:m.toggles},r.default.createElement("div",{style:m.hue},r.default.createElement(i.Hue,{style:m.Hue,hsl:u,pointer:l.default,onChange:t})),r.default.createElement("div",{style:m.alpha},r.default.createElement(i.Alpha,{style:m.Alpha,rgb:a,hsl:u,pointer:l.default,renderers:h,onChange:t})))),r.default.createElement(s.default,{rgb:a,hsl:u,hex:d,onChange:t,disableAlpha:n})))};p.propTypes={disableAlpha:a.default.bool},p.defaultProps={disableAlpha:!1},t.default=(0,i.ColorWrap)(p)},1201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(53)),i=l(n(225)),s=n(98);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?i.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),a.default.createElement("div",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=a.default.createElement("div",{style:t.fields,className:"flexbox-fix"},a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),a.default.createElement("div",{style:t.field},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),a.default.createElement("div",{style:t.alpha},a.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),a.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,a.default.createElement("div",{style:t.toggle},a.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},a.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},a.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),a.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(a.default.Component);t.default=p},1202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointer=function(){var e=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.ChromePointerCircle=function(){var e=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=p(n(0)),a=p(n(2)),o=p(n(53)),i=p(n(292)),s=p(n(225)),l=n(98),c=p(n(1205)),u=p(n(1206));function p(e){return e&&e.__esModule?e:{default:e}}var d=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.colors,p=e.hex,d=e.rgb,h=e.className,f=void 0===h?"":h,b=(0,o.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),m=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(l.Raised,{style:b.Compact},r.default.createElement("div",{style:b.compact,className:"compact-picker "+f},r.default.createElement("div",null,(0,i.default)(a,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===p,onClick:m,onSwatchHover:n})})),r.default.createElement("div",{style:b.clear})),r.default.createElement(u.default,{hex:p,rgb:d,onChange:m})))};d.propTypes={colors:a.default.arrayOf(a.default.string)},d.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,l.ColorWrap)(d)},1205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(225)),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.active,u=(0,a.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:c,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{style:u.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:u.dot}))};t.default=l},1206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=i(n(0)),a=i(n(53)),o=n(98);function i(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,i=e.onChange,s=(0,a.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?i({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):i({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},1207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(53)),i=c(n(292)),s=n(98),l=c(n(1208));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Github=function(e){var t=e.width,n=e.colors,a=e.onChange,s=e.onSwatchHover,c=e.triangle,u=e.className,p=void 0===u?"":u,d=(0,o.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),h=function(e,t){return a({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:d.card,className:"github-picker "+p},r.default.createElement("div",{style:d.triangleShadow}),r.default.createElement("div",{style:d.triangle}),(0,i.default)(n,(function(e){return r.default.createElement(l.default,{color:e,key:e,onClick:h,onSwatchHover:s})})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.string),triangle:a.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},u.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,s.ColorWrap)(u)},1208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(0)),a=n(53),o=s(a),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,a=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},c=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:c.swatch},r.default.createElement(i.Swatch,{color:n,onClick:a,onHover:s,focusStyle:l}))};t.default=(0,a.handleHover)(l)},1209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(53)),i=n(98),s=l(n(1210));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.HuePicker=function(e){var t=e.width,n=e.height,s=e.onChange,l=e.hsl,c=e.direction,u=e.pointer,p=e.className,d=void 0===p?"":p,h=(0,o.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}});return a.default.createElement("div",{style:h.picker,className:"hue-picker "+d},a.default.createElement(i.Hue,r({},h.hue,{hsl:l,pointer:u,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:c})))};c.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,i.ColorWrap)(c)},1210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(e){var t=e.direction,n=(0,a.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=i},1211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(225)),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,n=e.hex,s=e.rgb,l=e.className,c=void 0===l?"":l,u=(0,a.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),p=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:"rgb"},n)};return r.default.createElement(i.Raised,null,r.default.createElement("div",{style:u.material,className:"material-picker "+c},r.default.createElement(i.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:u.split,className:"flexbox-fix"},r.default.createElement("div",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:s.r,onChange:p})),r.default.createElement("div",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:s.g,onChange:p})),r.default.createElement("div",{style:u.third},r.default.createElement(i.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:s.b,onChange:p})))))};t.default=(0,i.ColorWrap)(l)},1212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(0)),o=h(n(2)),i=h(n(53)),s=n(98),l=h(n(1213)),c=h(n(1214)),u=h(n(1215)),p=h(n(1216)),d=h(n(1217));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,i.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return a.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},a.default.createElement("div",{style:n.head},this.props.header),a.default.createElement("div",{style:n.body,className:"flexbox-fix"},a.default.createElement("div",{style:n.saturation},a.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),a.default.createElement("div",{style:n.hue},a.default.createElement(s.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:u.default,onChange:this.props.onChange})),a.default.createElement("div",{style:n.controls},a.default.createElement("div",{style:n.top,className:"flexbox-fix"},a.default.createElement("div",{style:n.previews},a.default.createElement(d.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),a.default.createElement("div",{style:n.actions},a.default.createElement(p.default,{label:"OK",onClick:this.props.onAccept,active:!0}),a.default.createElement(p.default,{label:"Cancel",onClick:this.props.onCancel}),a.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(a.default.Component);f.propTypes={header:o.default.string},f.defaultProps={header:"Color Picker"},t.default=(0,s.ColorWrap)(f)},1213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(225)),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,c=(0,a.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:c.fields},r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"h",value:Math.round(s.h),onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:u}),r.default.createElement("div",{style:c.divider}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:n.r,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:n.g,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:n.b,onChange:u}),r.default.createElement("div",{style:c.divider}),r.default.createElement(i.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"#",value:l.replace("#",""),onChange:u}),r.default.createElement("div",{style:c.fieldSymbols},r.default.createElement("div",{style:c.symbol},"°"),r.default.createElement("div",{style:c.symbol},"%"),r.default.createElement("div",{style:c.symbol},"%")))};t.default=l},1214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,a.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=i},1215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPointerCircle=function(){var e=(0,a.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=i},1216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,i=e.active,s=(0,a.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=i},1217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,a.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=i},1218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(53)),i=n(98),s=c(n(1219)),l=c(n(1220));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Sketch=function(e){var t=e.width,n=e.rgb,a=e.hex,c=e.hsv,u=e.hsl,p=e.onChange,d=e.onSwatchHover,h=e.disableAlpha,f=e.presetColors,b=e.renderers,m=e.className,g=void 0===m?"":m,v=(0,o.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:h});return r.default.createElement("div",{style:v.picker,className:"sketch-picker "+g},r.default.createElement("div",{style:v.saturation},r.default.createElement(i.Saturation,{style:v.Saturation,hsl:u,hsv:c,onChange:p})),r.default.createElement("div",{style:v.controls,className:"flexbox-fix"},r.default.createElement("div",{style:v.sliders},r.default.createElement("div",{style:v.hue},r.default.createElement(i.Hue,{style:v.Hue,hsl:u,onChange:p})),r.default.createElement("div",{style:v.alpha},r.default.createElement(i.Alpha,{style:v.Alpha,rgb:n,hsl:u,renderers:b,onChange:p}))),r.default.createElement("div",{style:v.color},r.default.createElement(i.Checkboard,null),r.default.createElement("div",{style:v.activeColor}))),r.default.createElement(s.default,{rgb:n,hsl:u,hex:a,onChange:p,disableAlpha:h}),r.default.createElement(l.default,{colors:f,onClick:p,onSwatchHover:d}))};u.propTypes={disableAlpha:a.default.bool,width:a.default.oneOfType([a.default.string,a.default.number])},u.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,i.ColorWrap)(u)},1219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(225)),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,c=e.disableAlpha,u=(0,a.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:c}),p=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:u.fields,className:"flexbox-fix"},r.default.createElement("div",{style:u.double},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:l.replace("#",""),onChange:p})),r.default.createElement("div",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.single},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:u.alpha},r.default.createElement(i.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*n.a),onChange:p,dragLabel:"true",dragMax:"100"})))};t.default=l},1220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(2)),i=l(n(53)),s=n(98);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,c=(0,i.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){o({hex:e,source:"hex"},t)};return a.default.createElement("div",{style:c.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return a.default.createElement("div",{key:n,style:c.swatchWrap},a.default.createElement(s.Swatch,r({},t,{style:c.swatch,onClick:u,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};c.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=c},1221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=l(n(0)),a=l(n(53)),o=n(98),i=l(n(1222)),s=l(n(1224));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Slider=function(e){var t=e.hsl,n=e.onChange,s=e.pointer,l=e.className,c=void 0===l?"":l,u=(0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return r.default.createElement("div",{className:"slider-picker "+c},r.default.createElement("div",{style:u.hue},r.default.createElement(o.Hue,{style:u.Hue,hsl:t,pointer:s,onChange:n})),r.default.createElement("div",{style:u.swatches},r.default.createElement(i.default,{hsl:t,onClick:n})))};c.defaultProps={pointer:s.default},t.default=(0,o.ColorWrap)(c)},1222:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=i(n(0)),a=i(n(53)),o=i(n(1223));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,i=(0,a.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:i.swatches},r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:i.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:i.clear}))};t.default=s},1223:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,i=void 0===o?function(){}:o,s=e.active,l=e.first,c=e.last,u=(0,a.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:c});return r.default.createElement("div",{style:u.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=i},1224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(0)),a=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.SliderPointer=function(){var e=(0,a.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=i},1225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=p(n(0)),a=p(n(2)),o=p(n(53)),i=p(n(292)),s=p(n(225)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(926)),c=n(98),u=p(n(1226));function p(e){return e&&e.__esModule?e:{default:e}}var d=t.Swatches=function(e){var t=e.width,n=e.height,a=e.onChange,l=e.onSwatchHover,p=e.colors,d=e.hex,h=e.className,f=void 0===h?"":h,b=(0,o.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),m=function(e,t){s.default.isValidHex(e)&&a({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:b.picker,className:"swatches-picker "+f},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:b.overflow},r.default.createElement("div",{style:b.body},(0,i.default)(p,(function(e){return r.default.createElement(u.default,{key:e.toString(),group:e,active:d,onClick:m,onSwatchHover:l})})),r.default.createElement("div",{style:b.clear})))))};d.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),colors:a.default.arrayOf(a.default.arrayOf(a.default.string))},d.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],["#194D33",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,c.ColorWrap)(d)},1226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(292)),i=s(n(1227));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,c=(0,a.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:c.group},(0,o.default)(s,(function(e,a){return r.default.createElement(i.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===a,last:a===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},1227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=s(n(0)),a=s(n(53)),o=s(n(225)),i=n(98);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.first,u=e.last,p=e.active,d=(0,a.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:c,last:u,active:p,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(i.Swatch,{color:t,style:d.color,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:d.check},r.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=l},1228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=c(n(0)),a=c(n(2)),o=c(n(53)),i=c(n(292)),s=c(n(225)),l=n(98);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,a=e.hex,c=e.colors,u=e.width,p=e.triangle,d=e.className,h=void 0===d?"":d,f=(0,o.default)({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===p,"top-left-triangle":"top-left"===p,"top-right-triangle":"top-right"===p}),b=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:f.card,className:"twitter-picker "+h},r.default.createElement("div",{style:f.triangleShadow}),r.default.createElement("div",{style:f.triangle}),r.default.createElement("div",{style:f.body},(0,i.default)(c,(function(e,t){return r.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:f.swatch,onClick:b,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:f.hash},"#"),r.default.createElement(l.EditableInput,{style:{input:f.input},value:a.replace("#",""),onChange:b}),r.default.createElement("div",{style:f.clear})))};u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),triangle:a.default.oneOf(["hide","top-left","top-right"]),colors:a.default.arrayOf(a.default.string)},u.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,l.ColorWrap)(u)},1229:function(e,t,n){},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11),a=n.n(r),o=(n(0),n(56)),i=n(1);function s(){const e=a()(["\n  z-index: 1000;\n  width: 50px;\n  position: relative;\n  margin: 10px;\n  &.inline {\n    margin: 0px;\n    width: 30px;\n  }\n  &.floating {\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]);return s=function(){return e},e}const l=o.a.img(s());function c({position:e="floating"}){return Object(i.e)(l,{className:"loading "+e,alt:"Loading...",src:"/static/assets/images/loading.gif"})}},1230:function(e,t,n){},1231:function(e,t,n){},1232:function(e,t,n){},153:function(e,t,n){"use strict";n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return P})),n.d(t,"a",(function(){return M}));n(113),n(213),n(33);var r=n(18),a=n.n(r),o=n(101),i=n.n(o),s=n(195),l=n.n(s),c=n(43),u=n.n(c),p=n(252),d=n.n(p),h=n(52),f=n.n(h),b=n(6),m=n.n(b),g=n(55),v=n.n(g),y=n(0),O=n.n(y),C=n(249),x=n(1);const w={"mode/sql":()=>n.e(77).then(n.t.bind(null,1234,7)),"mode/markdown":()=>Promise.all([n.e(13),n.e(12),n.e(21),n.e(67)]).then(n.t.bind(null,1235,7)),"mode/css":()=>Promise.all([n.e(12),n.e(74)]).then(n.t.bind(null,1236,7)),"mode/json":()=>n.e(66).then(n.t.bind(null,1237,7)),"mode/yaml":()=>n.e(78).then(n.t.bind(null,1238,7)),"mode/html":()=>Promise.all([n.e(13),n.e(12),n.e(21),n.e(75)]).then(n.t.bind(null,1239,7)),"mode/javascript":()=>Promise.all([n.e(13),n.e(76)]).then(n.t.bind(null,1240,7)),"theme/textmate":()=>n.e(80).then(n.t.bind(null,1241,7)),"theme/github":()=>n.e(79).then(n.t.bind(null,1242,7)),"ext/language_tools":()=>n.e(73).then(n.t.bind(null,1243,7))};function E(e,{defaultMode:t,defaultTheme:r,defaultTabSize:o=2,placeholder:s}={}){return Object(C.a)(async()=>{var s,c;const{default:p}=await Promise.all([n.e(0),n.e(20)]).then(n.t.bind(null,1167,7)),{default:h}=await Promise.all([n.e(0),n.e(20),n.e(51)]).then(n.t.bind(null,1244,7));await v.a.all(m()(e).call(e,e=>w[e]()));const b=t||(null===(s=f()(e).call(e,e=>d()(e).call(e,"mode/")))||void 0===s?void 0:s.replace("mode/","")),g=r||(null===(c=f()(e).call(e,e=>d()(e).call(e,"theme/")))||void 0===c?void 0:c.replace("theme/",""));return O.a.forwardRef((function(e,t){let{keywords:n,mode:r=b,theme:s=g,tabSize:c=o}=e,d=u()(e,["keywords","mode","theme","tabSize"]);if(n){const e={getCompletions:(e,t,a,o,s)=>{l()(i()(o,10))&&t.getMode().$id==="ace/mode/"+r&&s(null,n)}};p.acequire("ace/ext/language_tools").setCompleters([e])}return Object(x.e)(h,a()({ref:t,mode:r,theme:s,tabSize:c},d))}))},s)}const S=E(["mode/sql","theme/github","ext/language_tools"]),_=E(["mode/sql","theme/github","ext/language_tools"],{placeholder:()=>Object(x.e)("div",{style:{height:"100%"}},Object(x.e)("div",{style:{width:41,height:"100%",background:"#e8e8e8"}}),Object(x.e)("div",{className:"ace_content"}))}),j=E(["mode/markdown","theme/textmate"]),T=E(["mode/markdown","mode/sql","mode/json","mode/html","mode/javascript","theme/textmate"]),k=E(["mode/css","theme/github"]),P=E(["mode/json","theme/github"]),M=E(["mode/json","mode/yaml","theme/github"])},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(88),a=n.n(r),o=n(64),i=n.n(o);function s(e){const t=new i.a;return a()(e,(e,n)=>{if("object"==typeof n&&null!==n){if(t.has(n))try{return JSON.parse(a()(n))}catch(e){return}t.add(n)}return n})}},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterPropsFrom=function(e){e=e||{};var t={};for(var n in e)n in r||(t[n]=e[n]);return t};var r={hideTableHeader:!0,column:!0,columns:!0,sortable:!0,filterable:!0,filtering:!0,onFilter:!0,filterPlaceholder:!0,filterClassName:!0,currentFilter:!0,sort:!0,sortBy:!0,sortableColumns:!0,onSort:!0,defaultSort:!0,defaultSortDescending:!0,itemsPerPage:!0,filterBy:!0,hideFilterInput:!0,noDataText:!0,currentPage:!0,onPageChange:!0,previousPageLabel:!0,nextPageLabel:!0,pageButtonLimit:!0,childNode:!0,data:!0,children:!0}},168:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));n(141),n(33);var r=n(101),a=n.n(r),o=n(34),i=n.n(o);function s({chartId:e,column:t}){return e+"_"+t}function l(e){const[t,...n]=e.split("_"),r=i()(n).call(n).join("_");return{chartId:a()(t,10),column:r}}},1992:function(e,t,n){},1993:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_EVENT",(function(){return r})),n.d(t,"logEvent",(function(){return a}));const r="LOG_EVENT";function a(e,t){return n=>n({type:r,payload:{eventName:e,eventData:t}})}},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.unsafe=function(e){return new a(e)},t.isUnsafe=function(e){return e instanceof a};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content=t}return r(e,[{key:"toString",value:function(){return this.content}}]),e}()},221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),o=(r=a)&&r.__esModule?r:{default:r},i=n(652),s=n(343),l=n(344),c=n(269),u=n(345),p=n(342),d=n(658),h=n(212);o.default.Children.children=function(e){return o.default.Children.map(e,(function(e){return e}))||[]};var f={Table:i.Table,Tr:s.Tr,Td:l.Td,Th:c.Th,Tfoot:u.Tfoot,Thead:p.Thead,Sort:d.Sort,unsafe:h.unsafe};t.default=f,"undefined"!=typeof window&&(window.Reactable=f),e.exports=t.default},225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(1567)),a=o(n(930));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},toState:function(e,t){var n=e.hex?(0,a.default)(e.hex):(0,a.default)(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===i.a?"transparent":"#"+s,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,a.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},248:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));n(33);var r=n(18),a=n.n(r),o=n(3),i=n.n(o),s=n(229),l=n.n(s),c=n(64),u=n.n(c),p=n(1085),d=n.n(p),h=n(50),f=n.n(h),b=n(14),m=n.n(b),g=n(6),v=n.n(g),y=n(10),O=n.n(y),C=n(5),x=n.n(C),w=n(0),E=n.n(w),S=n(2),_=n.n(S),j=n(7),T=n(41),k=n(48),P=n(1);const M={autoFocus:_.a.bool,choices:_.a.array,clearable:_.a.bool,description:_.a.string,disabled:_.a.bool,freeForm:_.a.bool,isLoading:_.a.bool,label:_.a.string,multi:_.a.bool,isMulti:_.a.bool,allowAll:_.a.bool,name:_.a.string.isRequired,onChange:_.a.func,onFocus:_.a.func,value:_.a.oneOfType([_.a.string,_.a.number,_.a.array]),showHeader:_.a.bool,optionRenderer:_.a.func,valueRenderer:_.a.func,valueKey:_.a.string,options:_.a.array,placeholder:_.a.string,noResultsText:_.a.string,selectRef:_.a.func,filterOption:_.a.func,promptTextCreator:_.a.func,commaChoosesOption:_.a.bool},R={autoFocus:!1,choices:[],clearable:!0,description:null,disabled:!1,freeForm:!1,isLoading:!1,label:null,multi:!1,onChange:()=>{},onFocus:()=>{},showHeader:!0,valueKey:"value",noResultsText:Object(j.c)("No results found"),promptTextCreator:e=>"Create Option "+e,commaChoosesOption:!0,allowAll:!1};class D extends E.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.state={options:this.getOptions(e)},this.onChange=x()(t=this.onChange).call(t,this),this.createMetaSelectAllOption=x()(n=this.createMetaSelectAllOption).call(n,this),this.select=null,this.getSelectRef=x()(r=this.getSelectRef).call(r,this),this.handleKeyDownForCreate=x()(a=this.handleKeyDownForCreate).call(a,this)}UNSAFE_componentWillReceiveProps(e){if(e.choices!==this.props.choices||e.options!==this.props.options){const t=this.getOptions(e);this.setState({options:t})}}onChange(e){let t=null;if(e)if(this.props.multi)t=[],O()(e).call(e,e=>{var n,r;!0!==e.meta?t.push(e[this.props.valueKey]||e):this.props.onChange(v()(n=m()(r=this.getOptions(this.props)).call(r,e=>!e.meta)).call(n,e=>e[this.props.valueKey]))});else{if(!0===e.meta)return;t=e[this.props.valueKey]}this.props.onChange(t)}getSelectRef(e){this.select=e,this.props.selectRef&&this.props.selectRef(e)}getOptions(e){let t=[];var n;if(e.options)t=v()(n=e.options).call(n,e=>e);else if(e.choices){var r;t=v()(r=e.choices).call(r,t=>{if(f()(t)){const[n,r]=t.length>1?t:[t[0],t[0]];return{label:r,[e.valueKey]:n}}return d()(t)?t:{label:t,[e.valueKey]:t}})}if(e.freeForm&&e.value){const n=new u.a(v()(t).call(t,t=>t[e.valueKey])),r=f()(e.value)?e.value:[e.value];O()(r).call(r,r=>{n.has(r)||t.unshift({label:r,[e.valueKey]:r})})}return!0===e.allowAll&&!0===e.multi?l()(t).call(t,e=>this.isMetaSelectAllOption(e))<0&&t.unshift(this.createMetaSelectAllOption()):t=m()(t).call(t,e=>!this.isMetaSelectAllOption(e)),t}handleKeyDownForCreate(e){const{key:t}=e;("Tab"===t||this.props.commaChoosesOption&&","===t)&&this.select&&this.select.onKeyDown(i()({},e,{key:"Enter"}))}isMetaSelectAllOption(e){return e.meta&&!0===e.meta&&"Select All"===e.label}createMetaSelectAllOption(){const e={label:"Select All",meta:!0};return e[this.props.valueKey]="Select All",e}render(){const e=this.props.placeholder||Object(j.c)("%s option(s)",this.state.options.length),t=this.props.isMulti||this.props.multi,n={autoFocus:this.props.autoFocus,isMulti:t,selectRef:this.getSelectRef,name:"select-"+this.props.name,placeholder:e,options:this.state.options,value:this.props.value,labelKey:"label",valueKey:this.props.valueKey,clearable:this.props.clearable,isLoading:this.props.isLoading,onChange:this.onChange,onFocus:this.props.onFocus,optionRenderer:this.props.optionRenderer,valueRenderer:this.props.valueRenderer,noResultsText:this.props.noResultsText,disabled:this.props.disabled,filterOption:this.props.filterOption,promptTextCreator:this.props.promptTextCreator,ignoreAccents:!1};let r;return this.props.freeForm?(r=T.c,n.onKeyDown=this.handleKeyDownForCreate):r=T.f,Object(P.e)("div",null,this.props.showHeader&&Object(P.e)(k.a,this.props),t?Object(P.e)(T.d,a()({},n,{selectWrap:r})):Object(P.e)(r,n))}}D.propTypes=M,D.defaultProps=R},249:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(33);var r=n(18),a=n.n(r),o=n(55),i=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),p=n(123),d=n(1);function h({width:e,height:t,showLoadingForImport:n=!1,placeholderStyle:r}){return t&&Object(d.e)("div",{key:"async-asm-placeholder",style:l()({width:e,height:t},r)},n&&Object(d.e)(p.a,{position:"floating"}))||null}function f(e,t=h){let n,r;function o(){return n||(n=e instanceof i.a?e:e()),r||n.then(e=>{r=e.default||e}),n}const s=u.a.forwardRef((function(e,n){const[i,s]=Object(c.useState)(void 0!==r);Object(c.useEffect)(()=>{let e=!0;return i||o().then(()=>{e&&s(!0)}),()=>{e=!1}});const l=r||t;return l?Object(d.e)(l,a()({ref:l===r?n:null},e)):null}));return s.preload=o,s}},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(0);var r=n(2),a=n.n(r),o=n(102),i=n(1);const s={title:a.a.string.isRequired,isSelected:a.a.bool.isRequired,onSelect:a.a.func.isRequired,info:a.a.string,children:a.a.node.isRequired};function l({title:e,isSelected:t,children:n,onSelect:r,info:a}){return Object(i.e)("div",{className:"PopoverSection "+(t?"":"dimmed")},Object(i.e)("div",{role:"button",tabIndex:0,onClick:r,className:"pointer"},Object(i.e)("strong",null,e),"  ",a&&Object(i.e)(o.a,{tooltip:a,label:"date-free-tooltip"})," ",Object(i.e)("i",{className:t?"fa fa-check text-primary":""})),Object(i.e)("div",{className:"m-t-5 m-l-5"},n))}l.propTypes=s},269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,l=n(0),c=(s=l)&&s.__esModule?s:{default:s},u=n(212),p=n(163),d=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){return(0,u.isUnsafe)(this.props.children)?c.default.createElement("th",r({},(0,p.filterPropsFrom)(this.props),{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):c.default.createElement("th",(0,p.filterPropsFrom)(this.props),this.props.children)}}]),t}(c.default.Component);t.Th=d},276:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(18),a=n.n(r),o=n(5),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),p=n(48),d=n(349),h=n(1);const f={value:u.a.bool,label:u.a.string,onChange:u.a.func},b={paddingRight:"5px"};class m extends l.a.Component{onChange(){this.props.onChange(!this.props.value)}renderCheckbox(){var e;return Object(h.e)(d.a,{onChange:i()(e=this.onChange).call(e,this),style:b,checked:!!this.props.value})}render(){var e;return this.props.label?Object(h.e)(p.a,a()({},this.props,{leftNode:this.renderCheckbox(),onClick:i()(e=this.onChange).call(e,this)})):this.renderCheckbox()}}m.propTypes=f,m.defaultProps={value:!1,onChange:()=>{}}},278:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(481),a=n.n(r),o=n(10),i=n.n(o),s=n(64),l=n.n(s);const c=function(){const e=document.getElementById("app");if(!e)return[];const t=JSON.parse(e.getAttribute("data-bootstrap")),n=new l.a([window.location.hostname]);var r;return t&&t.common&&t.common.conf&&t.common.conf.SUPERSET_WEBSERVER_DOMAINS&&i()(r=t.common.conf.SUPERSET_WEBSERVER_DOMAINS).call(r,e=>{n.add(e)}),a()(n)}(),u=c.length>1},280:function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return i[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=a[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=a[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var i=t.names=t.title={};for(o in r)i[r[o]]=o;for(var s in a)r[s]=a[s]},312:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(49),i=n.n(o),s=n(109);const l=["AND","AS","ASC","AVG","BY","CASE","COUNT","CREATE","CROSS","DATABASE","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","END","FOREIGN","FROM","GRANT","GROUP","HAVING","IF","INNER","INSERT","JOIN","KEY","LEFT","LIMIT","MAX","MIN","NATURAL","NOT","NULL","OFFSET","ON","OR","ORDER","OUTER","PRIMARY","REFERENCES","RIGHT","SELECT","SUM","TABLE","THEN","TYPE","UNION","UPDATE","WHEN","WHERE"],c=i()(l).call(l,["BIGINT","BINARY","BIT","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","MONEY","NUMBER","NUMERIC","REAL","SET","TEXT","TIMESTAMP","VARCHAR"]),u=a()(c).call(c,e=>({meta:"sql",name:e,score:s.l,value:e}));t.a=u},331:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));n(0);var r=n(1);const a=()=>Object(r.e)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(r.e)("path",{d:"M16 0H2C0.89 0 0 0.9 0 2V16C0 17.1 0.89 18 2 18H16C17.11 18 18 17.1 18 16V2C18 0.9 17.11 0 16 0Z",fill:"#20A7C9"}),Object(r.e)("path",{d:"M7 14L2 9L3.41 7.59L7 11.17L14.59 3.58L16 5L7 14Z",fill:"white"})),o=()=>Object(r.e)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(r.e)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"#999999"}),Object(r.e)("path",{d:"M14 10H4V8H14V10Z",fill:"white"})),i=()=>Object(r.e)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(r.e)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"#CCCCCC"}),Object(r.e)("path",{d:"M16 2V16H2V2H16V2Z",fill:"white"}))},337:function(e,t,n){"use strict";n.r(t),n.d(t,"TIME_FILTER_MAP",(function(){return J})),n.d(t,"TIME_RANGE",(function(){return $}));n(113),n(141);var r=n(64),a=n.n(r),o=n(30),i=n.n(o),s=n(10),l=n.n(s),c=n(252),u=n.n(c),p=n(160),d=n.n(p),h=n(14),f=n.n(h),b=n(52),m=n.n(b),g=n(6),v=n.n(g),y=n(50),O=n.n(y),C=n(3),x=n.n(C),w=n(5),E=n.n(w),S=n(11),_=n.n(S),j=n(192),T=n.n(j),k=n(0),P=n.n(k),M=n(2),R=n.n(M),D=n(172),A=n(41),F=n(21),N=n(56),L=n(89),I=n(7),B=n(69),H=n(839),V=n(889),U=n(890),q=n(96),z=n(108),G=n(214),W=n(168),Y=n(476),K=n(26),Q=n(719),X=(n(1993),n(1));function Z(){const e=_()(["\n  height: 100%;\n  min-height: 100%;\n  max-height: 100%;\n  overflow: visible;\n"]);return Z=function(){return e},e}const J={time_range:"__time_range",granularity_sqla:"__time_col",time_grain_sqla:"__time_grain",druid_time_origin:"__time_origin",granularity:"__granularity"},$=J.time_range,ee={chartId:R.a.number.isRequired,origSelectedValues:R.a.object,datasource:R.a.object.isRequired,instantFiltering:R.a.bool,filtersFields:R.a.arrayOf(R.a.shape({field:R.a.string,label:R.a.string})),filtersChoices:R.a.objectOf(R.a.arrayOf(R.a.shape({id:R.a.string,text:R.a.string,filter:R.a.string,metric:R.a.number}))),onChange:R.a.func,onFilterMenuOpen:R.a.func,onFilterMenuClose:R.a.func,showDateFilter:R.a.bool,showSqlaTimeGrain:R.a.bool,showSqlaTimeColumn:R.a.bool,showDruidTimeGrain:R.a.bool,showDruidTimeOrigin:R.a.bool},te=N.a.div(Z());class ne extends P.a.Component{constructor(e){var t,n,r,a;super(e),this.state={selectedValues:e.origSelectedValues,hasChanged:!1},this.debouncerCache={},this.maxValueCache={},this.changeFilter=E()(t=this.changeFilter).call(t,this),this.onFilterMenuOpen=E()(n=this.onFilterMenuOpen).call(n,this),this.onOpenDateFilterControl=E()(r=this.onOpenDateFilterControl).call(r,this),this.onFilterMenuClose=E()(a=this.onFilterMenuClose).call(a,this)}onFilterMenuOpen(e){return this.props.onFilterMenuOpen(this.props.chartId,e)}onOpenDateFilterControl(){return this.onFilterMenuOpen($)}onFilterMenuClose(){return this.props.onFilterMenuClose(this.props.chartId)}getControlData(e){const{selectedValues:t}=this.state,n=x()({},q.c[e],{name:e,key:"control-"+e,value:t[J[e]],actions:{setControlValue:this.changeFilter}}),r=n.mapStateToProps;return r?x()({},n,r(this.props)):n}getKnownMax(e,t){return this.maxValueCache[e]=Math.max(this.maxValueCache[e]||0,Object(D.max)(t||this.props.filtersChoices[e]||[],e=>e.metric)),this.maxValueCache[e]}clickApply(){const{selectedValues:e}=this.state;this.setState({hasChanged:!1},()=>{this.props.onChange(e,!1)})}changeFilter(e,t){const n=J[e]||e;let r=null;null!==t&&(r=O()(t)?v()(t).call(t,e=>"string"==typeof e?e:e.value):t.value?t.value:t),this.setState(e=>({selectedValues:x()({},e.selectedValues,{[n]:r}),hasChanged:!0}),()=>{this.props.instantFiltering&&this.props.onChange({[n]:r},!1)})}debounceLoadOptions(e){return e in this.debouncerCache||(this.debouncerCache[e]=T()((t,n)=>{this.loadOptions(e,t).then(n)},500)),this.debouncerCache[e]}transformOptions(e,t){const n=void 0===t?Object(D.max)(e,e=>e.metric):t;return v()(e).call(e,e=>{const t=Math.round(e.metric/n*100),r={backgroundImage:"linear-gradient(to right, lightgrey, lightgrey "+t+"%, rgba(0,0,0,0) "+t+"%"};return{value:e.id,label:e.id,style:r}})}async loadOptions(e,t=""){var n,r,a;const o=t.toLowerCase(),i=m()(n=this.props.filtersFields).call(n,t=>t.key===e).asc,s=x()({},this.props.rawFormData,{adhoc_filters:t?[{clause:"WHERE",comparator:null,expressionType:"SQL",sqlExpression:"lower("+e+") like '%"+o+"%'"}]:null}),{json:l}=await L.a.get({url:Object(z.h)({formData:s,endpointType:"json",method:"GET"})}),c=f()(r=(null==l?void 0:null===(a=l.data)||void 0===a?void 0:a[e])||[]).call(r,e=>e.id);return c&&0!==c.length?(o&&d()(c).call(c,(e,t)=>{const n=e.id.toLowerCase(),r=t.id.toLowerCase(),a=u()(r).call(r,o)-u()(n).call(n,o);return 0===a?(e.metric-t.metric)*(i?1:-1):a}),this.transformOptions(c,this.getKnownMax(e,c))):[]}renderDateFilter(){const{showDateFilter:e,chartId:t}=this.props,n=K.m.time_range;return e?Object(X.e)("div",{className:"row space-1"},Object(X.e)("div",{className:"col-lg-12 col-xs-12 filter-container"},this.renderFilterBadge(t,$,n),Object(X.e)(H.a,{name:$,label:n,description:Object(I.c)("Select start and end date"),onChange:e=>{this.changeFilter($,e)},onOpenDateFilterControl:this.onOpenDateFilterControl,onCloseDateFilterControl:this.onFilterMenuClose,value:this.state.selectedValues[$]||"No filter"}))):null}renderDatasourceFilters(){const{showSqlaTimeGrain:e,showSqlaTimeColumn:t,showDruidTimeGrain:n,showDruidTimeOrigin:r}=this.props,a=[],o=[],i=[];return e&&o.push("time_grain_sqla"),t&&o.push("granularity_sqla"),n&&i.push("granularity"),r&&i.push("druid_time_origin"),o.length&&a.push(Object(X.e)(V.a,{key:"sqla-filters",className:"control-row",controls:v()(o).call(o,e=>Object(X.e)(U.a,this.getControlData(e)))})),i.length&&a.push(Object(X.e)(V.a,{key:"druid-filters",className:"control-row",controls:v()(i).call(i,e=>Object(X.e)(U.a,this.getControlData(e)))})),a}renderSelect(e){var t,n;const{filtersChoices:r}=this.props,{selectedValues:o}=this.state;this.debouncerCache={},this.maxValueCache={},l()(t=f()(n=i()(o)).call(n,e=>o.hasOwnProperty(e)&&e in r)).call(t,e=>{var t;const n=r[e]||(r[e]=[]),i=new a.a(v()(n).call(n,e=>e.id)),s=O()(o[e])?o[e]:[o[e]];l()(t=f()(s).call(s,e=>null!==e&&!i.has(e))).call(t,t=>{n.unshift({filter:e,id:t,text:t,metric:0})})});const{key:s,label:c}=e,u=r[s]||[];let p=o[s]||null;return void 0===p&&e[K.f.DEFAULT_VALUE]&&(p=e[K.f.MULTIPLE]?e[K.f.DEFAULT_VALUE].split(";"):e[K.f.DEFAULT_VALUE]),Object(X.e)(G.a,{cacheOptions:!0,loadOptions:this.debounceLoadOptions(s),defaultOptions:this.transformOptions(u),key:s,placeholder:Object(I.c)("Type or Select [%s]",c),isMulti:e[K.f.MULTIPLE],isClearable:e[K.f.CLEARABLE],value:p,options:this.transformOptions(u),onChange:e=>{e!==p&&this.changeFilter(s,e)},onFocus:()=>this.onFilterMenuOpen(s),onMenuOpen:()=>this.onFilterMenuOpen(s),onBlur:this.onFilterMenuClose,onMenuClose:this.onFilterMenuClose,selectWrap:e[K.f.SEARCH_ALL_OPTIONS]&&u.length>=K.g?A.a:A.c,noResultsText:Object(I.c)("No results found")})}renderFilters(){const{filtersFields:e,chartId:t}=this.props;return v()(e).call(e,e=>{const{label:n,key:r}=e;return Object(X.e)("div",{key:r,className:"m-b-5 filter-container"},this.renderFilterBadge(t,r,n),Object(X.e)("div",null,Object(X.e)(B.a,{htmlFor:"LABEL-"+r},n),this.renderSelect(e)))})}renderFilterBadge(e,t){const n=Object(W.b)({chartId:e,column:t}),r=Object(Y.b)()[n];return Object(X.e)("div",{className:"filter-badge-container"},Object(X.e)(Q.a,{colorCode:r}))}render(){var e;const{instantFiltering:t}=this.props;return Object(X.e)(te,null,this.renderDateFilter(),this.renderDatasourceFilters(),this.renderFilters(),!t&&Object(X.e)(F.a,{buttonSize:"small",buttonStyle:"primary",onClick:E()(e=this.clickApply).call(e,this),disabled:!this.state.hasChanged},Object(I.c)("Apply")))}}ne.propTypes=ee,ne.defaultProps={origSelectedValues:{},onChange:()=>{},onFilterMenuOpen:()=>{},onFilterMenuClose:()=>{},showDateFilter:!1,showSqlaTimeGrain:!1,showSqlaTimeColumn:!1,showDruidTimeGrain:!1,showDruidTimeOrigin:!1,instantFiltering:!1},t.default=ne},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringable=function(e){return null!=e&&typeof("function"===e.toString)}},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,l=n(0),c=(s=l)&&s.__esModule?s:{default:s},u=n(269),p=n(654),d=n(163),h=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"handleClickTh",value:function(e){this.props.onSort(e.key)}},{key:"handleKeyDownTh",value:function(e,t){13===t.keyCode&&this.props.onSort(e.key)}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.columns.length;t++){var n=this.props.columns[t],a="reactable-th-"+n.key.replace(/\s+/g,"-").toLowerCase(),o="",i=null;this.props.sortableColumns[n.key]&&(o+="reactable-header-sortable ",i="button"),this.props.sort.column===n.key&&(o+="reactable-header-sort",1===this.props.sort.direction?o+="-asc":o+="-desc"),o.length>0&&(a+=" "+o),"object"==typeof n.props&&"string"==typeof n.props.className&&(a+=" "+n.props.className),e.push(c.default.createElement(u.Th,r({},n.props,{className:a,key:t,onClick:this.handleClickTh.bind(this,n),onKeyDown:this.handleKeyDownTh.bind(this,n),role:i,tabIndex:"0"}),n.label))}var s=(0,d.filterPropsFrom)(this.props);return c.default.createElement("thead",s,!0===this.props.filtering?c.default.createElement(p.Filterer,{colSpan:this.props.columns.length,onFilter:this.props.onFilter,placeholder:this.props.filterPlaceholder,value:this.props.currentFilter,className:this.props.filterClassName}):null,c.default.createElement("tr",{className:"reactable-column-header"},e))}}],[{key:"getColumns",value:function(e){var t=[];return c.default.Children.forEach(e.props.children,(function(e){var n={};if(e){if(void 0!==e.props&&(n.props=(0,d.filterPropsFrom)(e.props),void 0!==e.props.children&&(n.label=e.props.children,n.key=n.label),"string"==typeof e.props.column&&(n.key=e.props.column,void 0===n.label&&(n.label=n.key))),void 0===n.key)throw new TypeError('<th> must have either a "column" property or a string child');t.push(n)}})),t}}]),t}(c.default.Component);t.Thead=h},343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,l=n(0),c=(s=l)&&s.__esModule?s:{default:s},u=n(344),p=n(656),d=n(163),h=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=(0,p.toArray)(c.default.Children.children(this.props.children));this.props.data&&this.props.columns&&"function"==typeof this.props.columns.map&&(void 0===e.concat&&console.log(e),e=e.concat(this.props.columns.map(function(e,t){var n=e.props,a=void 0===n?{}:n,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["props"]);if(this.props.data.hasOwnProperty(o.key)){var i=this.props.data[o.key];return null!=i&&!0===i.__reactableMeta&&(a=i.props,i=i.value),c.default.createElement(u.Td,r({column:o,key:o.key},a),i)}return c.default.createElement(u.Td,{column:o,key:o.key})}.bind(this))));var t=(0,d.filterPropsFrom)(this.props);return c.default.createElement("tr",t,e)}}]),t}(c.default.Component);t.Tr=h,h.childNode=u.Td,h.dataType="object"},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s,l=n(0),c=(s=l)&&s.__esModule?s:{default:s},u=n(655),p=n(341),d=n(212),h=n(163),f=function(e){function t(){i(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"stringifyIfNotReactComponent",value:function(e){return!(0,u.isReactComponent)(e)&&(0,p.stringable)(e)&&void 0!==e?e.toString():null}},{key:"render",value:function(){var e,t=(0,h.filterPropsFrom)(this.props);if("object"==typeof this.props.column)for(var n in this.props.column)"key"!==n&&"name"!==n&&(t[n]=this.props.column[n]);return t.onClick=this.props.handleClick,void 0===this.props.data&&(e=this.stringifyIfNotReactComponent(this.props.children)),(0,d.isUnsafe)(this.props.children)?c.default.createElement("td",r({},t,{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):c.default.createElement("td",t,e||this.props.children)}}]),t}(c.default.Component);t.Td=f},345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,s=n(0),l=(i=s)&&i.__esModule?i:{default:i},c=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return l.default.createElement("tfoot",this.props)}}]),t}(l.default.Component);t.Tfoot=c},349:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(11),a=n.n(r),o=(n(0),n(56)),i=n(331),s=n(1);function l(){const e=a()(["\n  &,\n  & svg {\n    vertical-align: top;\n  }\n"]);return l=function(){return e},e}const c=o.a.span(l());function u({checked:e,onChange:t,style:n}){return Object(s.e)(c,{style:n,onClick:()=>{t(!e)},role:"checkbox",tabIndex:0,"aria-checked":e,"aria-label":"Checkbox"},e?Object(s.e)(i.a,null):Object(s.e)(i.c,null))}},351:function(e,t,n){"use strict";var r=n(18),a=n.n(r),o=n(5),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),p=n(41),d=n(7),h=n(89),f=n(51),b=n(1);const m={dataEndpoint:u.a.string.isRequired,onChange:u.a.func.isRequired,mutator:u.a.func.isRequired,onAsyncError:u.a.func,value:u.a.oneOfType([u.a.number,u.a.arrayOf(u.a.number)]),valueRenderer:u.a.func,placeholder:u.a.string,autoSelect:u.a.bool},g={placeholder:Object(d.c)("Select ..."),onAsyncError:()=>{}};class v extends l.a.PureComponent{constructor(e){var t;super(e),this.state={isLoading:!1,options:[]},this.onChange=i()(t=this.onChange).call(t,this)}componentDidMount(){this.fetchOptions()}onChange(e){this.props.onChange(e)}fetchOptions(){this.setState({isLoading:!0});const{mutator:e,dataEndpoint:t}=this.props;return h.a.get({endpoint:t}).then(({json:t})=>{const n=e?e(t):t;this.setState({options:n,isLoading:!1}),!this.props.value&&this.props.autoSelect&&n.length>0&&this.onChange(n[0])}).catch(e=>Object(f.a)(e).then(e=>{this.props.onAsyncError(e.error||e.statusText||e),this.setState({isLoading:!1})}))}render(){return Object(b.e)(p.f,a()({placeholder:this.props.placeholder,options:this.state.options,value:this.props.value,isLoading:this.state.isLoading,onChange:this.onChange,valueRenderer:this.props.valueRenderer},this.props))}}v.propTypes=m,v.defaultProps=g,t.a=v},429:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){void 0===e&&(e={});var t=e.initialValue,n=e.placeholder,r=e.required;this.initialValue=t,this.placeholder=n,this.required=r};t.DialogPrompt=o;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o);t.TextPrompt=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o);t.PasswordPrompt=s},45:function(e,t,n){"use strict";var r;function a(e){window.featureFlags=e||{}}function o(e){return window&&window.featureFlags&&!!window.featureFlags[e]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),function(e){e.OMNIBAR="OMNIBAR",e.CLIENT_CACHE="CLIENT_CACHE",e.SCHEDULED_QUERIES="SCHEDULED_QUERIES",e.SQL_VALIDATORS_BY_ENGINE="SQL_VALIDATORS_BY_ENGINE",e.ESTIMATE_QUERY_COST="ESTIMATE_QUERY_COST",e.SHARE_QUERIES_VIA_KV_STORE="SHARE_QUERIES_VIA_KV_STORE",e.SQLLAB_BACKEND_PERSISTENCE="SQLLAB_BACKEND_PERSISTENCE",e.THUMBNAILS="THUMBNAILS",e.SIP_34_SAVED_QUERIES_UI="SIP_34_SAVED_QUERIES_UI",e.LISTVIEWS_DEFAULT_CARD_VIEW="LISTVIEWS_DEFAULT_CARD_VIEW",e.DISPLAY_MARKDOWN_HTML="DISPLAY_MARKDOWN_HTML",e.ESCAPE_MARKDOWN_HTML="ESCAPE_MARKDOWN_HTML"}(r||(r={}))},476:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return m}));var r=n(30),a=n.n(r),o=n(160),i=n.n(o),s=n(10),l=n.n(s),c=n(62),u=n.n(c),p=n(44),d=n.n(p),h=n(168);let f={};function b(){return f}function m(e={}){var t;let n=1;f=d()(t=u()(e)).call(t,(e,t)=>{var r,o;const{chartId:s,columns:c}=t;return l()(r=i()(o=a()(c)).call(o)).call(r,t=>{const r=Object(h.b)({chartId:s,column:t}),a="badge-"+n%20;e[r]=a,n+=1}),e},{})}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=c(n(1178)),a=c(n(1179)),o=c(n(1180)),i=c(n(1181)),s=c(n(1182)),l=c(n(1183));function c(e){return e&&e.__esModule?e:{default:e}}t.hover=i.default,t.handleHover=i.default,t.handleActive=s.default,t.loop=l.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=(0,r.default)(n),l=(0,a.default)(e,s);return(0,o.default)(l)};t.default=u},628:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n(33);var r=n(6),a=n.n(r),o=n(5),i=n.n(o),s=n(403),l=n.n(s),c=n(0),u=n.n(c),p=n(2),d=n.n(p),h=n(41),f=n(48),b=n(83),m=(n(932),n(1));const g={description:d.a.string,label:d.a.string.isRequired,name:d.a.string.isRequired,onChange:d.a.func,value:d.a.string,clearable:d.a.bool,default:d.a.string,choices:d.a.oneOfType([d.a.arrayOf(d.a.array),d.a.func]).isRequired,schemes:d.a.oneOfType([d.a.object,d.a.func]).isRequired,isLinear:d.a.bool};class v extends u.a.PureComponent{constructor(e){var t,n;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.renderOption=i()(n=this.renderOption).call(n,this)}onChange(e){const t=e?e.value:null;this.props.onChange(t)}renderOption(e){const{isLinear:t}=this.props,n=this.schemes[e.value];let r=[];return n&&(r=t?n.getColors(10):n.colors),Object(m.e)(b.a,{label:n.id+"-tooltip",tooltip:n.label},Object(m.e)("ul",{className:"color-scheme-container"},a()(r).call(r,(e,t)=>Object(m.e)("li",{key:n.id+"-"+t,style:{backgroundColor:e,border:"1px solid "+("white"===e?"black":e)}}," "))))}render(){var e;const{schemes:t,choices:n}=this.props;this.schemes=l()(t)?t():t;const r=a()(e=l()(n)?n():n).call(e,([e,t])=>{var n;return{value:e,label:(null===(n=this.schemes[e])||void 0===n?void 0:n.label)||t}}),o={multi:!1,name:"select-"+this.props.name,placeholder:"Select ("+r.length+")",default:this.props.default,options:r,value:this.props.value,autosize:!1,clearable:this.props.clearable,onChange:this.onChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption};return Object(m.e)("div",null,Object(m.e)(f.a,this.props),Object(m.e)(h.f,o))}}v.propTypes=g,v.defaultProps={choices:[],schemes:{},clearable:!1,onChange:()=>{}}},652:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o,i=n(0),s=(o=i)&&o.__esModule?o:{default:o},l=n(163),c=n(653),u=n(212),p=n(342),d=(n(269),n(343)),h=n(345),f=n(657),b=function(t){function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={currentPage:this.props.currentPage?this.props.currentPage:0,currentSort:{column:null,direction:this.props.defaultSortDescending?-1:1},filter:""},!1!==e.sortBy||!1!==e.defaultSort){var t=e.sortBy||e.defaultSort;this.state.currentSort=this.getCurrentSort(t)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"filterBy",value:function(e){this.setState({filter:e})}},{key:"translateColumnsArray",value:function(e){return e.map(function(e,t){if("string"==typeof e)return{key:e,label:e};if(void 0!==e.sortable){var n=!0===e.sortable?"default":e.sortable;this._sortable[e.key]=n}return e}.bind(this))}},{key:"parseChildData",value:function(e,t){var n=[],r=void 0;return void 0!==e.children&&s.default.Children.forEach(e.children,function(e){if(null!=e&&e)if(t)switch(e.type.displayName?e.type.displayName:null){case p.Thead:break;case h.Tfoot.name:void 0!==r&&console.warn("You can only have one <Tfoot>, but more than one was specified.Ignoring all but the last one"),r=e;break;case d.Tr.name:var a=e.props.data||{};s.default.Children.forEach(e.props.children,(function(e){if("object"==typeof e&&null!=e)if(void 0!==e.props.column){var t=void 0;if(void 0!==e.props.data)t=e.props.data;else{if(void 0===e.props.children)return void console.warn("exports.Td specified without a `data` property or children, ignoring");t=e.props.children}a[e.props.column]={value:t,props:(0,l.filterPropsFrom)(e.props),__reactableMeta:!0}}else console.warn("exports.Td specified without a `column` property, ignoring")})),n.push({data:a,props:(0,l.filterPropsFrom)(e.props),__reactableMeta:!0});break;default:console.warn("The only possible children of <Table> are <Thead>, <Tr>, or one <Tfoot>.")}else switch(e.type){case p.Thead:break;case h.Tfoot:void 0!==r&&console.warn("You can only have one <Tfoot>, but more than one was specified.Ignoring all but the last one"),r=e;break;case d.Tr:a=e.props.data||{};s.default.Children.forEach(e.props.children,(function(e){if("object"==typeof e&&null!=e)if(void 0!==e.props.column){var t=void 0;if(void 0!==e.props.data)t=e.props.data;else{if(void 0===e.props.children)return void console.warn("exports.Td specified without a `data` property or children, ignoring");t=e.props.children}a[e.props.column]={value:t,props:(0,l.filterPropsFrom)(e.props),__reactableMeta:!0}}else console.warn("exports.Td specified without a `column` property, ignoring")})),n.push({data:a,props:(0,l.filterPropsFrom)(e.props),__reactableMeta:!0});break;default:console.warn("The only possible children of <Table> are <Thead>, <Tr>, or one <Tfoot>.")}}.bind(this)),{data:n,tfoot:r}}},{key:"initialize",value:function(t){this.data=t.data||[];var n=e.hot,r=r=this.parseChildData(t,n),a=r,o=a.data,i=a.tfoot;this.data=this.data.concat(o),this.tfoot=i,this.initializeSorts(t),this.initializeFilters(t)}},{key:"initializeFilters",value:function(e){for(var t in this._filterable={},e.filterable){var n=e.filterable[t],r=void 0,a=void 0;if(n instanceof Object){if(void 0===n.column){console.warn("Filterable column specified without column name");continue}r=n.column,a="function"==typeof n.filterFunction?n.filterFunction:"default"}else r=n,a="default";this._filterable[r]=a}}},{key:"initializeSorts",value:function(e){for(var t in this._sortable={},e.sortable){var n=e.sortable[t],r=void 0,a=void 0;if(n instanceof Object){if(void 0===n.column)return void console.warn("Sortable column specified without column name");r=n.column,a="function"==typeof n.sortFunction?n.sortFunction:"default"}else r=n,a="default";this._sortable[r]=a}}},{key:"getCurrentSort",value:function(e){var t=void 0,n=void 0;if(e instanceof Object){if(void 0===e.column)return void console.warn("Default column specified without column name");if(t=e.column,void 0!==e.direction)if(1===e.direction||"asc"===e.direction)n=1;else if(-1===e.direction||"desc"===e.direction)n=-1;else{var r=this.props.defaultSortDescending?"descending":"ascending";console.warn("Invalid default sort specified. Defaulting to "+r),n=this.props.defaultSortDescending?-1:1}else n=this.props.defaultSortDescending?-1:1}else t=e,n=this.props.defaultSortDescending?-1:1;return{column:t,direction:n}}},{key:"updateCurrentSort",value:function(e){!1!==e&&e.column!==this.state.currentSort.column&&e.direction!==this.state.currentSort.direction&&this.setState({currentSort:this.getCurrentSort(e)})}},{key:"updateCurrentPage",value:function(e){void 0!==e&&e!==this.state.currentPage&&this.setState({currentPage:e})}},{key:"componentWillMount",value:function(){this.initialize(this.props),this.sortByCurrentSort(),this.filterBy(this.props.filterBy)}},{key:"componentWillReceiveProps",value:function(e){this.initialize(e),this.updateCurrentPage(e.currentPage),this.updateCurrentSort(e.sortBy),this.sortByCurrentSort(),this.filterBy(e.filterBy)}},{key:"applyFilter",value:function(e,t){e=e.toLowerCase();for(var n=[],r=0;r<t.length;r++){var a=t[r].props.data;for(var o in this._filterable)if(void 0!==a[o])if(void 0===this._filterable[o]||"default"===this._filterable[o]){if((0,c.extractDataFrom)(a,o).toString().toLowerCase().indexOf(e)>-1){n.push(t[r]);break}}else if(this._filterable[o]((0,c.extractDataFrom)(a,o).toString(),e)){n.push(t[r]);break}}return n}},{key:"sortByCurrentSort",value:function(){var e=this.state.currentSort;null!==e.column&&this.data.sort(function(t,n){var r=(0,c.extractDataFrom)(t,e.column);r=(0,u.isUnsafe)(r)?r.toString():r||"";var a=(0,c.extractDataFrom)(n,e.column);return a=(0,u.isUnsafe)(a)?a.toString():a||"",void 0===this._sortable[e.column]||"default"===this._sortable[e.column]?r<a?-1*e.direction:r>a?1*e.direction:0:1===e.direction?this._sortable[e.column](r,a):this._sortable[e.column](a,r)}.bind(this))}},{key:"onSort",value:function(e){if(void 0!==this._sortable[e]){var t=this.state.currentSort;t.column===e?t.direction*=-1:(t.column=e,t.direction=this.props.defaultSortDescending?-1:1),this.setState({currentSort:t}),this.sortByCurrentSort(),"function"==typeof this.props.onSort&&this.props.onSort(t)}}},{key:"render",value:function(){var e=this,t=[],n=void 0,a=!1,o=void 0===this.props.hideTableHeader,i=null;if(this.props.children&&(this.props.children.length>0&&this.props.children[0]&&this.props.children[0].type===p.Thead?i=this.props.children[0]:this.props.children.type===p.Thead&&(i=this.props.children)),(n=null!==i?p.Thead.getColumns(i):this.props.columns||[]).length>0&&(a=!0,n=this.translateColumnsArray(n)),this.data&&"function"==typeof this.data.map&&(t=t.concat(this.data.map(function(e,t){var o=e,i={};for(var l in!0===e.__reactableMeta&&(o=e.data,i=e.props),o)o.hasOwnProperty(l)&&!1===a&&function(){var e={key:l,label:l};void 0===n.find((function(t){return t.key===e.key}))&&n.push(e)}();return s.default.createElement(d.Tr,r({columns:n,key:t,data:o},i))}.bind(this)))),!0===this.props.sortable)for(var c=0;c<n.length;c++)this._sortable[n[c].key]="default";var u=!1;this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0&&!this.props.hideFilterInput&&(u=!0);var h=t;""!==this.state.filter&&(h=this.applyFilter(this.state.filter,h));var b=0,m=!1,g=void 0,v=this.state.currentPage,y=this.props.pageButtonLimit||10,O=h;this.props.itemsPerPage>0&&(b=this.props.itemsPerPage,v>(g=Math.ceil(h.length/b))-1&&(v=g-1),m=!0,O=h.slice(v*b,(v+1)*b));var C=(0,l.filterPropsFrom)(this.props),x=this.props.noDataText?s.default.createElement("tr",{className:"reactable-no-data"},s.default.createElement("td",{colSpan:n.length},this.props.noDataText)):null,w=null;return n&&n.length>0&&o&&(w=s.default.createElement(p.Thead,{columns:n,filtering:u,onFilter:function(t){e.setState({filter:t}),e.props.onFilter&&e.props.onFilter(t)},filterPlaceholder:this.props.filterPlaceholder,filterClassName:this.props.filterClassName,currentFilter:this.state.filter,sort:this.state.currentSort,sortableColumns:this._sortable,onSort:this.onSort.bind(this),key:"thead"})),s.default.createElement("table",C,w,s.default.createElement("tbody",{className:"reactable-data",key:"tbody"},O.length>0?O:x),!0===m?s.default.createElement(f.Paginator,{colSpan:n.length,pageButtonLimit:y,numPages:g,currentPage:v,onPageChange:function(t){e.setState({currentPage:t}),e.props.onPageChange&&e.props.onPageChange(t)},previousPageLabel:this.props.previousPageLabel,nextPageLabel:this.props.nextPageLabel,key:"paginator"}):null,this.tfoot)}}]),n}(s.default.Component);t.Table=b,b.defaultProps={sortBy:!1,defaultSort:!1,defaultSortDescending:!1,itemsPerPage:0,filterBy:"",hideFilterInput:!1}}).call(this,n(315)(e))},653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractDataFrom=function(e,t){var n;n=null!=e&&!0===e.__reactableMeta?e.data[t]:e[t];null!=n&&!0===n.__reactableMeta&&(n=void 0!==n.props.value&&null!==n.props.value?n.props.value:n.value);return(0,r.stringable)(n)?n:""};var r=n(341)},654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=o(n(0)),c=o(n(17)),u=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,e),r(t,[{key:"onChange",value:function(){this.props.onFilter(c.default.findDOMNode(this).value)}},{key:"render",value:function(){return l.default.createElement("input",{type:"text",className:this.props.className,placeholder:this.props.placeholder,value:this.props.value,onKeyUp:this.onChange.bind(this),onChange:this.onChange.bind(this)})}}]),t}(l.default.Component);t.FiltererInput=u;var p=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,e),r(t,[{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Filterer");return l.default.createElement("tr",{className:"reactable-filterer"},l.default.createElement("td",{colSpan:this.props.colSpan},l.default.createElement(u,{onFilter:this.props.onFilter,value:this.props.value,placeholder:this.props.placeholder,className:this.props.className?"reactable-filter-input "+this.props.className:"reactable-filter-input"})))}}]),t}(l.default.Component);t.Filterer=p},655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReactComponent=function(e){return null!==e&&"object"==typeof e&&void 0!==e.props}},656:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=function(e){var t=[];for(var n in e)t[n]=e;return t}},657:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(i)}var c=Object.getPrototypeOf(a);if(null===c)return;e=c,t=o,n=i,r=!0,s=c=void 0}};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,s=n(0),l=(i=s)&&i.__esModule?i:{default:i};function c(e){return"#page-"+(e+1)}var u=function(e){function t(){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handlePrevious",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage-1)}},{key:"handleNext",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage+1)}},{key:"handlePageButton",value:function(e,t){t.preventDefault(),this.props.onPageChange(e)}},{key:"renderPrevious",value:function(){if(this.props.currentPage>0)return l.default.createElement("a",{className:"reactable-previous-page",href:c(this.props.currentPage-1),onClick:this.handlePrevious.bind(this)},this.props.previousPageLabel||"Previous")}},{key:"renderNext",value:function(){if(this.props.currentPage<this.props.numPages-1)return l.default.createElement("a",{className:"reactable-next-page",href:c(this.props.currentPage+1),onClick:this.handleNext.bind(this)},this.props.nextPageLabel||"Next")}},{key:"renderPageButton",value:function(e,t){return l.default.createElement("a",{className:e,key:t,href:c(t),onClick:this.handlePageButton.bind(this,t)},t+1)}},{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Paginator");if(void 0===this.props.numPages)throw new TypeError("Must pass a non-zero numPages argument to Paginator");if(void 0===this.props.currentPage)throw new TypeError("Must pass a currentPage argument to Paginator");for(var e=[],t=this.props.pageButtonLimit,n=this.props.currentPage,r=this.props.numPages,a=Math.round(t/2),o=t-a,i=0;i<this.props.numPages;i++){var s=i,c="reactable-page-button";n===i&&(c+=" reactable-current-page"),e.push(this.renderPageButton(c,s))}return n-t+a>0&&(n>r-a?e.splice(0,r-t):e.splice(0,n-t+a)),r-n>o&&e.splice(t,e.length-t),l.default.createElement("tbody",{className:"reactable-pagination"},l.default.createElement("tr",null,l.default.createElement("td",{colSpan:this.props.colSpan},this.renderPrevious(),e,this.renderNext())))}}]),t}(l.default.Component);t.Paginator=u},658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Numeric:function(e,t){var n=parseFloat(e.toString().replace(/,/g,"")),r=parseFloat(t.toString().replace(/,/g,""));if(isNaN(n)&&isNaN(r))n=e,r=t;else{if(isNaN(n))return 1;if(isNaN(r))return-1}return n<r?-1:n>r?1:0},NumericInteger:function(e,t){return isNaN(e)||isNaN(t)?e>t?1:-1:e-t},Currency:function(e,n){return e=e.replace(/[^0-9\.\-\,]+/g,""),n=n.replace(/[^0-9\.\-\,]+/g,""),t.Sort.Numeric(e,n)},Date:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){var r=Date.parse(e),a=Date.parse(n);return isNaN(r)||isNaN(a)?t.Sort.Numeric(e,n):r>a?1:a>r?-1:0})),CaseInsensitive:function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}};t.Sort=r},712:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(34),a=n.n(r),o=n(29),i=n.n(o),s=n(888),l=n.n(s),c=n(6),u=n.n(c),p=n(49),d=n.n(p),h=n(14),f=n.n(h),b=n(5),m=n.n(b),g=n(64),v=n.n(g),y=n(0),O=n.n(y),C=n(2),x=n.n(C),w=n(850),E=n(692),S=n(91),_=n(136),j=n(67),T=n(306),k=n(161),P=n(7),M=n(63),R=n(48),D=(n(927),n(1));const A={description:x.a.string,label:x.a.string,name:x.a.string.isRequired,onChange:x.a.func,value:x.a.string.isRequired},F=Object(k.a)(),N={cursor:"pointer"},L=["line","big_number","table","filter_box","dist_bar","area","bar","deck_polygon","pie","time_table","pivot_table","histogram","big_number_total","deck_scatter","deck_hex","time_pivot","deck_arc","heatmap","deck_grid","dual_line","deck_screengrid","line_multi","treemap","box_plot","sunburst","sankey","word_cloud","mapbox","kepler","cal_heatmap","rose","bubble","deck_geojson","horizon","deck_multi","compare","partition","event_flow","deck_path","directed_force","world_map","paired_ttest","para","country_map"],I=new v.a(L);class B extends O.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.state={showModal:!1,filter:""},this.toggleModal=m()(t=this.toggleModal).call(t,this),this.changeSearch=m()(n=this.changeSearch).call(n,this),this.setSearchRef=m()(r=this.setSearchRef).call(r,this),this.focusSearch=m()(a=this.focusSearch).call(a,this)}onChange(e){this.props.onChange(e),this.setState({showModal:!1})}setSearchRef(e){this.searchRef=e}toggleModal(){this.setState(e=>({showModal:!e.showModal}))}changeSearch(e){this.setState({filter:e.target.value})}focusSearch(){this.searchRef&&this.searchRef.focus()}renderItem(e){var t;const{value:n}=this.props,{key:r,value:a}=e,o=r===n;return Object(D.e)("div",{role:"button",tabIndex:0,className:"viztype-selector-container "+(o?"selected":""),onClick:m()(t=this.onChange).call(t,this,r)},Object(D.e)("img",{alt:a.name,width:"100%",className:"viztype-selector "+(o?"selected":""),src:a.thumbnail}),Object(D.e)("div",{className:"viztype-label"},a.name))}render(){var e,t,n,r;const{filter:o,showModal:s}=this.state,{value:c}=this.props,p=o.toLowerCase(),h=f()(e=d()(t=u()(n=f()(L).call(L,e=>F.has(e))).call(n,e=>({key:e,value:F.get(e)}))).call(t,f()(r=l()(F).call(F)).call(r,({key:e})=>!I.has(e)))).call(e,e=>{var t;return i()(t=e.value.name.toLowerCase()).call(t,p)}),b=[];for(let e=0;e<=h.length;e+=6){var m;b.push(Object(D.e)(w.a,{key:"row-"+e},u()(m=a()(h).call(h,e,e+6)).call(m,e=>Object(D.e)(E.a,{md:2,key:"grid-col-"+e.key},this.renderItem(e)))))}return Object(D.e)("div",null,Object(D.e)(R.a,this.props),Object(D.e)(S.a,{placement:"right",overlay:Object(D.e)(_.a,{id:"error-tooltip"},Object(P.c)("Click to change visualization type"))},Object(D.e)(O.a.Fragment,null,Object(D.e)(M.a,{onClick:this.toggleModal,style:N},F.has(c)?F.get(c).name:""+c),!F.has(c)&&Object(D.e)("div",{className:"text-danger"},Object(D.e)("i",{className:"fa fa-exclamation-circle text-danger"})," ",Object(D.e)("small",null,Object(P.c)("This visualization type is not supported."))))),Object(D.e)(j.a,{show:s,onHide:this.toggleModal,onEnter:this.focusSearch,onExit:this.setSearchRef,bsSize:"large"},Object(D.e)(j.a.Header,{closeButton:!0},Object(D.e)(j.a.Title,null,Object(P.c)("Select a visualization type"))),Object(D.e)(j.a.Body,null,Object(D.e)("div",{className:"viztype-control-search-box"},Object(D.e)(T.a,{inputRef:this.setSearchRef,type:"text",value:o,placeholder:Object(P.c)("Search"),onChange:this.changeSearch})),b)))}}B.propTypes=A,B.defaultProps={onChange:()=>{}}},715:function(e,t,n){"use strict";n(113),n(33);var r=n(6),a=n.n(r),o=n(3),i=n.n(o),s=n(88),l=n.n(s),c=n(11),u=n.n(c),p=n(0),d=n(67),h=n(1027),f=n(21),b=n(119),m=n.n(b),g=n(56),v=n(89),y=n(7),O=n(249),C=n(51),x=n(73),w=n(1);function E(){const e=u()(["\n  .modal-content {\n    height: 900px;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .modal-header {\n    flex: 0 1 auto;\n  }\n  .modal-body {\n    flex: 1 1 auto;\n    overflow: auto;\n  }\n\n  .modal-footer {\n    flex: 0 1 auto;\n  }\n"]);return E=function(){return e},e}const S=Object(O.a)(()=>Promise.all([n.e(0),n.e(39)]).then(n.bind(null,1564))),_=Object(g.a)(d.a)(E());function j(e){var t,n;return(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)?l()({certification:{certified_by:null!=(t=null==e?void 0:e.certified_by)?t:null,details:null!=(n=null==e?void 0:e.certification_details)?n:null}}):null}t.a=Object(x.a)(({addSuccessToast:e,datasource:t,onDatasourceSave:n,onHide:r,show:o})=>{const[s,l]=Object(p.useState)(t),[c,u]=Object(p.useState)([]),b=Object(p.useRef)(null),g=()=>{var t;v.a.post({endpoint:"/datasource/save/",postPayload:{data:i()({},s,{metrics:null==s?void 0:null===(t=s.metrics)||void 0===t?void 0:a()(t).call(t,e=>i()({},e,{extra:j(e)})),type:s.type||s.datasource_type})}}).then(({json:t})=>{e(Object(y.c)("The datasource has been saved")),n(t),r()}).catch(e=>Object(C.a)(e).then(({error:e})=>{b.current.show({title:"Error",bsSize:"medium",bsStyle:"danger",actions:[m.a.DefaultAction("Ok",()=>{},"btn-danger")],body:e||Object(y.c)("An error has occurred")})}))};return Object(w.e)(_,{show:o,onHide:r,bsSize:"large"},Object(w.e)(d.a.Header,{closeButton:!0},Object(w.e)(d.a.Title,null,Object(w.e)("div",null,Object(w.e)("span",{className:"float-left"},Object(y.c)("Edit Dataset "),Object(w.e)("strong",null,s.table_name))))),Object(w.e)(d.a.Body,null,o&&Object(w.e)(S,{showLoadingForImport:!0,height:500,datasource:s,onChange:(e,t)=>{var n;l(i()({},e,{metrics:null==e?void 0:a()(n=e.metrics).call(n,e=>i()({},e,{is_certified:(null==e?void 0:e.certified_by)||(null==e?void 0:e.certification_details)}))})),u(t)}})),Object(w.e)(d.a.Footer,null,Object(w.e)("span",{className:"float-left"},Object(w.e)(f.a,{buttonSize:"sm",buttonStyle:"default",target:"_blank",href:s.edit_url||s.url},Object(y.c)("Use Legacy Datasource Editor"))),Object(w.e)("span",{className:"float-right"},Object(w.e)(f.a,{buttonSize:"sm",buttonStyle:"primary",className:"m-r-5","data-test":"datasource-modal-save",onClick:()=>{b.current.show({title:Object(y.c)("Confirm save"),bsSize:"medium",actions:[m.a.CancelAction(),m.a.OKAction(g)],body:Object(w.e)("div",null,Object(w.e)(h.a,{bsStyle:"warning",className:"pointer",onClick:b.current.hideAlert},Object(w.e)("div",null,Object(w.e)("i",{className:"fa fa-exclamation-triangle"})," ",Object(y.c)("The dataset configuration exposed here\n                affects all the charts using this dataset.\n                Be mindful that changing settings\n                here may affect other charts\n                in undesirable ways."))),Object(y.c)("Are you sure you want to save and apply changes?"))})},disabled:c.length>0},Object(y.c)("Save")),Object(w.e)(f.a,{buttonSize:"sm",onClick:r},Object(y.c)("Cancel")),Object(w.e)(m.a,{ref:b}))))})},719:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var r=n(2),a=n.n(r),o=(n(1992),n(1));const i={colorCode:a.a.string};function s({colorCode:e=""}){return Object(o.e)("svg",{className:"filter-badge "+e,width:"20",height:"20",viewBox:"0 0 20 20"},Object(o.e)("path",{d:"M4 5H16V7H4V5ZM6 9H14V11H6V9ZM12 13H8V15H12V13Z"}))}s.propTypes=i},783:function(e,t,n){"use strict";var r=n(31);t.__esModule=!0,t.default=void 0;var a=r(n(243)),o=r(n(144));function i(e,t,n){var r,o={target:e,currentTarget:e};function i(e){e.target===e.currentTarget&&(clearTimeout(r),e.target.removeEventListener(a.default.end,i),t.call(this))}a.default.end?null==n&&(n=l(e)||0):n=0,a.default.end?(e.addEventListener(a.default.end,i,!1),r=setTimeout((function(){return i(o)}),1.5*(n||100))):setTimeout(i.bind(null,o),0)}i._parseDuration=l;var s=i;function l(e){var t=(0,o.default)(e,a.default.duration),n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}t.default=s,e.exports=t.default},784:function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),s=n(429),l=function(e){function t(t){var n=e.call(this,t)||this;n.formElement=null,n.inputElement=null;var r=t.prompt,a=r.initialValue,o=r.placeholder;return n.state={value:a||"",initialValue:a,placeholder:o},n.onSubmit=n.onSubmit.bind(n),n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;this.setState({value:this.state.initialValue||""},(function(){e.inputElement&&e.inputElement.select()}))},Object.defineProperty(t.prototype,"value",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),t.prototype.checkValidity=function(){var e=this.formElement;return!(e&&!e.checkValidity())||(e.reportValidity(),!1)},t.prototype.onSubmit=function(e){return e.preventDefault(),!!this.checkValidity()&&(this.props.onSubmit&&this.props.onSubmit(),!1)},t.prototype.render=function(){var e=this,t=this.props.prompt,n=this.state,r=n.value,a=n.placeholder,o=t instanceof s.PasswordPrompt?"password":"text";return i.default.createElement("form",{ref:function(t){e.formElement=t},onSubmit:this.onSubmit},i.default.createElement("input",{ref:function(t){e.inputElement=t},type:o,className:"form-control",value:r,placeholder:a,onChange:function(t){return e.setState({value:t.target.value})},required:t.required,autoFocus:!0}))},t}(i.default.Component);t.default=l},785:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(119)),o=function(){function e(e,t,n,r){this.label=e||a.default.options.defaultOkLabel,this._func=t,this.className=n||a.default.options.defaultButtonClassName||a.default.DEFAULT_OPTIONS.defaultButtonClassName,this.key=r}return e.prototype.func=function(e){e.hide(),this._func&&this._func(e)},e}();t.default=o},79:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"o",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return C}));var r=n(64),a=n.n(r);const o="load_chart",i="render_chart",s="hide_browser_tab",l="mount_dashboard",c="mount_explorer",u="select_dashboard_tab",p="force_refresh_chart",d="change_explore_controls",h="toggle_edit_dashboard",f="force_refresh_dashboard",b="periodic_render_dashboard",m="explore_dashboard_chart",g="export_csv_dashboard_chart",v="change_dashboard_filter",y="omnibar_triggered",O=new a.a([o,i,s]),C=(new a.a([l,u,m,p,g,v,d,h,f,b,y,c]),{getTimestamp:()=>Math.round(window.performance.now())})},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(194),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(91),l=n(136),c=n(1);const u={label:i.a.string.isRequired,tooltip:i.a.node.isRequired,children:i.a.node.isRequired,placement:i.a.string,trigger:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)])};function p({label:e,tooltip:t,children:n,placement:r,trigger:o}){return Object(c.e)(s.a,{placement:r,overlay:Object(c.e)(l.a,{id:a()(e)+"-tooltip"},t),trigger:o},n)}p.propTypes=u,p.defaultProps={placement:"top"}},839:function(e,t,n){"use strict";n(213),n(141),n(33);var r=n(6),a=n.n(r),o=n(18),i=n.n(o),s=n(5),l=n.n(s),c=n(3),u=n.n(c),p=n(36),d=n.n(p),h=n(11),f=n.n(h),b=n(774),m=n.n(b),g=n(0),v=n.n(g),y=n(2),O=n.n(y),C=n(314),x=n(1953),w=n(306),E=n(485),S=n(91),_=n(136),j=n(1689),T=n(644),k=n(1691),P=n(1690),M=n(1683),R=n(21),D=n(841),A=n.n(D),F=(n(1230),n(15)),N=n.n(F),L=n(7),I=n(56),B=n(115);const H=(e,t)=>e.replace("T00:00:00","")||(t?"-∞":"∞"),V=(e,t)=>{var n;const r=e.split(" : ");if(1===r.length)return e;const o=a()(n=t||["unknown","unknown"]).call(n,e=>"inclusive"===e?"≤":"<");return H(r[0],!0)+" "+o[0]+" col "+o[1]+" "+H(r[1])};var U=n(63),q=(n(1231),n(48)),z=n(250),G=n(1);function W(){const e=f()(["\n  .radio {\n    margin: ","px 0;\n  }\n"]);return W=function(){return e},e}const Y=m()({DEFAULTS:"defaults",CUSTOM_START_END:"custom_start_end",CUSTOM_RANGE:"custom_range"}),K=m()({DEFAULTS:"defaults",CUSTOM:"custom"}),Q=m()({LAST:"Last",NEXT:"Next"}),X=["Last day","Last week","Last month","Last quarter","Last year","No filter"],Z=["seconds","minutes","hours","days","weeks","months","years"],J="YYYY-MM-DD[T]HH:mm:ss",$=N()().utc().startOf("day").subtract(7,"days").format(J),ee=N()().utc().startOf("day").format(J),te=Object(L.c)("Superset supports smart date parsing. Strings like `3 weeks ago`, `last sunday`, or `2 weeks from now` can be used."),ne={width:"250px"},re={animation:O.a.bool,name:O.a.string.isRequired,label:O.a.string,description:O.a.string,onChange:O.a.func,value:O.a.string,height:O.a.number,onOpenDateFilterControl:O.a.func,onCloseDateFilterControl:O.a.func,endpoints:O.a.arrayOf(O.a.string)},ae={animation:!0,onChange:()=>{},value:"Last week",onOpenDateFilterControl:()=>{},onCloseDateFilterControl:()=>{}};function oe(e){return e===N()(e,J).format(J)}function ie(e){const t=e.split(" ")[1]+"s";let n;return n="No filter"===e?"":"years"===t?N()().utc().startOf(t).subtract(1,t):N()().utc().startOf("day").subtract(1,t),{tab:K.DEFAULTS,type:Y.DEFAULTS,common:e,since:""===n?"":n.format(J),until:""===n?"":n.add(1,t).format(J)}}function se(e){const[t,n,r]=e.split(" ",3);let a,o;return t===Q.LAST?(o=N()().utc().startOf("day").format(J),a=N()().utc().startOf("day").subtract(n,r).format(J)):(o=N()().utc().startOf("day").add(n,r).format(J),a=N()().startOf("day").format(J)),{tab:K.CUSTOM,type:Y.CUSTOM_RANGE,common:null,rel:t,num:n,grain:r,since:a,until:o}}const le=I.a.div(W(),({theme:e})=>e.gridUnit);class ce extends v.a.Component{constructor(e){var t,n,r,a,o,i,s,c,p,h,f,b,m;super(e),this.state={type:Y.DEFAULTS,tab:K.DEFAULTS,common:X[0],rel:Q.LAST,num:"7",grain:Z[3],since:$,until:ee,showSinceCalendar:!1,showUntilCalendar:!1,sinceViewMode:"days",untilViewMode:"days"};const{value:g}=e;d()(g).call(g," : ")>=0?this.state=u()({},this.state,function(e){const[t,n]=e.split(" : ",2);return{since:t,until:n,type:Y.CUSTOM_START_END,tab:K.CUSTOM}}(g)):d()(X).call(X,g)>=0?this.state=u()({},this.state,ie(g)):this.state=u()({},this.state,se(g)),this.close=l()(t=this.close).call(t,this),this.handleClick=l()(n=this.handleClick).call(n,this),this.handleClickTrigger=l()(r=this.handleClickTrigger).call(r,this),this.isValidSince=l()(a=this.isValidSince).call(a,this),this.isValidUntil=l()(o=this.isValidUntil).call(o,this),this.onEnter=l()(i=this.onEnter).call(i,this),this.renderInput=l()(s=this.renderInput).call(s,this),this.setCustomRange=l()(c=this.setCustomRange).call(c,this),this.setCustomStartEnd=l()(p=this.setCustomStartEnd).call(p,this),this.setTypeCustomRange=l()(h=this.setTypeCustomRange).call(h,this),this.setTypeCustomStartEnd=l()(f=this.setTypeCustomStartEnd).call(f,this),this.toggleCalendar=l()(b=this.toggleCalendar).call(b,this),this.changeTab=l()(m=this.changeTab).call(m,this)}componentDidMount(){document.addEventListener("click",this.handleClick)}componentWillUnmount(){document.removeEventListener("click",this.handleClick)}onEnter(e){"Enter"===e.key&&this.close()}setCustomRange(e,t){const n=u()({},this.state,{[e]:t}),r=[n.rel,n.num,n.grain].join(" ");this.setState(se(r))}setCustomStartEnd(e,t){const n="since"===e&&"days"===this.state.sinceViewMode||"until"===e&&"days"===this.state.untilViewMode;this.setState(r=>({type:Y.CUSTOM_START_END,[e]:"string"==typeof t?t:t.format(J),showSinceCalendar:r.showSinceCalendar&&!n,showUntilCalendar:r.showUntilCalendar&&!n,sinceViewMode:n?"days":r.sinceViewMode,untilViewMode:n?"days":r.untilViewMode}))}setTypeCustomRange(){this.setState({type:Y.CUSTOM_RANGE})}setTypeCustomStartEnd(){this.setState({type:Y.CUSTOM_START_END})}changeTab(){const{tab:e}=this.state;e===K.CUSTOM?this.setState({tab:K.DEFAULTS}):e===K.DEFAULTS&&this.setState({tab:K.CUSTOM})}handleClick(e){const{target:t}=e;this.startEndSectionRef&&this.startEndSectionRef.contains(t)&&this.setTypeCustomStartEnd(),"popover-trigger"!==t.getAttribute("name")&&this.popoverContainer&&!this.popoverContainer.contains(t)&&this.props.onCloseDateFilterControl()}handleClickTrigger(){this.popoverContainer?this.props.onCloseDateFilterControl():this.props.onOpenDateFilterControl()}close(){let e;e=this.state.type===Y.DEFAULTS||this.state.tab===K.DEFAULTS?this.state.common:this.state.type===Y.CUSTOM_RANGE?this.state.rel+" "+this.state.num+" "+this.state.grain:[this.state.since,this.state.until].join(" : "),this.props.onCloseDateFilterControl(),this.props.onChange(e),this.refs.trigger.hide(),this.setState({showSinceCalendar:!1,showUntilCalendar:!1})}isValidSince(e){return!oe(this.state.until)||e<=N()(this.state.until,J)}isValidUntil(e){return!oe(this.state.since)||e>=N()(this.state.since,J)}toggleCalendar(e){const t={};"showSinceCalendar"===e?(t.showSinceCalendar=!this.state.showSinceCalendar,this.state.showSinceCalendar||(t.showUntilCalendar=!1)):"showUntilCalendar"===e&&(t.showUntilCalendar=!this.state.showUntilCalendar,this.state.showUntilCalendar||(t.showSinceCalendar=!1)),this.setState(t)}renderInput(e,t){return Object(G.e)(C.a,null,Object(G.e)(x.a,{bsSize:"small"},Object(G.e)(w.a,i()({},e,{type:"text",onKeyPress:this.onEnter,onFocus:this.setTypeCustomStartEnd,onClick:()=>{}})),Object(G.e)(x.a.Button,{onClick:()=>this.toggleCalendar(t)},Object(G.e)(R.a,{theme:this.props.theme},Object(G.e)("i",{className:"fa fa-calendar"})))))}renderPopover(){const e=a()(Z).call(Z,e=>Object(G.e)(E.a,{onSelect:e=>this.setCustomRange("grain",e),key:e,eventKey:e,active:e===this.state.grain,fullWidth:!1},e)),t=a()(X).call(X,e=>{const t=ie(e),n=(r=t.since,a=t.until,r+" : "+a);var r,a;return Object(G.e)(le,{theme:this.props.theme,key:e},Object(G.e)(S.a,{key:e,placement:"right",overlay:Object(G.e)(_.a,{id:"tooltip-"+e},V(n,this.props.endpoints))},Object(G.e)("div",{style:{display:"inline-block"}},Object(G.e)(j.a,{key:e.replace(" ","").toLowerCase(),checked:this.state.common===e,onChange:()=>this.setState(t)},e))))});return Object(G.e)(T.a,{id:"filter-popover",placement:"top",positionTop:0},Object(G.e)("div",{style:ne,ref:e=>{this.popoverContainer=e}},Object(G.e)(k.a,{defaultActiveKey:this.state.tab===K.DEFAULTS?1:2,id:"type",className:"time-filter-tabs",onSelect:this.changeTab},Object(G.e)(P.a,{eventKey:1,title:"Defaults"},Object(G.e)(C.a,null,t)),Object(G.e)(P.a,{eventKey:2,title:"Custom"},Object(G.e)(C.a,null,Object(G.e)(z.a,{title:"Relative to today",isSelected:this.state.type===Y.CUSTOM_RANGE,onSelect:this.setTypeCustomRange},Object(G.e)("div",{className:"clearfix centered",style:{marginTop:"12px"}},Object(G.e)("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline"},Object(G.e)(M.a,{bsSize:"small",componentClass:x.a.Button,id:"input-dropdown-rel",title:this.state.rel,onFocus:this.setTypeCustomRange},Object(G.e)(E.a,{onSelect:e=>this.setCustomRange("rel",e),key:Q.LAST,eventKey:Q.LAST,active:this.state.rel===Q.LAST},"Last"),Object(G.e)(E.a,{onSelect:e=>this.setCustomRange("rel",e),key:Q.NEXT,eventKey:Q.NEXT,active:this.state.rel===Q.NEXT},"Next"))),Object(G.e)("div",{style:{width:"60px",marginTop:"-4px"},className:"input-inline m-l-5 m-r-3"},Object(G.e)(w.a,{bsSize:"small",type:"text",onChange:e=>this.setCustomRange("num",e.target.value),onFocus:this.setTypeCustomRange,onKeyPress:this.onEnter,value:this.state.num,style:{height:"30px"}})),Object(G.e)("div",{style:{width:"90px",marginTop:"-4px"},className:"input-inline"},Object(G.e)(M.a,{bsSize:"small",componentClass:x.a.Button,id:"input-dropdown-grain",title:this.state.grain,onFocus:this.setTypeCustomRange},e)))),Object(G.e)(z.a,{title:"Start / end",isSelected:this.state.type===Y.CUSTOM_START_END,onSelect:this.setTypeCustomStartEnd,info:te},Object(G.e)("div",{ref:e=>{this.startEndSectionRef=e}},Object(G.e)(x.a,null,Object(G.e)("div",{style:{margin:"5px 0"}},Object(G.e)(A.a,{value:this.state.since,defaultValue:this.state.since,viewDate:this.state.since,onChange:e=>this.setCustomStartEnd("since",e),isValidDate:this.isValidSince,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showSinceCalendar"),open:this.state.showSinceCalendar,viewMode:this.state.sinceViewMode,onViewModeChange:e=>this.setState({sinceViewMode:e})})),Object(G.e)("div",{style:{margin:"5px 0"}},Object(G.e)(A.a,{value:this.state.until,defaultValue:this.state.until,viewDate:this.state.until,onChange:e=>this.setCustomStartEnd("until",e),isValidDate:this.isValidUntil,onClick:this.setTypeCustomStartEnd,renderInput:e=>this.renderInput(e,"showUntilCalendar"),open:this.state.showUntilCalendar,viewMode:this.state.untilViewMode,onViewModeChange:e=>this.setState({untilViewMode:e})})))))))),Object(G.e)("div",{className:"clearfix"},Object(G.e)(R.a,{buttonSize:"small",className:"float-right ok",buttonStyle:"primary",onClick:this.close,theme:this.props.theme},"Ok"))))}render(){const e=this.props.value||ae.value;return Object(G.e)("div",null,Object(G.e)(q.a,this.props),Object(G.e)(S.a,{animation:this.props.animation,container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover(),onClick:this.handleClickTrigger},Object(G.e)(U.a,{name:"popover-trigger",className:"pointer"},V(e,this.props.endpoints))))}}t.a=Object(B.c)(ce);ce.propTypes=re,ce.defaultProps=ae},840:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return h}));n(3);var r=n(30),a=n.n(r),o=n(44),i=n.n(o);function s(e){var t;return i()(t=a()(e)).call(t,(e,t)=>{const n=e;return n[t]=t,n},{})}const l={FORMULA:{value:"FORMULA",label:"Formula"},EVENT:{value:"EVENT",label:"Event",supportNativeSource:!0},INTERVAL:{value:"INTERVAL",label:"Interval",supportNativeSource:!0},TIME_SERIES:{value:"TIME_SERIES",label:"Time Series"}},c=s(l),u=c.FORMULA,p={NATIVE:{value:"NATIVE",label:"Superset annotation"}},d=s(p);function h(e){return!!e}},841:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(15)},function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=n(17)},function(e,t,n){e.exports=n(7)},function(e,t,n){"use strict";var r=n(6);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(1),i=n.n(o),s=n(0),l=n.n(s);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){var t=e.onClickPrev,n=e.onClickSwitch,r=e.onClickNext,a=e.switchContent,o=e.switchColSpan,i=e.switchProps;return l.a.createElement("tr",null,l.a.createElement("th",{className:"rdtPrev",onClick:t},l.a.createElement("span",null,"‹")),l.a.createElement("th",c({className:"rdtSwitch",colSpan:o,onClick:n},i),a),l.a.createElement("th",{className:"rdtNext",onClick:r},l.a.createElement("span",null,"›")))}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}(a);function a(){var e;d(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return v(m(e=r.call.apply(r,[this].concat(n))),"_setDate",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.viewDate,t=e.localeData(),n=e.clone().startOf("month"),r=e.clone().endOf("month");return l.a.createElement("div",{className:"rdtDays"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation(e,t),this.renderDayHeaders(t)),l.a.createElement("tbody",null,this.renderDays(e,n,r)),this.renderFooter(e)))}},{key:"renderNavigation",value:function(e,t){var n=this;return l.a.createElement(u,{onClickPrev:function(){return n.props.navigate(-1,"months")},onClickSwitch:function(){return n.props.showView("months")},onClickNext:function(){return n.props.navigate(1,"months")},switchContent:t.months(e)+" "+e.year(),switchColSpan:5,switchProps:{"data-value":this.props.viewDate.month()}})}},{key:"renderDayHeaders",value:function(e){var t=this.getDaysOfWeek(e).map((function(e,t){return l.a.createElement("th",{key:e+t,className:"dow"},e)}));return l.a.createElement("tr",null,t)}},{key:"renderDays",value:function(e,t,n){var r=[[],[],[],[],[],[]],a=e.clone().subtract(1,"months");a.date(a.daysInMonth()).startOf("week");for(var o=a.clone().add(42,"d"),i=0;a.isBefore(o);)this.getRow(r,i++).push(this.renderDay(a,t,n)),a.add(1,"d");return r.map((function(e,t){return l.a.createElement("tr",{key:"".concat(o.month(),"_").concat(t)},e)}))}},{key:"renderDay",value:function(e,t,n){var r=this.props.selectedDate,a={key:e.format("M_D"),"data-value":e.date(),"data-month":e.month(),"data-year":e.year()},o="rdtDay";return e.isBefore(t)?o+=" rdtOld":e.isAfter(n)&&(o+=" rdtNew"),r&&e.isSame(r,"day")&&(o+=" rdtActive"),e.isSame(this.props.moment(),"day")&&(o+=" rdtToday"),this.props.isValidDate(e)?a.onClick=this._setDate:o+=" rdtDisabled",a.className=o,this.props.renderDay?this.props.renderDay(a,e.clone(),r&&r.clone()):l.a.createElement("td",a,e.date())}},{key:"renderFooter",value:function(e){var t=this;if(this.props.timeFormat)return l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{onClick:function(){return t.props.showView("time")},colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))}},{key:"getDaysOfWeek",value:function(e){var t=e.firstDayOfWeek(),n=[],r=0;return e._weekdaysMin.forEach((function(e){n[(7+r++-t)%7]=e})),n}},{key:"getRow",value:function(e,t){return e[Math.floor(t/7)]}}])&&h(t.prototype,n),a}(l.a.Component);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}v(y,"defaultProps",{isValidDate:function(){return!0}});var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E(this,n)}}(a);function a(){var e;C(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return j(S(e=r.call.apply(r,[this].concat(n))),"_updateSelectedMonth",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:"render",value:function(){return l.a.createElement("div",{className:"rdtMonths"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation())),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderMonths())))}},{key:"renderNavigation",value:function(){var e=this,t=this.props.viewDate.year();return l.a.createElement(u,{onClickPrev:function(){return e.props.navigate(-1,"years")},onClickSwitch:function(){return e.props.showView("years")},onClickNext:function(){return e.props.navigate(1,"years")},switchContent:t,switchColSpan:"2"})}},{key:"renderMonths",value:function(e){for(var t=[[],[],[]],n=0;n<12;n++)this.getRow(t,n).push(this.renderMonth(n,this.props.selectedDate));return t.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderMonth",value:function(e,t){var n,r="rdtMonth";this.isDisabledMonth(e)?r+=" rdtDisabled":n=this._updateSelectedMonth,t&&t.year()===this.props.viewDate.year()&&t.month()===e&&(r+=" rdtActive");var a={key:e,className:r,"data-value":e,onClick:n};return this.props.renderMonth?this.props.renderMonth(a,e,this.props.viewDate.year(),this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement("td",a,this.getMonthText(e))}},{key:"getRow",value:function(e,t){return t<4?e[0]:t<8?e[1]:e[2]}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"isDisabledMonth",value:function(e){var t=this.props.isValidDate;if(!t)return!1;for(var n=this.props.viewDate.clone().set({month:e}),r=n.endOf("month").date()+1;r-- >1;)if(t(n.date(r)))return!1;return!0}},{key:"getMonthText",value:function(e){var t=this.props.viewDate,n=t.localeData().monthsShort(t.month(e));return this.capitalize(n.substring(0,3))}}])&&x(t.prototype,n),a}(l.a.Component);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return D(this,n)}}(a);function a(){var e;P(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return N(A(e=r.call.apply(r,[this].concat(n))),"disabledYearsCache",{}),N(A(e),"_updateSelectedYear",(function(t){e.props.updateDate(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=10*parseInt(this.props.viewDate.year()/10,10);return l.a.createElement("div",{className:"rdtYears"},l.a.createElement("table",null,l.a.createElement("thead",null,this.renderNavigation(e))),l.a.createElement("table",null,l.a.createElement("tbody",null,this.renderYears(e))))}},{key:"renderNavigation",value:function(e){var t=this;return l.a.createElement(u,{onClickPrev:function(){return t.props.navigate(-10,"years")},onClickSwitch:function(){return t.props.showView("years")},onClickNext:function(){return t.props.navigate(10,"years")},switchContent:"".concat(e,"-").concat(e+9)})}},{key:"renderYears",value:function(e){for(var t=[[],[],[]],n=this.props.selectedDate&&this.props.selectedDate.year(),r=e-1;r<e+11;r++)this.getRow(t,r-e).push(this.renderYear(r,n));return t.map((function(e,t){return l.a.createElement("tr",{key:t},e)}))}},{key:"renderYear",value:function(e,t){var n,r="rdtYear";this.isDisabledYear(e)?r+=" rdtDisabled":n=this._updateSelectedYear,t===e&&(r+=" rdtActive");var a={key:e,className:r,"data-value":e,onClick:n};return this.props.renderYear?this.props.renderYear(a,e,this.props.selectedDate&&this.props.selectedDate.clone()):l.a.createElement("td",a,e)}},{key:"getRow",value:function(e,t){return t<3?e[0]:t<7?e[1]:e[2]}},{key:"isDisabledYear",value:function(e){var t=this.disabledYearsCache;if(void 0!==t[e])return t[e];var n=this.props.isValidDate;if(!n)return!1;for(var r=this.props.viewDate.clone().set({year:e}),a=r.endOf("year").dayOfYear()+1;a-- >1;)if(n(r.dayOfYear(a)))return t[e]=!1,!1;return t[e]=!0,!0}}])&&M(t.prototype,n),a}(l.a.Component);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}},K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var a=G(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),W(z(t=r.call(this,e)),"padValues",{hours:1,minutes:2,seconds:2,milliseconds:3}),t.constraints=t.createConstraints(e),t.state=t.getTimeParts(e.selectedDate||e.viewDate),t}return t=a,(n=[{key:"createConstraints",value:function(e){var t={};return Object.keys(Y).forEach((function(n){t[n]=H(H({},Y[n]),e.timeConstraints[n]||{})})),t}},{key:"render",value:function(){var e=this,t=[],n=this.state;return this.getCounters().forEach((function(r,a){a&&"ampm"!==r&&t.push(l.a.createElement("div",{key:"sep".concat(a),className:"rdtCounterSeparator"},":")),t.push(e.renderCounter(r,n[r]))})),l.a.createElement("div",{className:"rdtTime"},l.a.createElement("table",null,this.renderHeader(),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("div",{className:"rdtCounters"},t))))))}},{key:"renderCounter",value:function(e,t){var n=this;return"hours"===e&&this.isAMPM()&&0==(t=(t-1)%12+1)&&(t=12),"ampm"===e&&(t=-1!==this.props.timeFormat.indexOf(" A")?this.props.viewDate.format("A"):this.props.viewDate.format("a")),l.a.createElement("div",{key:e,className:"rdtCounter"},l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"increase",e)}},"▲"),l.a.createElement("div",{className:"rdtCount"},t),l.a.createElement("span",{className:"rdtBtn",onMouseDown:function(t){return n.onStartClicking(t,"decrease",e)}},"▼"))}},{key:"renderHeader",value:function(){var e=this;if(this.props.dateFormat){var t=this.props.selectedDate||this.props.viewDate;return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"rdtSwitch",colSpan:"4",onClick:function(){return e.props.showView("days")}},t.format(this.props.dateFormat))))}}},{key:"onStartClicking",value:function(e,t,n){var r=this;if(!e||!e.button||0===e.button){if("ampm"===n)return this.toggleDayPart();var a={},o=document.body;a[n]=this[t](n),this.setState(a),this.timer=setTimeout((function(){r.increaseTimer=setInterval((function(){a[n]=r[t](n),r.setState(a)}),70)}),500),this.mouseUpListener=function(){clearTimeout(r.timer),clearInterval(r.increaseTimer),r.props.setTime(n,parseInt(r.state[n],10)),o.removeEventListener("mouseup",r.mouseUpListener),o.removeEventListener("touchend",r.mouseUpListener)},o.addEventListener("mouseup",this.mouseUpListener),o.addEventListener("touchend",this.mouseUpListener)}}},{key:"toggleDayPart",value:function(){var e=parseInt(this.state.hours,10);e>=12?e-=12:e+=12,this.props.setTime("hours",e)}},{key:"increase",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)+t.step;return n>t.max&&(n=t.min+(n-(t.max+1))),this.pad(e,n)}},{key:"decrease",value:function(e){var t=this.constraints[e],n=parseInt(this.state[e],10)-t.step;return n<t.min&&(n=t.max+1-(t.min-n)),this.pad(e,n)}},{key:"pad",value:function(e,t){for(var n=t+"";n.length<this.padValues[e];)n="0"+n;return n}},{key:"getCounters",value:function(){var e=[],t=this.props.timeFormat;return-1!==t.toLowerCase().indexOf("h")&&(e.push("hours"),-1!==t.indexOf("m")&&(e.push("minutes"),-1!==t.indexOf("s")&&(e.push("seconds"),-1!==t.indexOf("S")&&e.push("milliseconds")))),this.isAMPM()&&e.push("ampm"),e}},{key:"isAMPM",value:function(){return-1!==this.props.timeFormat.toLowerCase().indexOf(" a")}},{key:"getTimeParts",value:function(e){var t=e.hours();return{hours:this.pad("hours",t),minutes:this.pad("minutes",e.minutes()),seconds:this.pad("seconds",e.seconds()),milliseconds:this.pad("milliseconds",e.milliseconds()),ampm:t<12?"am":"pm"}}},{key:"componentDidUpdate",value:function(e){this.props.selectedDate?this.props.selectedDate!==e.selectedDate&&this.setState(this.getTimeParts(this.props.selectedDate)):e.viewDate!==this.props.viewDate&&this.setState(this.getTimeParts(this.props.viewDate))}}])&&V(t.prototype,n),a}(l.a.Component),Q=n(3);function X(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var Z,J,$=(void 0===Z&&(Z=0),function(){return++Z}),ee={},te={},ne=["touchstart","touchmove"];function re(e,t){var n=null;return-1!==ne.indexOf(t)&&J&&(n={passive:!e.props.preventDefault}),n}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),e}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var a=fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return xe}));var me="years",ge="months",ve="days",ye=a.a,Oe=function(){},Ce=ye.oneOfType([ye.instanceOf(i.a),ye.instanceOf(Date),ye.string]),xe=function(e){ue(n,e);var t=pe(n);function n(e){var r;return se(this,n),be(he(r=t.call(this,e)),"_renderCalendar",(function(e){var t=r.props,n={viewDate:r.state.viewDate.clone(),selectedDate:r.getSelectedDate(),isValidDate:t.isValidDate,updateDate:r._updateDate,navigate:r._viewNavigate,moment:i.a,showView:r._showView};switch(e){case me:return n.renderYear=t.renderYear,l.a.createElement(L,n);case ge:return n.renderMonth=t.renderMonth,l.a.createElement(T,n);case ve:return n.renderDay=t.renderDay,n.timeFormat=r.getFormat("time"),l.a.createElement(y,n);default:return n.dateFormat=r.getFormat("date"),n.timeFormat=r.getFormat("time"),n.timeConstraints=t.timeConstraints,n.setTime=r._setTime,l.a.createElement(K,n)}})),be(he(r),"_showView",(function(e,t){var n=(t||r.state.viewDate).clone(),a=r.props.onBeforeNavigate(e,r.state.currentView,n);a&&r.state.currentView!==a&&(r.props.onNavigate(a),r.setState({currentView:a}))})),be(he(r),"viewToMethod",{days:"date",months:"month",years:"year"}),be(he(r),"nextView",{days:"time",months:"days",years:"months"}),be(he(r),"_updateDate",(function(e){var t=r.state.currentView,n=r.getUpdateOn(r.getFormat("date")),a=r.state.viewDate.clone();a[r.viewToMethod[t]](parseInt(e.target.getAttribute("data-value"),10)),"days"===t&&(a.month(parseInt(e.target.getAttribute("data-month"),10)),a.year(parseInt(e.target.getAttribute("data-year"),10)));var o={viewDate:a};t===n?(o.selectedDate=a.clone(),o.inputValue=a.format(r.getFormat("datetime")),void 0===r.props.open&&r.props.input&&r.props.closeOnSelect&&r._closeCalendar(),r.props.onChange(a.clone())):r._showView(r.nextView[t],a),r.setState(o)})),be(he(r),"_viewNavigate",(function(e,t){var n=r.state.viewDate.clone();n.add(e,t),e>0?r.props.onNavigateForward(e,t):r.props.onNavigateBack(-e,t),r.setState({viewDate:n})})),be(he(r),"_setTime",(function(e,t){var n=(r.getSelectedDate()||r.state.viewDate).clone();n[e](t),r.props.value||r.setState({selectedDate:n,viewDate:n.clone(),inputValue:n.format(r.getFormat("datetime"))}),r.props.onChange(n)})),be(he(r),"_openCalendar",(function(){r.isOpen()||r.setState({open:!0},r.props.onOpen)})),be(he(r),"_closeCalendar",(function(){r.isOpen()&&r.setState({open:!1},(function(){r.props.onClose(r.state.selectedDate||r.state.inputValue)}))})),be(he(r),"_handleClickOutside",(function(){var e=r.props;e.input&&r.state.open&&void 0===e.open&&e.closeOnClickOutside&&r._closeCalendar()})),be(he(r),"_onInputFocus",(function(e){r.callHandler(r.props.inputProps.onFocus,e)&&r._openCalendar()})),be(he(r),"_onInputChange",(function(e){if(r.callHandler(r.props.inputProps.onChange,e)){var t=e.target?e.target.value:e,n=r.localMoment(t,r.getFormat("datetime")),a={inputValue:t};n.isValid()?(a.selectedDate=n,a.viewDate=n.clone().startOf("month")):a.selectedDate=null,r.setState(a,(function(){r.props.onChange(n.isValid()?n:r.state.inputValue)}))}})),be(he(r),"_onInputKeyDown",(function(e){r.callHandler(r.props.inputProps.onKeyDown,e)&&9===e.which&&r.props.closeOnTab&&r._closeCalendar()})),be(he(r),"_onInputClick",(function(e){console.log("CLICKING 2!"),r.callHandler(r.props.inputProps.onClick,e)&&r._openCalendar()})),r.state=r.getInitialState(e),r}return ce(n,[{key:"render",value:function(){return l.a.createElement(we,{className:this.getClassName(),onClickOut:this._handleClickOutside},this.renderInput(),l.a.createElement("div",{className:"rdtPicker"},this.renderView(this.state.currentView,this._renderCalendar)))}},{key:"renderInput",value:function(){if(this.props.input){var e=ie(ie({type:"text",className:"form-control",value:this.getInputValue()},this.props.inputProps),{},{onFocus:this._onInputFocus,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onClick:this._onInputClick});return this.props.renderInput?l.a.createElement("div",null,this.props.renderInput(e,this._openCalendar,this._closeCalendar)):l.a.createElement("input",e)}}},{key:"renderView",value:function(e,t){return this.props.renderView?this.props.renderView(e,(function(){return t(e)})):t(this.state.currentView)}},{key:"getInitialState",value:function(e){var t=e||this.props,n=this.getFormat("datetime"),r=this.parseDate(t.value||t.initialValue,n);return this.checkTZ(t),{open:!t.input,currentView:t.initialViewMode||this.getInitialView(this.getFormat("date")),viewDate:this.getInitialViewDate(t.initialViewDate,r,n),selectedDate:r&&r.isValid()?r:void 0,inputValue:this.getInitialInputValue(t,r,n)}}},{key:"getInitialViewDate",value:function(e,t,n){var r;if(e){if((r=this.parseDate(e,n))&&r.isValid())return r;this.log('The initialViewDated given "'+e+'" is not valid. Using current date instead.')}else if(t&&t.isValid())return t.clone();return this.getInitialDate()}},{key:"getInitialDate",value:function(){var e=this.localMoment();return e.hour(0).minute(0).second(0).millisecond(0),e}},{key:"getInitialView",value:function(e){return e?this.getUpdateOn(e):"time"}},{key:"parseDate",value:function(e,t){var n;return e&&"string"==typeof e?n=this.localMoment(e,t):e&&(n=this.localMoment(e)),n&&!n.isValid()&&(n=null),n}},{key:"getClassName",value:function(){var e="rdt",t=this.props,n=t.className;return Array.isArray(n)?e+=" "+n.join(" "):n&&(e+=" "+n),t.input||(e+=" rdtStatic"),this.isOpen()&&(e+=" rdtOpen"),e}},{key:"isOpen",value:function(){return!this.props.input||(void 0===this.props.open?this.state.open:this.props.open)}},{key:"getUpdateOn",value:function(e){return this.props.updateOnView?this.props.updateOnView:e.match(/[lLD]/)?ve:-1!==e.indexOf("M")?ge:-1!==e.indexOf("Y")?me:ve}},{key:"getLocaleData",value:function(e){var t=e||this.props;return this.localMoment(t.value||t.defaultValue||new Date).localeData()}},{key:"getDateFormat",value:function(e){var t=this.props.dateFormat;return!0===t?e.longDateFormat("L"):t||""}},{key:"getTimeFormat",value:function(e){var t=this.props.timeFormat;return!0===t?e.longDateFormat("LT"):t||""}},{key:"getFormat",value:function(e){if("date"===e)return this.getDateFormat(this.getLocaleData());if("time"===e)return this.getTimeFormat(this.getLocaleData());var t=this.getLocaleData(),n=this.getDateFormat(t),r=this.getTimeFormat(t);return n&&r?n+" "+r:n||r}},{key:"updateTime",value:function(e,t,n,r){var a={},o=r?"selectedDate":"viewDate";a[o]=this.state[o].clone()[e](t,n),this.setState(a)}},{key:"localMoment",value:function(e,t,n){var r=null;return r=(n=n||this.props).utc?i.a.utc(e,t,n.strictParsing):n.displayTimeZone?i.a.tz(e,t,n.displayTimeZone):i()(e,t,n.strictParsing),n.locale&&r.locale(n.locale),r}},{key:"checkTZ",value:function(e){!e.displayTimeZone||this.tzWarning||i.a.tz||(this.tzWarning=!0,this.log('displayTimeZone prop with value "'+e.displayTimeZone+'" is used but moment.js timezone is not loaded.',"error"))}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=!1,n=this.props;["locale","utc","displayZone","dateFormat","timeFormat"].forEach((function(r){e[r]!==n[r]&&(t=!0)})),t&&this.regenerateDates(this.props),n.value&&n.value!==e.value&&this.setViewDate(n.value),this.checkTZ(this.props)}}},{key:"regenerateDates",value:function(e){var t=this.state.viewDate.clone(),n=this.state.selectedDate&&this.state.selectedDate.clone();e.locale&&(t.locale(e.locale),n&&n.locale(e.locale)),e.utc?(t.utc(),n&&n.utc()):e.displayTimeZone?(t.tz(e.displayTimeZone),n&&n.tz(e.displayTimeZone)):(t.locale(),n&&n.locale());var r={viewDate:t,selectedDate:n};n&&n.isValid()&&(r.inputValue=n.format(this.getFormat("datetime"))),this.setState(r)}},{key:"getSelectedDate",value:function(){if(void 0===this.props.value)return this.state.selectedDate;var e=this.parseDate(this.props.value,this.getFormat("datetime"));return!(!e||!e.isValid())&&e}},{key:"getInitialInputValue",value:function(e,t,n){return e.inputProps.value?e.inputProps.value:t&&t.isValid()?t.format(n):e.value&&"string"==typeof e.value?e.value:e.initialValue&&"string"==typeof e.initialValue?e.initialValue:""}},{key:"getInputValue",value:function(){var e=this.getSelectedDate();return e?e.format(this.getFormat("datetime")):this.state.inputValue}},{key:"setViewDate",value:function(e){var t,n=this;return e&&(t="string"==typeof e?this.localMoment(e,this.getFormat("datetime")):this.localMoment(e))&&t.isValid()?void this.setState({viewDate:t}):n.log("Invalid date passed to the `setViewDate` method: "+e)}},{key:"navigate",value:function(e){this._showView(e)}},{key:"log",value:function(e,t){var n="undefined"!=typeof window&&window.console;n&&(t||(t="warn"),n[t]("***react-datetime:"+e))}},{key:"callHandler",value:function(e,t){return!e||!1!==e(t)}}]),n}(l.a.Component);be(xe,"propTypes",{value:Ce,initialValue:Ce,initialViewDate:Ce,initialViewMode:ye.oneOf([me,ge,ve,"time"]),onOpen:ye.func,onClose:ye.func,onChange:ye.func,onNavigate:ye.func,onBeforeNavigate:ye.func,onNavigateBack:ye.func,onNavigateForward:ye.func,updateOnView:ye.string,locale:ye.string,utc:ye.bool,displayTimeZone:ye.string,input:ye.bool,dateFormat:ye.oneOfType([ye.string,ye.bool]),timeFormat:ye.oneOfType([ye.string,ye.bool]),inputProps:ye.object,timeConstraints:ye.object,isValidDate:ye.func,open:ye.bool,strictParsing:ye.bool,closeOnSelect:ye.bool,closeOnTab:ye.bool,renderView:ye.func,renderInput:ye.func,renderDay:ye.func,renderMonth:ye.func,renderYear:ye.func}),be(xe,"defaultProps",{onOpen:Oe,onClose:Oe,onCalendarOpen:Oe,onCalendarClose:Oe,onChange:Oe,onNavigate:Oe,onBeforeNavigate:function(e){return e},onNavigateBack:Oe,onNavigateForward:Oe,dateFormat:!0,timeFormat:!0,utc:!1,className:"",input:!0,inputProps:{},timeConstraints:{},isValidDate:function(){return!0},strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,closeOnClickOutside:!0}),be(xe,"moment",i.a);var we=function(e,t){var n,r,a=e.displayName||e.name||"Component";return r=n=function(n){var r,o;function i(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(Q.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!te[r._uid]){void 0===J&&(J=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),te[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),ee[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(X(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,ee[r._uid],re(r,e))}))}},r.disableOnClickOutside=function(){delete te[r._uid];var e=ee[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,re(r,t))})),delete ee[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=$(),r}o=n,(r=i).prototype=Object.create(o.prototype),r.prototype.constructor=r,r.__proto__=o;var l=i.prototype;return l.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},l.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+a+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},l.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(s.createElement)(e,n)},i}(s.Component),n.displayName="OnClickOutside("+a+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r}(function(e){ue(n,e);var t=pe(n);function n(){var e;se(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return be(he(e=t.call.apply(t,[this].concat(a))),"container",l.a.createRef()),e}return ce(n,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.className,ref:this.container},this.props.children)}},{key:"handleClickOutside",value:function(e){this.props.onClickOut(e)}},{key:"setClickOutsideRef",value:function(){return this.container.current}}]),n}(l.a.Component))}])},889:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(1);const l={controls:i.a.arrayOf(i.a.object).isRequired};function c(e){var t;const n=12/e.controls.length;return Object(s.e)("div",{className:"row space-1"},a()(t=e.controls).call(t,(e,t)=>Object(s.e)("div",{className:"col-lg-"+n+" col-xs-12",key:t},e)))}c.propTypes=l,t.a=c},890:function(e,t,n){"use strict";n.d(t,"a",(function(){return _r}));var r=n(18),a=n.n(r),o=n(5),i=n.n(o),s=n(30),l=n.n(s),c=n(0),u=n.n(c),p=n(2),d=n.n(p),h=(n(1175),n(113),n(6)),f=n.n(h),b=n(14),m=n.n(b),g=n(49),v=n.n(g),y=n(229),O=n.n(y),C=n(34),x=n.n(C),w=n(644),E=n(91),S=n(1013),_=n(1686),j=n(61),T=n(7),k=n(115),P=n(102),M=n(249),R=n(108),D=n(93),A=n(1);const F=Object(M.a)(()=>Promise.all([n.e(1),n.e(3),n.e(60)]).then(n.bind(null,4375)),()=>Object(A.e)("div",{style:{width:450,height:368}})),N={colorScheme:d.a.string.isRequired,annotationError:d.a.object,annotationQuery:d.a.object,vizType:d.a.string,validationErrors:d.a.array,name:d.a.string.isRequired,actions:d.a.object,value:d.a.arrayOf(d.a.object),onChange:d.a.func,refreshAnnotationData:d.a.func};class L extends u.a.PureComponent{constructor(e){var t,n;super(e),this.addAnnotationLayer=i()(t=this.addAnnotationLayer).call(t,this),this.removeAnnotationLayer=i()(n=this.removeAnnotationLayer).call(n,this)}componentDidMount(){F.preload()}UNSAFE_componentWillReceiveProps(e){const{name:t,annotationError:n,validationErrors:r,value:a}=e;l()(n).length&&!r.length&&this.props.actions.setControlValue(t,a,l()(n)),!l()(n).length&&r.length&&this.props.actions.setControlValue(t,a,[])}addAnnotationLayer(e){var t;const n=e;let r=x()(t=this.props.value).call(t);const a=O()(r).call(r,e=>e.name===(n.oldName||n.name));delete n.oldName,a>-1?r[a]=n:r=v()(r).call(r,n),this.props.refreshAnnotationData(n),this.props.onChange(r)}removeAnnotationLayer(e){var t,n;const r=m()(t=x()(n=this.props.value).call(n)).call(t,t=>t.name!==e.oldName);this.props.onChange(r)}renderPopover(e,t,n){const r=t?t.name:"_new",{theme:o}=this.props;return Object(A.e)(w.a,{style:{maxWidth:"none"},title:t?Object(T.c)("Edit Annotation Layer"):Object(T.c)("Add Annotation Layer"),id:"annotation-pop-"+r},Object(A.e)(F,a()({},t,{parent:this.refs[e],error:n,colorScheme:this.props.colorScheme,vizType:this.props.vizType,addAnnotationLayer:this.addAnnotationLayer,removeAnnotationLayer:this.removeAnnotationLayer,close:()=>this.refs[e].hide(),theme:o})))}renderInfo(e){const{annotationError:t,annotationQuery:n}=this.props;return n[e.name]?Object(A.e)("i",{className:"fa fa-refresh",style:{color:"orange"},"aria-hidden":!0}):t[e.name]?Object(A.e)(P.a,{label:"validation-errors",bsStyle:"danger",tooltip:t[e.name]}):e.show?"":Object(A.e)("span",{style:{color:"red"}}," Hidden ")}render(){var e;const t=f()(e=this.props.value).call(e,(e,t)=>Object(A.e)(E.a,{key:t,trigger:"click",rootClose:!0,ref:"overlay-"+t,placement:"right",overlay:this.renderPopover("overlay-"+t,e,this.props.annotationError[e.name])},Object(A.e)(S.a,null,Object(A.e)("span",null,e.name),Object(A.e)("span",{style:{float:"right"}},this.renderInfo(e)))));return Object(A.e)("div",null,Object(A.e)(_.a,null,t,Object(A.e)(E.a,{trigger:"click",rootClose:!0,ref:"overlay-new",placement:"right",overlay:this.renderPopover("overlay-new")},Object(A.e)(S.a,null,Object(A.e)("i",{className:"fa fa-plus"}),"   ",Object(T.c)("Add Annotation Layer")))))}}L.propTypes=N,L.defaultProps={vizType:"",value:[],annotationError:{},annotationQuery:{},onChange:()=>{}};const I=Object(k.c)(L);var B=Object(j.b)((function({charts:e,explore:t}){const n=e[Object(R.f)(t)]||e[0]||{};return{colorScheme:(t.controls||{}).color_scheme.value,annotationError:n.annotationError,annotationQuery:n.annotationQuery,vizType:t.controls.viz_type.value}}),(function(e){return{refreshAnnotationData:t=>e(Object(D.runAnnotationQuery)(t))}}))(I),H=n(238),V=n.n(H),U=n(195),q=n.n(U),z=n(314),G=n(850),W=n(692),Y=n(306),K=n(48);const Q={onChange:d.a.func,value:d.a.array};class X extends u.a.Component{constructor(e){var t,n,r;super(e),this.state={minMax:[null===e.value[0]?"":e.value[0],null===e.value[1]?"":e.value[1]]},this.onChange=i()(t=this.onChange).call(t,this),this.onMinChange=i()(n=this.onMinChange).call(n,this),this.onMaxChange=i()(r=this.onMaxChange).call(r,this)}onMinChange(e){const t=e.target.value;this.setState(e=>({minMax:[t,e.minMax[1]]}),this.onChange)}onMaxChange(e){const t=e.target.value;this.setState(e=>({minMax:[e.minMax[0],t]}),this.onChange)}onChange(){const e=this.state.minMax,t=[];e[0]&&q()(Number(e[0]))&&t.push(Object(T.c)("`Min` value should be numeric or empty")),e[1]&&q()(Number(e[1]))&&t.push(Object(T.c)("`Max` value should be numeric or empty")),0===t.length?this.props.onChange([V()(e[0]),V()(e[1])],t):this.props.onChange([null,null],t)}render(){return Object(A.e)("div",null,Object(A.e)(K.a,this.props),Object(A.e)(z.a,{bsSize:"small"},Object(A.e)(G.a,null,Object(A.e)(W.a,{xs:6},Object(A.e)(Y.a,{type:"text",placeholder:Object(T.c)("Min"),onChange:this.onMinChange,value:this.state.minMax[0]})),Object(A.e)(W.a,{xs:6},Object(A.e)(Y.a,{type:"text",placeholder:Object(T.c)("Max"),onChange:this.onMaxChange,value:this.state.minMax[1]})))))}}X.propTypes=Q,X.defaultProps={onChange:()=>{},value:[null,null]};var Z=n(276),J=n(43),$=n.n(J),ee=n(3),te=n.n(ee),ne=n(77),re=n.n(ne),ae=n(211);n(1176);const oe={name:d.a.string.isRequired,label:d.a.string,description:d.a.string,placeholder:d.a.string,addTooltip:d.a.string,itemGenerator:d.a.func,keyAccessor:d.a.func,onChange:d.a.func,value:d.a.oneOfType([d.a.array]),isFloat:d.a.bool,isInt:d.a.bool,controlName:d.a.string.isRequired},ie={label:null,description:null,onChange:()=>{},placeholder:"Empty collection",itemGenerator:()=>({key:re.a.generate()}),keyAccessor:e=>e.key,value:[],addTooltip:"Add an item"},se=Object(ae.b)(S.a),le=Object(ae.a)(_.a),ce=Object(ae.c)(()=>Object(A.e)("i",{className:"fa fa-bars text-primary",style:{cursor:"ns-resize"}}));class ue extends u.a.Component{constructor(e){var t;super(e),this.onAdd=i()(t=this.onAdd).call(t,this)}onChange(e,t){te()(this.props.value[e],t),this.props.onChange(this.props.value)}onAdd(){var e;this.props.onChange(v()(e=this.props.value).call(e,[this.props.itemGenerator()]))}onSortEnd({oldIndex:e,newIndex:t}){this.props.onChange(Object(ae.d)(this.props.value,e,t))}removeItem(e){var t;this.props.onChange(m()(t=this.props.value).call(t,(t,n)=>e!==n))}renderList(){var e,t;if(0===this.props.value.length)return Object(A.e)("div",{className:"text-muted"},this.props.placeholder);const n=wr[this.props.controlName];return Object(A.e)(le,{useDragHandle:!0,lockAxis:"y",onSortEnd:i()(e=this.onSortEnd).call(e,this)},f()(t=this.props.value).call(t,(e,t)=>{var r,o;const s=this.props,l=$()(s,["label"]);return Object(A.e)(se,{className:"clearfix",key:this.props.keyAccessor(e),index:t},Object(A.e)("div",{className:"pull-left m-r-5"},Object(A.e)(ce,null)),Object(A.e)("div",{className:"pull-left"},Object(A.e)(n,a()({},l,e,{onChange:i()(r=this.onChange).call(r,this,t)}))),Object(A.e)("div",{className:"pull-right"},Object(A.e)(P.a,{icon:"times",label:"remove-item",tooltip:"remove item",bsStyle:"primary",onClick:i()(o=this.removeItem).call(o,this,t)})))}))}render(){return Object(A.e)("div",{className:"CollectionControl"},Object(A.e)(K.a,this.props),this.renderList(),Object(A.e)(P.a,{icon:"plus-circle",label:"add-item",tooltip:this.props.addTooltip,bsStyle:"primary",className:"fa-lg",onClick:this.onAdd}))}}ue.propTypes=oe,ue.defaultProps=ie;var pe=n(10),de=n.n(pe),he=n(463);const fe={onChange:d.a.func,value:d.a.object,colorScheme:d.a.string,colorNamespace:d.a.string},be={onChange:()=>{},value:{},colorScheme:void 0,colorNamespace:void 0};class me extends u.a.PureComponent{constructor(e){var t;super(e),de()(t=l()(this.props.value)).call(t,e=>{he.b.getScale(this.props.colorScheme,this.props.colorNamespace).setColor(e,this.props.value[e])})}render(){return null}}me.propTypes=fe,me.defaultProps=be;var ge=n(937),ve=n(177);const ye={onChange:d.a.func,value:d.a.object},Oe={position:"absolute",width:"50px",height:"20px",top:"0px",left:"0px",right:"0px",bottom:"0px"},Ce={swatch:{width:"50px",height:"20px",position:"relative",padding:"5px",borderRadius:"1px",display:"inline-block",cursor:"pointer",boxShadow:"rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset, rgba(0, 0, 0, 0.25) 0px 0px 4px inset"},color:te()({},Oe,{borderRadius:"2px"}),checkboard:te()({},Oe,{background:'url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==") left center'})};class xe extends u.a.Component{constructor(e){var t;super(e),this.onChange=i()(t=this.onChange).call(t,this)}onChange(e){this.props.onChange(e.rgb)}renderPopover(){var e;const t=m()(e=Object(ve.a)().get().colors).call(e,(e,t)=>t<7);return Object(A.e)(w.a,{id:"filter-popover",className:"color-popover"},Object(A.e)(ge.SketchPicker,{color:this.props.value,onChange:this.onChange,presetColors:t}))}render(){const e=this.props.value||{r:0,g:0,b:0,a:0},t=te()({},Ce.color,{background:"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"});return Object(A.e)("div",null,Object(A.e)(K.a,this.props),Object(A.e)(E.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(A.e)("div",{style:Ce.swatch},Object(A.e)("div",{style:Ce.checkboard}),Object(A.e)("div",{style:t}))))}}xe.propTypes=ye,xe.defaultProps={onChange:()=>{}};var we=n(628),Ee=n(11),Se=n.n(Ee),_e=n(1692),je=n(136),Te=n(1683),ke=n(485),Pe=n(893),Me=n(56),Re=n(105),De=n(659),Ae=n(83),Fe=n(37),Ne=(n(33),n(221)),Le=n(67),Ie=n(1027),Be=n(89),He=n(51),Ve=n(123),Ue=n(73);const qe=["name","type","schema","connection","creator"],ze=["rawName","type","schema","connection","creator"],Ge=Object(T.c)("Changing the datasource may break the chart if the chart relies on columns or metadata that does not exist in the target datasource");var We=Object(Ue.a)(({addDangerToast:e,onChange:t,onDatasourceSave:n,onHide:r,show:a})=>{const[o,i]=Object(c.useState)(null),[s,l]=Object(c.useState)(void 0),[u,p]=Object(c.useState)(!0);let d=Object(c.useRef)(null);return Object(A.e)(Le.a,{show:a,onHide:r,onEnter:()=>{d&&d.current&&d.current.focus(),o||Be.a.get({endpoint:"/superset/datasources/"}).then(({json:a})=>{const o=f()(a).call(a,a=>({rawName:a.name,connection:a.connection,schema:a.schema,name:Object(A.e)("a",{href:"#",onClick:()=>{return o=a,Be.a.get({endpoint:"/datasource/get/"+o.type+"/"+o.id}).then(({json:e})=>{n(e),t(o.uid)}).catch(t=>{Object(He.a)(t).then(({error:t,message:n})=>{const r=t?t.error||t.statusText||t:n;e(r)})}),void r();var o},className:"datasource-link"},a.name),type:a.type}));p(!1),i(o)}).catch(t=>{p(!1),Object(He.a)(t).then(({error:t})=>{e(t.error||t.statusText||t)})})},bsSize:"large"},Object(A.e)(Le.a.Header,{closeButton:!0},Object(A.e)(Le.a.Title,null,Object(T.c)("Select a datasource"))),Object(A.e)(Le.a.Body,null,Object(A.e)(Ie.a,{bsStyle:"warning"},Object(A.e)("strong",null,Object(T.c)("Warning!"))," ",Ge),Object(A.e)("div",null,Object(A.e)(Y.a,{inputRef:e=>{(e=>{d=e})(e)},type:"text",bsSize:"sm",value:s,placeholder:Object(T.c)("Search / Filter"),onChange:e=>{var t,n;l(null!=(t=null===(n=e.currentTarget)||void 0===n?void 0:n.value)?t:"")}})),u&&Object(A.e)(Ve.a,null),o&&Object(A.e)(Ne.Table,{columns:qe,className:"table table-condensed",data:o,itemsPerPage:20,filterable:ze,filterBy:s,hideFilterInput:!0})))}),Ye=n(715),Ke=n(63);n(1229);function Qe(){const e=Se()(["\n  #datasource_menu {\n    margin-left: ","px;\n    box-shadow: none;\n    &:active {\n      box-shadow: none;\n    }\n  }\n  .btn-group .open .dropdown-toggle {\n    box-shadow: none;\n    &.button-default {\n      background: none;\n    }\n  }\n"]);return Qe=function(){return e},e}const Xe={actions:d.a.object.isRequired,onChange:d.a.func,value:d.a.string,datasource:d.a.object.isRequired,isEditable:d.a.bool,onDatasourceSave:d.a.func},Ze=Me.a.div(Qe(),({theme:e})=>e.gridUnit);class Je extends u.a.PureComponent{constructor(e){var t,n,r,a,o;super(e),this.state={showEditDatasourceModal:!1,showChangeDatasourceModal:!1},this.onDatasourceSave=i()(t=this.onDatasourceSave).call(t,this),this.toggleChangeDatasourceModal=i()(n=this.toggleChangeDatasourceModal).call(n,this),this.toggleEditDatasourceModal=i()(r=this.toggleEditDatasourceModal).call(r,this),this.toggleShowDatasource=i()(a=this.toggleShowDatasource).call(a,this),this.renderDatasource=i()(o=this.renderDatasource).call(o,this)}onDatasourceSave(e){this.props.actions.setDatasource(e),this.props.onDatasourceSave&&this.props.onDatasourceSave(e)}toggleShowDatasource(){this.setState(({showDatasource:e})=>({showDatasource:!e}))}toggleChangeDatasourceModal(){this.setState(({showChangeDatasourceModal:e})=>({showChangeDatasourceModal:!e}))}toggleEditDatasourceModal(){this.setState(({showEditDatasourceModal:e})=>({showEditDatasourceModal:!e}))}renderDatasource(){var e,t;const{datasource:n}=this.props;return Object(A.e)("div",{className:"m-t-10"},Object(A.e)(_e.a,{className:"m-t-0"},Object(A.e)("div",{className:"m-b-10"},Object(A.e)(Ke.a,null,Object(A.e)("i",{className:"fa fa-database"})," ",n.database.backend)," "+n.database.name+" "),Object(A.e)(G.a,{className:"datasource-container"},Object(A.e)(W.a,{md:6},Object(A.e)("strong",null,"Columns"),f()(e=n.columns).call(e,e=>Object(A.e)("div",{key:e.column_name},Object(A.e)(Re.a,{showType:!0,column:e})))),Object(A.e)(W.a,{md:6},Object(A.e)("strong",null,"Metrics"),f()(t=n.metrics).call(t,e=>Object(A.e)("div",{key:e.metric_name},Object(A.e)(De.a,{metric:e,showType:!0})))))))}render(){const{showChangeDatasourceModal:e,showEditDatasourceModal:t,showDatasource:n}=this.state,{datasource:r,onChange:a,value:o}=this.props;return Object(A.e)(Ze,{className:"DatasourceControl"},Object(A.e)(K.a,this.props),Object(A.e)("div",null,Object(A.e)(E.a,{placement:"top",overlay:Object(A.e)(je.a,{id:"toggle-datasource-tooltip"},Object(T.c)("Expand/collapse datasource configuration"))},Object(A.e)(Ke.a,{style:{textTransform:"none"},onClick:this.toggleShowDatasource},r.name," ",Object(A.e)("i",{className:"angle fa fa-angle-"+(n?"up":"down")}))),Object(A.e)(Ae.a,{label:"change-datasource",tooltip:Object(T.c)("more dataset related options"),trigger:["hover"]},Object(A.e)(Te.a,{title:Object(A.e)(Fe.a,{name:"more-horiz"}),className:"",bsSize:"sm",id:"datasource_menu"},Object(A.e)(ke.a,{eventKey:"3",onClick:this.toggleChangeDatasourceModal},Object(T.c)("Change Datasource")),"table"===r.type&&Object(A.e)(ke.a,{eventKey:"3",href:"/superset/sqllab?datasourceKey="+o,target:"_blank",rel:"noopener noreferrer"},Object(T.c)("Explore in SQL Lab")),this.props.isEditable&&Object(A.e)(ke.a,{eventKey:"3",onClick:this.toggleEditDatasourceModal},Object(T.c)("Edit Datasource"))))),Object(A.e)(Pe.a,{in:this.state.showDatasource},this.renderDatasource()),Object(A.e)(Ye.a,{datasource:r,show:t,onDatasourceSave:this.onDatasourceSave,onHide:this.toggleEditDatasourceModal}),Object(A.e)(We,{onDatasourceSave:this.onDatasourceSave,onHide:this.toggleChangeDatasourceModal,show:e,onChange:a}))}}Je.propTypes=Xe,Je.defaultProps={onChange:()=>{},onDatasourceSave:null,value:null,isEditable:!0};var $e=Je,et=n(839),tt=n(1950),nt=n(206),rt=(n(855),n(36)),at=n.n(rt),ot=n(1132),it=n.n(ot),st=n(44),lt=n.n(st),ct=n(252),ut=n.n(ct),pt=n(52),dt=n.n(pt),ht=n(90),ft=n.n(ht),bt=n(50),mt=n.n(bt),gt=n(720),vt=n.n(gt),yt=n(64),Ot=n.n(yt),Ct=n(167),xt=n.n(Ct),wt=n(214),Et=n(228),St=d.a.shape({aggregate_name:d.a.string.isRequired});const _t={aggregate:St,showType:d.a.bool};function jt({aggregate:e,showType:t}){return Object(A.e)("div",null,t&&Object(A.e)(Et.a,{type:"aggregate"}),Object(A.e)("span",{className:"m-r-5 option-label"},e.aggregate_name))}jt.propTypes=_t;var Tt=d.a.shape({column_name:d.a.string.isRequired,type:d.a.string}),kt=d.a.shape({metric_name:d.a.string.isRequired,expression:d.a.string.isRequired});const Pt={option:d.a.oneOfType([Tt,kt,St]).isRequired,addWarningToast:d.a.func.isRequired};function Mt({option:e,addWarningToast:t}){return e.metric_name?Object(A.e)(De.a,{metric:e,showType:!0}):e.column_name?Object(A.e)(Re.a,{column:e,showType:!0}):e.aggregate_name?Object(A.e)(jt,{aggregate:e,showType:!0}):(t("You must supply either a saved metric, column or aggregate to MetricDefinitionOption"),null)}Mt.propTypes=Pt;var Rt=Object(Ue.a)(Mt),Dt=n(1691),At=n(1690),Ft=n(21),Nt=n(41),Lt=n(69),It=n(153),Bt=n(312),Ht=n(26),Vt=(n(121),n(1133)),Ut=n.n(Vt);const qt="SIMPLE",zt="SQL";function Gt(e){if(e.sqlExpression&&Ht.p.test(e.sqlExpression)){var t,n;const r=at()(t=e.sqlExpression).call(t,")"),a=Ut()(n=e.sqlExpression.substring(0,r)).call(n,"(");if(r>0&&a>0)return e.sqlExpression.substring(a+1,r)}return null}function Wt(e){if(e.sqlExpression&&Ht.p.test(e.sqlExpression)){var t;const n=at()(t=e.sqlExpression).call(t,"(");if(n>0)return e.sqlExpression.substring(0,n)}return null}class Yt{constructor(e){if(this.expressionType=e.expressionType||qt,this.expressionType===qt){const t=Gt(e);this.column=e.column||t&&{column_name:t},this.aggregate=e.aggregate||Wt(e),this.sqlExpression=null}else this.expressionType===zt&&(this.sqlExpression=e.sqlExpression,this.column=null,this.aggregate=null);this.isNew=!!e.isNew,this.hasCustomLabel=!(!e.hasCustomLabel||!e.label),this.label=this.hasCustomLabel?e.label:this.getDefaultLabel(),this.optionName=e.optionName||"metric_"+Math.random().toString(36).substring(2,15)+"_"+Math.random().toString(36).substring(2,15)}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}translateToSql(){return this.expressionType===qt?(this.aggregate||"")+"("+(this.column&&this.column.column_name||"")+")":this.expressionType===zt?this.sqlExpression:""}duplicateWith(e){return new Yt(te()({},this,{isNew:!1},e))}equals(e){return e.label===this.label&&e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.aggregate===this.aggregate&&(e.column&&e.column.column_name)===(this.column&&this.column.column_name)}isValid(){return this.expressionType===qt?!(!this.column||!this.aggregate):this.expressionType===zt&&!!this.sqlExpression}inferSqlExpressionAggregate(){return Wt(this)}inferSqlExpressionColumn(){return Gt(this)}}const Kt={adhocMetric:d.a.instanceOf(Yt),onChange:d.a.func.isRequired};class Qt extends u.a.Component{constructor(e){var t,n,r,a;super(e),this.onMouseOver=i()(t=this.onMouseOver).call(t,this),this.onMouseOut=i()(n=this.onMouseOut).call(n,this),this.onClick=i()(r=this.onClick).call(r,this),this.onBlur=i()(a=this.onBlur).call(a,this),this.state={isHovered:!1,isEditable:!1}}onMouseOver(){this.setState({isHovered:!0})}onMouseOut(){this.setState({isHovered:!1})}onClick(){this.setState({isEditable:!0})}onBlur(){this.setState({isEditable:!1})}render(){const{adhocMetric:e,onChange:t}=this.props,n=Object(A.e)(je.a,{id:"edit-metric-label-tooltip"},"Click to edit label");return this.state.isEditable?Object(A.e)(Y.a,{className:"metric-edit-popover-label-input",type:"text",placeholder:e.label,value:e.hasCustomLabel?e.label:"",autoFocus:!0,onChange:t,"data-test":"AdhocMetricEditTitle#input"}):Object(A.e)(E.a,{placement:"top",overlay:n,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onClick:this.onClick,onBlur:this.onBlur,className:"AdhocMetricEditPopoverTitle"},Object(A.e)("span",{className:"inline-editable","data-test":"AdhocMetricEditTitle#trigger"},e.hasCustomLabel?e.label:"My Metric"," ",Object(A.e)("i",{className:"fa fa-pencil",style:{color:this.state.isHovered?"black":"grey"}})))}}Qt.propTypes=Kt;const Xt={adhocMetric:d.a.instanceOf(Yt).isRequired,onChange:d.a.func.isRequired,onClose:d.a.func.isRequired,onResize:d.a.func.isRequired,columns:d.a.arrayOf(Tt),datasourceType:d.a.string,theme:d.a.object};class Zt extends u.a.Component{constructor(e){var t,n,r,a,o,s,l,c,u,p;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onColumnChange=i()(n=this.onColumnChange).call(n,this),this.onAggregateChange=i()(r=this.onAggregateChange).call(r,this),this.onSqlExpressionChange=i()(a=this.onSqlExpressionChange).call(a,this),this.onLabelChange=i()(o=this.onLabelChange).call(o,this),this.onDragDown=i()(s=this.onDragDown).call(s,this),this.onMouseMove=i()(l=this.onMouseMove).call(l,this),this.onMouseUp=i()(c=this.onMouseUp).call(c,this),this.handleAceEditorRef=i()(u=this.handleAceEditorRef).call(u,this),this.refreshAceEditor=i()(p=this.refreshAceEditor).call(p,this),this.state={adhocMetric:this.props.adhocMetric,width:300,height:180},this.selectProps={labelKey:"label",isMulti:!1,autosize:!1,clearable:!0},document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onSave(){this.props.onChange(this.state.adhocMetric),this.props.onClose()}onColumnChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({column:e,expressionType:qt})}))}onAggregateChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({aggregate:e,expressionType:qt})}))}onSqlExpressionChange(e){this.setState(t=>({adhocMetric:t.adhocMetric.duplicateWith({sqlExpression:e,expressionType:zt})}))}onLabelChange(e){const t=e.target.value;this.setState(e=>({adhocMetric:e.adhocMetric.duplicateWith({label:t,hasCustomLabel:!0})}))}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),300),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),180)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}refreshAceEditor(){ft()(()=>{this.aceEditorRef&&this.aceEditorRef.editor.resize()},0)}renderColumnOption(e){return Object(A.e)(Re.a,{column:e,showType:!0})}render(){const e=this.props,{adhocMetric:t,columns:n,theme:r}=e,o=$()(e,["adhocMetric","columns","onChange","onClose","onResize","datasourceType","theme"]),{adhocMetric:i}=this.state,s=v()(Bt.a).call(Bt.a,f()(n).call(n,e=>({name:e.column_name,value:e.column_name,score:50,meta:"column"}))),l={placeholder:Object(T.c)("%s column(s)",n.length),options:n,value:i.column&&i.column.column_name||i.inferSqlExpressionColumn(),onChange:this.onColumnChange,optionRenderer:this.renderColumnOption,valueKey:"column_name"},c={placeholder:Object(T.c)("%s aggregates(s)",Ht.b.length),options:Ht.b,value:i.aggregate||i.inferSqlExpressionAggregate(),onChange:this.onAggregateChange};var u;"druid"===this.props.datasourceType&&(c.options=m()(u=c.options).call(u,e=>"AVG"!==e));const p=Object(A.e)(Qt,{adhocMetric:i,onChange:this.onLabelChange}),d=i.isValid(),h=!i.equals(t);return Object(A.e)(w.a,a()({id:"metrics-edit-popover",title:p},o),Object(A.e)(k.a,{theme:r},Object(A.e)(Dt.a,{id:"adhoc-metric-edit-tabs",defaultActiveKey:i.expressionType,className:"adhoc-metric-edit-tabs",style:{height:this.state.height,width:this.state.width},onSelect:this.refreshAceEditor,animation:!1},Object(A.e)(At.a,{className:"adhoc-metric-edit-tab",eventKey:qt,title:"Simple"},Object(A.e)(z.a,null,Object(A.e)(Lt.a,null,Object(A.e)("strong",null,"column")),Object(A.e)(Nt.g,a()({name:"select-column"},this.selectProps,l))),Object(A.e)(z.a,null,Object(A.e)(Lt.a,null,Object(A.e)("strong",null,"aggregate")),Object(A.e)(Nt.g,a()({name:"select-aggregate"},this.selectProps,c,{autoFocus:!0})))),Object(A.e)(At.a,{className:"adhoc-metric-edit-tab",eventKey:zt,title:"Custom SQL","data-test":"adhoc-metric-edit-tab#custom"},"druid"!==this.props.datasourceType?Object(A.e)(z.a,null,Object(A.e)(It.f,{showLoadingForImport:!0,ref:this.handleAceEditorRef,keywords:s,height:this.state.height-43+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:i.sqlExpression||i.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})):Object(A.e)("div",{className:"custom-sql-disabled-message"},"Custom SQL Metrics are not available on druid datasources"))),Object(A.e)("div",null,Object(A.e)(Ft.a,{disabled:!d,buttonStyle:h&&d?"primary":"default",buttonSize:"small",className:"m-r-5","data-test":"AdhocMetricEdit#save",onClick:this.onSave,cta:!0},"Save"),Object(A.e)(Ft.a,{buttonSize:"small",onClick:this.props.onClose,"data-test":"AdhocMetricEdit#cancel",cta:!0},"Close"),Object(A.e)("i",{role:"button","aria-label":"Resize",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"}))))}}Zt.propTypes=Xt,Zt.defaultProps={columns:[]};const Jt={adhocMetric:d.a.instanceOf(Yt),onMetricEdit:d.a.func.isRequired,columns:d.a.arrayOf(Tt),multi:d.a.bool,datasourceType:d.a.string};class $t extends u.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.closeMetricEditOverlay=i()(t=this.closeMetricEditOverlay).call(t,this),this.onOverlayEntered=i()(n=this.onOverlayEntered).call(n,this),this.onOverlayExited=i()(r=this.onOverlayExited).call(r,this),this.onPopoverResize=i()(a=this.onPopoverResize).call(a,this),this.state={overlayShown:!1},this.overlay=null}onPopoverResize(){this.forceUpdate()}onOverlayEntered(){this.props.adhocMetric.isNew=!1,this.setState({overlayShown:!0})}onOverlayExited(){this.setState({overlayShown:!1})}closeMetricEditOverlay(){this.overlay.hide()}render(){const{adhocMetric:e,theme:t}=this.props,n=Object(A.e)(Zt,{onResize:this.onPopoverResize,adhocMetric:e,onChange:this.props.onMetricEdit,onClose:this.closeMetricEditOverlay,columns:this.props.columns,datasourceType:this.props.datasourceType,theme:t});return Object(A.e)("div",{className:"metric-option",onMouseDownCapture:e=>e.stopPropagation()},Object(A.e)(E.a,{ref:e=>{this.overlay=e},placement:"right",trigger:"click",disabled:!0,overlay:n,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:e.isNew,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},Object(A.e)(Ke.a,{className:"option-label adhoc-option"},e.label,Object(A.e)("i",{className:"fa fa-caret-"+(this.state.overlayShown?"left":"right")+" adhoc-label-arrow"}))))}}var en=Object(k.c)($t);$t.propTypes=Jt;var tn=d.a.oneOfType([d.a.shape({expressionType:d.a.oneOf([qt]).isRequired,column:Tt.isRequired,aggregate:d.a.oneOf(l()(Ht.a)).isRequired,label:d.a.string.isRequired}),d.a.shape({expressionType:d.a.oneOf([zt]).isRequired,sqlExpression:d.a.string.isRequired,label:d.a.string.isRequired})]);const nn={option:d.a.oneOfType([kt,tn]).isRequired,onMetricEdit:d.a.func,columns:d.a.arrayOf(Tt),multi:d.a.bool,datasourceType:d.a.string};function rn({option:e,onMetricEdit:t,columns:n,multi:r,datasourceType:a}){return e.metric_name?Object(A.e)(De.a,{metric:e}):e instanceof Yt?Object(A.e)(en,{adhocMetric:e,onMetricEdit:t,columns:n,multi:r,datasourceType:a}):null}rn.propTypes=nn;const an={name:d.a.string.isRequired,onChange:d.a.func,value:d.a.oneOfType([d.a.arrayOf(d.a.oneOfType([d.a.string,tn])),d.a.oneOfType([d.a.string,tn])]),columns:d.a.arrayOf(Tt),savedMetrics:d.a.arrayOf(kt),multi:d.a.bool,clearable:d.a.bool,datasourceType:d.a.string};function on(e){return e&&!(e instanceof Yt)&&e.expressionType}function sn(e){return e?mt()(e)?f()(e).call(e,e=>on(e)?new Yt(e):e):on(e)?[new Yt(e)]:[e]:[]}function ln(e){const{type:t}=e;return"string"!=typeof t?Ht.a.COUNT:""===t||"expression"===t?Ht.a.SUM:t.match(/.*char.*/i)||t.match(/string.*/i)||t.match(/.*text.*/i)?Ht.a.COUNT_DISTINCT:t.match(/.*int.*/i)||"LONG"===t||"DOUBLE"===t||"FLOAT"===t?Ht.a.SUM:t.match(/.*bool.*/i)?Ht.a.MAX:t.match(/.*time.*/i)?Ht.a.COUNT:t.match(/unknown/i)?Ht.a.COUNT:null}class cn extends u.a.PureComponent{constructor(e){var t,n,r,a,o,s;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.onMetricEdit=i()(n=this.onMetricEdit).call(n,this),this.checkIfAggregateInInput=i()(r=this.checkIfAggregateInInput).call(r,this),this.optionsForSelect=i()(a=this.optionsForSelect).call(a,this),this.selectFilterOption=i()(o=this.selectFilterOption).call(o,this),this.isAutoGeneratedMetric=i()(s=this.isAutoGeneratedMetric).call(s,this),this.optionRenderer=e=>Object(A.e)(Rt,{option:e}),this.valueRenderer=e=>Object(A.e)(rn,{option:e,onMetricEdit:this.onMetricEdit,columns:this.props.columns,multi:this.props.multi,datasourceType:this.props.datasourceType}),this.select=null,this.selectRef=e=>{this.select=e?e.select:null},this.state={aggregateInInput:null,options:this.optionsForSelect(this.props),value:sn(this.props.value)}}UNSAFE_componentWillReceiveProps(e){const{value:t}=this.props;if(!xt()(this.props.columns,e.columns)||!xt()(this.props.savedMetrics,e.savedMetrics)){this.setState({options:this.optionsForSelect(e)}),function(e,t){var n,r,a,o,i;const s=new Ot.a(f()(n=[...t.columns||[],...t.savedMetrics||[]]).call(n,({column_name:e,metric_name:t})=>e||t));return vt()(r=m()(a=f()(o=m()(i=mt()(e)?e:[e]).call(i,e=>e)).call(o,e=>e.column?e.column.column_name:e.column_name||e)).call(a,e=>e&&"string"==typeof e)).call(r,e=>s.has(e))}(t,e)||this.props.onChange([])}t!==e.value&&this.setState({value:sn(e.value)})}onMetricEdit(e){var t;let n=f()(t=this.state.value).call(t,t=>t.optionName===e.optionName?e:t);this.props.multi||(n=n[0]),this.props.onChange(n)}onChange(e){var t;if(null===e)return void this.props.onChange(null);let n;n=mt()(e)?e:e?[e]:[];const r=m()(t=f()(n).call(n,e=>{if(e.metric_name)return e.metric_name;if(e.column_name){const t=this.clearedAggregateInInput;return this.clearedAggregateInInput=null,new Yt({isNew:!0,column:e,aggregate:t||ln(e)})}if(e instanceof Yt)return e;if(e.aggregate_name&&this.select){const t=e.aggregate_name+"()";this.select.inputRef.value=t,this.select.handleInputChange({currentTarget:{value:t}}),ft()(()=>{this.select.focusInput(),this.select.inputRef.selectionStart=t.length-1,this.select.inputRef.selectionEnd=t.length-1})}return null})).call(t,e=>e);this.props.onChange(this.props.multi?r:r[0])}checkIfAggregateInInput(e){const t=e.toLowerCase(),n=dt()(Ht.b).call(Ht.b,e=>ut()(t).call(t,e.toLowerCase()+"("))||null;this.clearedAggregateInInput=this.state.aggregateInInput,this.setState({aggregateInInput:n})}optionsForSelect(e){const{columns:t,savedMetrics:n}=e,r=[...t||[],...t&&t.length?f()(Ht.b).call(Ht.b,e=>({aggregate_name:e})):[],...n||[]];return lt()(r).call(r,(e,t)=>(t.metric_name?e.push(te()({},t,{optionName:t.metric_name})):t.column_name?e.push(te()({},t,{optionName:"_col_"+t.column_name})):t.aggregate_name&&e.push(te()({},t,{optionName:"_aggregate_"+t.aggregate_name})),e),[])}isAutoGeneratedMetric(e){return"druid"===this.props.datasourceType?Ht.n.test(e.verbose_name):Ht.o.test(e.metric_name)}selectFilterOption({data:e},t){var n,r;if(this.state.aggregateInInput){var a;let n=t.length;it()(t).call(t,")")&&(n=t.length-1);const r=t.substring(at()(t).call(t,"(")+1,n);return e.column_name&&at()(a=e.column_name.toLowerCase()).call(a,r)>=0}return e.optionName&&(!e.metric_name||!this.isAutoGeneratedMetric(e)||e.verbose_name)&&(at()(n=e.optionName.toLowerCase()).call(n,t)>=0||e.verbose_name&&at()(r=e.verbose_name.toLowerCase()).call(r,t)>=0)}render(){return Object(A.e)("div",{className:"metrics-select"},Object(A.e)(K.a,this.props),Object(A.e)(wt.a,{isMulti:this.props.multi,name:"select-"+this.props.name,placeholder:Object(T.c)("choose a column or aggregate function"),options:this.state.options,value:this.state.value,labelKey:"label",valueKey:"optionName",clearable:this.props.clearable,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,valueRenderedAsLabel:!0,onInputChange:this.checkIfAggregateInInput,filterOption:this.selectFilterOption,selectRef:this.selectRef}))}}cn.propTypes=an,cn.defaultProps={onChange:()=>{},clearable:!0,savedMetrics:[],columns:[]};var un=n(250);const pn="fix",dn="metric",hn={onChange:d.a.func,value:d.a.object,isFloat:d.a.bool,datasource:d.a.object.isRequired,default:d.a.shape({type:d.a.oneOf(["fix","metric"]),value:d.a.oneOfType([d.a.string,d.a.number])})},fn={onChange:()=>{},default:{type:pn,value:5}};class bn extends u.a.Component{constructor(e){var t,n,r,a,o;super(e),this.onChange=i()(t=this.onChange).call(t,this),this.setType=i()(n=this.setType).call(n,this),this.setFixedValue=i()(r=this.setFixedValue).call(r,this),this.setMetric=i()(a=this.setMetric).call(a,this),this.toggle=i()(o=this.toggle).call(o,this);const s=(e.value?e.value.type:e.default.type)||pn,l=(e.value?e.value.value:e.default.value)||"100";this.state={type:s,fixedValue:s===pn?l:"",metricValue:s===dn?l:null}}onChange(){this.props.onChange({type:this.state.type,value:this.state.type===pn?this.state.fixedValue:this.state.metricValue})}setType(e){this.setState({type:e},this.onChange)}setFixedValue(e){this.setState({fixedValue:e},this.onChange)}setMetric(e){this.setState({metricValue:e},this.onChange)}toggle(){this.setState(e=>({expanded:!e.expanded}))}render(){const e=(this.props.value||this.props.default).type||pn,t=this.props.datasource?this.props.datasource.columns:null,n=this.props.datasource?this.props.datasource.metrics:null;return Object(A.e)("div",null,Object(A.e)(K.a,this.props),Object(A.e)(Ke.a,{onClick:this.toggle},this.state.type===pn&&Object(A.e)("span",null,this.state.fixedValue),this.state.type===dn&&Object(A.e)("span",null,Object(A.e)("span",{style:{fontWeight:"normal"}},"metric: "),Object(A.e)("strong",null,this.state.metricValue?this.state.metricValue.label:null))),Object(A.e)(tt.a,{className:"panel-spreaded",collapsible:!0,expanded:this.state.expanded,onToggle:this.toggle},Object(A.e)(tt.a.Collapse,null,Object(A.e)(tt.a.Body,null,Object(A.e)("div",{className:"well"},Object(A.e)(un.a,{title:"Fixed",isSelected:e===pn,onSelect:()=>{this.setType(pn)}},Object(A.e)(nt.a,{isFloat:!0,onChange:this.setFixedValue,onFocus:()=>{this.setType(pn)},value:this.state.fixedValue})),Object(A.e)(un.a,{title:"Based on a metric",isSelected:e===dn,onSelect:()=>{this.setType(dn)}},Object(A.e)(cn,{name:"metric",columns:t,savedMetrics:n,multi:!1,onFocus:()=>{this.setType(dn)},onChange:this.setMetric,value:this.state.metricValue})))))))}}bn.propTypes=hn,bn.defaultProps=fn;const mn={onChange:d.a.func,value:d.a.oneOfType([d.a.string,d.a.number,d.a.object,d.a.bool,d.a.array,d.a.func])};function gn(e){return Object(A.e)(Y.a,{type:"hidden",value:e.value})}gn.propTypes=mn,gn.defaultProps={onChange:()=>{}};var vn=n(933),yn=n(248),On=n(1041),Cn=n.n(On);n(1165),n(1232);function xn(e){return Object(A.e)("span",{className:"BootstrapSliderWrapper"},Object(A.e)(Cn.a,e))}const wn={onChange:d.a.func,value:d.a.oneOfType([d.a.string,d.a.number])};function En(e){return Object(A.e)("div",null,Object(A.e)(K.a,e),Object(A.e)(xn,a()({},e,{change:t=>{e.onChange(t.target.value)}})))}En.propTypes=wn,En.defaultProps={onChange:()=>{}};var Sn=n(935),_n=n(934);const jn={label:d.a.string,tooltip:d.a.string,colType:d.a.string,width:d.a.string,height:d.a.string,timeLag:d.a.oneOfType([d.a.string,d.a.number]),timeRatio:d.a.string,comparisonType:d.a.string,showYAxis:d.a.bool,yAxisBounds:d.a.array,bounds:d.a.array,d3format:d.a.string,dateFormat:d.a.string,onChange:d.a.func},Tn={label:Object(T.c)("Time Series Columns"),tooltip:"",colType:"",width:"",height:"",timeLag:"",timeRatio:"",comparisonType:"",showYAxis:!1,yAxisBounds:[null,null],bounds:[null,null],d3format:"",dateFormat:"",onChange:()=>{}},kn=[{value:"value",label:"Actual value"},{value:"diff",label:"Difference"},{value:"perc",label:"Percentage"},{value:"perc_change",label:"Percentage Change"}],Pn=[{value:"time",label:"Time Comparison"},{value:"contrib",label:"Contribution"},{value:"spark",label:"Sparkline"},{value:"avg",label:"Period Average"}];class Mn extends u.a.Component{constructor(e){var t;super(e);const n={label:this.props.label,tooltip:this.props.tooltip,colType:this.props.colType,width:this.props.width,height:this.props.height,timeLag:this.props.timeLag||0,timeRatio:this.props.timeRatio,comparisonType:this.props.comparisonType,showYAxis:this.props.showYAxis,yAxisBounds:this.props.yAxisBounds,bounds:this.props.bounds,d3format:this.props.d3format,dateFormat:this.props.dateFormat};delete n.onChange,this.state=n,this.onChange=i()(t=this.onChange).call(t,this)}onChange(){this.props.onChange(this.state)}onSelectChange(e,t){this.setState({[e]:t.value},this.onChange)}onTextInputChange(e,t){this.setState({[e]:t.target.value},this.onChange)}onCheckboxChange(e,t){this.setState({[e]:t},this.onChange)}onBoundsChange(e){this.setState({bounds:e},this.onChange)}onYAxisBoundsChange(e){this.setState({yAxisBounds:e},this.onChange)}setType(){}textSummary(){return""+this.state.label}edit(){}formRow(e,t,n,r){return Object(A.e)(G.a,{style:{marginTop:"5px"}},Object(A.e)(W.a,{md:5},e+" ",Object(A.e)(P.a,{placement:"top",tooltip:t,label:n})),Object(A.e)(W.a,{md:7},r))}renderPopover(){var e,t,n,r,a,o,s,l,c,u,p,d,h,f,b;return Object(A.e)(w.a,{id:"ts-col-popo",title:"Column Configuration"},Object(A.e)("div",{style:{width:300}},this.formRow("Label","The column header label","time-lag",Object(A.e)(Y.a,{value:this.state.label,onChange:i()(e=this.onTextInputChange).call(e,this,"label"),bsSize:"small",placeholder:"Label"})),this.formRow("Tooltip","Column header tooltip","col-tooltip",Object(A.e)(Y.a,{value:this.state.tooltip,onChange:i()(t=this.onTextInputChange).call(t,this,"tooltip"),bsSize:"small",placeholder:"Tooltip"})),this.formRow("Type","Type of comparison, value difference or percentage","col-type",Object(A.e)(Nt.g,{value:this.state.colType,clearable:!1,onChange:i()(n=this.onSelectChange).call(n,this,"colType"),options:Pn})),Object(A.e)("hr",null),"spark"===this.state.colType&&this.formRow("Width","Width of the sparkline","spark-width",Object(A.e)(Y.a,{value:this.state.width,onChange:i()(r=this.onTextInputChange).call(r,this,"width"),bsSize:"small",placeholder:"Width"})),"spark"===this.state.colType&&this.formRow("Height","Height of the sparkline","spark-width",Object(A.e)(Y.a,{value:this.state.height,onChange:i()(a=this.onTextInputChange).call(a,this,"height"),bsSize:"small",placeholder:"height"})),at()(o=["time","avg"]).call(o,this.state.colType)>=0&&this.formRow("Time Lag","Number of periods to compare against","time-lag",Object(A.e)(Y.a,{value:this.state.timeLag,onChange:i()(s=this.onTextInputChange).call(s,this,"timeLag"),bsSize:"small",placeholder:"Time Lag"})),at()(l=["spark"]).call(l,this.state.colType)>=0&&this.formRow("Time Ratio","Number of periods to ratio against","time-ratio",Object(A.e)(Y.a,{value:this.state.timeRatio,onChange:i()(c=this.onTextInputChange).call(c,this,"timeRatio"),bsSize:"small",placeholder:"Time Ratio"})),"time"===this.state.colType&&this.formRow("Type","Type of comparison, value difference or percentage","comp-type",Object(A.e)(Nt.g,{value:this.state.comparisonType,clearable:!1,onChange:i()(u=this.onSelectChange).call(u,this,"comparisonType"),options:kn})),"spark"===this.state.colType&&this.formRow("Show Y-axis","Show Y-axis on the sparkline. Will display the manually set min/max if set or min/max values in the data otherwise.","show-y-axis-bounds",Object(A.e)(Z.a,{value:this.state.showYAxis,onChange:i()(p=this.onCheckboxChange).call(p,this,"showYAxis")})),"spark"===this.state.colType&&this.formRow("Y-axis bounds","Manually set min/max values for the y-axis.","y-axis-bounds",Object(A.e)(X,{value:this.state.yAxisBounds,onChange:i()(d=this.onYAxisBoundsChange).call(d,this)})),"spark"!==this.state.colType&&this.formRow("Color bounds","Number bounds used for color encoding from red to blue.\n              Reverse the numbers for blue to red. To get pure red or blue,\n              you can enter either only min or max.","bounds",Object(A.e)(X,{value:this.state.bounds,onChange:i()(h=this.onBoundsChange).call(h,this)})),this.formRow("Number format","Optional d3 number format string","d3-format",Object(A.e)(Y.a,{value:this.state.d3format,onChange:i()(f=this.onTextInputChange).call(f,this,"d3format"),bsSize:"small",placeholder:"Number format string"})),"spark"===this.state.colType&&this.formRow("Date format","Optional d3 date format string","date-format",Object(A.e)(Y.a,{value:this.state.dateFormat,onChange:i()(b=this.onTextInputChange).call(b,this,"dateFormat"),bsSize:"small",placeholder:"Date format string"}))))}render(){var e;return Object(A.e)("span",null,this.textSummary()," ",Object(A.e)(E.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(A.e)(P.a,{icon:"edit",className:"text-primary",onClick:i()(e=this.edit).call(e,this),label:"edit-ts-column"})))}}Mn.propTypes=jn,Mn.defaultProps=Tn;var Rn=n(329),Dn=n(712),An=n(160),Fn=n.n(An),Nn=n(170),Ln=n.n(Nn),In=n(223);const Bn="SIMPLE",Hn="SQL",Vn={HAVING:"HAVING",WHERE:"WHERE"},Un={"==":"=","!=":"<>",">":">","<":"<",">=":">=","<=":"<=",in:"in","not in":"not in",LIKE:"like",regex:"regex","IS NOT NULL":"IS NOT NULL","IS NULL":"IS NULL","LATEST PARTITION":({datasource:e})=>"= '{{ presto.latest_partition('"+e.schema+"."+e.datasource_name+"') }}'"};function qn(e,{useSimple:t}={}){if(e.expressionType===Bn||t){const t=Ht.i.has(e.operator),{subject:n}=e;return n+" "+(e.operator&&Ht.c.has(e.operator)?Un[e.operator](e):Un[e.operator])+" "+(t?"('":"")+(mt()(e.comparator)?e.comparator.join("','"):e.comparator||"")+(t?"')":"")}return e.expressionType===Hn?e.sqlExpression:""}class zn{constructor(e){this.expressionType=e.expressionType||Bn,this.expressionType===Bn?(this.subject=e.subject,this.operator=e.operator,this.comparator=e.comparator,this.clause=e.clause,this.sqlExpression=null):this.expressionType===Hn&&(this.sqlExpression="string"==typeof e.sqlExpression?e.sqlExpression:qn(e,{useSimple:!0}),this.clause=e.clause,e.operator&&Ht.c.has(e.operator)?(this.subject=e.subject,this.operator=e.operator):(this.subject=null,this.operator=null),this.comparator=null),this.isExtra=!!e.isExtra,this.isNew=!!e.isNew,this.filterOptionName=e.filterOptionName||"filter_"+Math.random().toString(36).substring(2,15)+"_"+Math.random().toString(36).substring(2,15)}duplicateWith(e){return new zn(te()({},this,{isNew:!1},e))}equals(e){return e.expressionType===this.expressionType&&e.sqlExpression===this.sqlExpression&&e.operator===this.operator&&e.comparator===this.comparator&&e.subject===this.subject}isValid(){if(this.expressionType===Bn){if("IS NOT NULL"===this.operator||"IS NULL"===this.operator)return!(!this.operator||!this.subject);if(this.operator&&this.subject&&this.clause)if(mt()(this.comparator)){if(this.comparator.length>0)return!0}else if(null!==this.comparator)return!0}else if(this.expressionType===Hn)return!(!this.sqlExpression||!this.clause);return!1}getDefaultLabel(){const e=this.translateToSql();return e.length<43?e:e.substring(0,40)+"..."}translateToSql(){return qn(this)}}var Gn=d.a.oneOfType([d.a.shape({expressionType:d.a.oneOf([Bn]).isRequired,clause:d.a.oneOf([Vn.HAVING,Vn.WHERE]).isRequired,subject:d.a.string.isRequired,operator:d.a.oneOf(l()(Ht.j)).isRequired,comparator:d.a.oneOfType([d.a.string,d.a.arrayOf(d.a.string)]).isRequired}),d.a.shape({expressionType:d.a.oneOf([Hn]).isRequired,clause:d.a.oneOf([Vn.WHERE,Vn.HAVING]).isRequired,sqlExpression:d.a.string.isRequired})]),Wn=n(29),Yn=n.n(Wn);const Kn={adhocMetric:tn,showType:d.a.bool};function Qn({adhocMetric:e,showType:t=!1}){return Object(A.e)("div",null,t&&Object(A.e)(Et.a,{type:"expression"}),Object(A.e)("span",{className:"option-label"},e.label))}Qn.propTypes=Kn;const Xn={option:d.a.oneOfType([Tt,d.a.shape({saved_metric_name:d.a.string.isRequired}),tn]).isRequired};function Zn({option:e}){return e.saved_metric_name?Object(A.e)("div",null,Object(A.e)(Et.a,{type:"expression"}),Object(A.e)("span",{className:"option-label"},e.saved_metric_name)):e.column_name?Object(A.e)(Re.a,{column:e,showType:!0}):e.label?Object(A.e)(Qn,{adhocMetric:e,showType:!0}):void 0}Zn.propTypes=Xn;const Jn={adhocFilter:d.a.instanceOf(zn).isRequired,onChange:d.a.func.isRequired,options:d.a.arrayOf(d.a.oneOfType([Tt,d.a.shape({saved_metric_name:d.a.string.isRequired}),tn])).isRequired,onHeightChange:d.a.func.isRequired,datasource:d.a.object,partitionColumn:d.a.string};function $n(e){return e===Ht.j["=="]?"equals":e===Ht.j["!="]?"not equal to":e===Ht.j.LIKE?"like":e===Ht.j["LATEST PARTITION"]?"use latest_partition template":e}class er extends u.a.Component{constructor(e){var t,n,r,a,o,s,l;super(e),this.onSubjectChange=i()(t=this.onSubjectChange).call(t,this),this.onOperatorChange=i()(n=this.onOperatorChange).call(n,this),this.onComparatorChange=i()(r=this.onComparatorChange).call(r,this),this.onInputComparatorChange=i()(a=this.onInputComparatorChange).call(a,this),this.isOperatorRelevant=i()(o=this.isOperatorRelevant).call(o,this),this.refreshComparatorSuggestions=i()(s=this.refreshComparatorSuggestions).call(s,this),this.multiComparatorRef=i()(l=this.multiComparatorRef).call(l,this),this.state={suggestions:[],multiComparatorHeight:30,abortActiveRequest:null},this.selectProps={isMulti:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1}}UNSAFE_componentWillMount(){this.refreshComparatorSuggestions()}componentDidMount(){this.handleMultiComparatorInputHeightChange()}componentDidUpdate(e){e.adhocFilter.subject!==this.props.adhocFilter.subject&&this.refreshComparatorSuggestions(),this.handleMultiComparatorInputHeightChange()}onSubjectChange(e){let t,n;e&&e.column_name?(t=e.column_name,n=Vn.WHERE):e&&(e.saved_metric_name||e.label)&&(t=e.saved_metric_name||e.label,n=Vn.HAVING);const{operator:r}=this.props.adhocFilter;this.props.onChange(this.props.adhocFilter.duplicateWith({subject:t,clause:n,operator:r&&this.isOperatorRelevant(r,t)?r:null,expressionType:Bn}))}onOperatorChange(e){const t=this.props.adhocFilter.comparator;let n;var r;Ht.i.has(e)?n=mt()(t)?t:m()(r=[t]).call(r,e=>e):n=mt()(t)?t[0]:t;e&&Ht.c.has(e)?this.props.onChange(this.props.adhocFilter.duplicateWith({subject:this.props.adhocFilter.subject,clause:Vn.WHERE,operator:e,expressionType:Hn,datasource:this.props.datasource})):this.props.onChange(this.props.adhocFilter.duplicateWith({operator:e,comparator:n,expressionType:Bn}))}onInputComparatorChange(e){this.onComparatorChange(e.target.value)}onComparatorChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({comparator:e,expressionType:Bn}))}handleMultiComparatorInputHeightChange(){if(this.multiComparatorComponent){var e,t;const n=null===(e=this.multiComparatorComponent)||void 0===e?void 0:null===(t=e.select)||void 0===t?void 0:t.select.controlRef;n&&n.clientHeight!==this.state.multiComparatorHeight&&(this.props.onHeightChange(n.clientHeight-this.state.multiComparatorHeight),this.setState({multiComparatorHeight:n.clientHeight}))}}refreshComparatorSuggestions(){const{datasource:e}=this.props,t=this.props.adhocFilter.subject,n=this.props.adhocFilter.clause===Vn.HAVING;if(t&&e&&e.filter_select&&!n){this.state.abortActiveRequest&&this.state.abortActiveRequest();const n=new AbortController,{signal:r}=n;this.setState({abortActiveRequest:n.abort,loading:!0}),Be.a.get({signal:r,endpoint:"/superset/filter/"+e.type+"/"+e.id+"/"+t+"/"}).then(({json:e})=>{this.setState(()=>({suggestions:e,abortActiveRequest:null,loading:!1}))}).catch(()=>{this.setState(()=>({suggestions:[],abortActiveRequest:null,loading:!1}))})}}isOperatorRelevant(e,t){if(e&&Ht.c.has(e)){const{partitionColumn:e}=this.props;return e&&t&&t===e}return!("druid"===this.props.datasource.type&&at()(Ht.l).call(Ht.l,e)>=0||"table"===this.props.datasource.type&&at()(Ht.e).call(Ht.e,e)>=0||this.props.adhocFilter.clause===Vn.HAVING&&-1===at()(Ht.h).call(Ht.h,e))}focusComparator(e){e&&e.focus()}multiComparatorRef(e){e&&(this.multiComparatorComponent=e)}renderSubjectOptionLabel(e){return Object(A.e)(Zn,{option:e})}renderSubjectOptionValue({value:e}){return Object(A.e)("span",null,e)}render(){const{adhocFilter:e,options:t,datasource:n}=this.props,{subject:r,operator:o,comparator:i}=e,s={options:t,value:r?{value:r}:void 0,onChange:this.onSubjectChange,optionRenderer:this.renderSubjectOptionLabel,valueRenderer:this.renderSubjectOptionValue,valueKey:"filterOptionName",noResultsText:Object(T.c)("No such column found. To filter on a metric, try the Custom SQL tab.")};"druid"===n.type?s.placeholder=Object(T.c)("%s column(s) and metric(s)",t.length):(s.placeholder=e.clause===Vn.WHERE?Object(T.c)("%s column(s)",t.length):Object(T.c)("To filter on a metric, use Custom SQL tab."),s.options=m()(t).call(t,e=>e.column_name));const l={placeholder:Object(T.c)("%s operators(s)",Ht.k.length),options:m()(Ht.k).call(Ht.k,e=>this.isOperatorRelevant(e,r)),value:o,onChange:this.onOperatorChange,getOptionLabel:$n};return Object(A.e)("span",null,Object(A.e)(z.a,{className:"adhoc-filter-simple-column-dropdown"},Object(A.e)(Nt.f,a()({},this.selectProps,s,{name:"filter-column"}))),Object(A.e)(z.a,null,Object(A.e)(Nt.f,a()({},this.selectProps,l,{name:"filter-operator"}))),Object(A.e)(z.a,{"data-test":"adhoc-filter-simple-value"},Ht.i.has(o)||this.state.suggestions.length>0?Object(A.e)(yn.a,{name:"filter-value",autoFocus:!0,freeForm:!0,multi:Ht.i.has(o),value:i,isLoading:this.state.loading,choices:this.state.suggestions,onChange:this.onComparatorChange,showHeader:!1,noResultsText:Object(T.c)("type a value here"),selectRef:this.multiComparatorRef,disabled:Yn()(Ht.d).call(Ht.d,o)}):Object(A.e)("input",{name:"filter-value",ref:this.focusComparator,type:"text",onChange:this.onInputComparatorChange,value:i,className:"form-control input-sm",placeholder:Object(T.c)("Filter value (case sensitive)"),disabled:Yn()(Ht.d).call(Ht.d,o)})))}}er.propTypes=Jn,er.defaultProps={datasource:{}};const tr={adhocFilter:d.a.instanceOf(zn).isRequired,onChange:d.a.func.isRequired,options:d.a.arrayOf(d.a.oneOfType([Tt,d.a.shape({saved_metric_name:d.a.string.isRequired}),tn])).isRequired,height:d.a.number.isRequired};class nr extends u.a.Component{constructor(e){var t,n,r;super(e),this.onSqlExpressionChange=i()(t=this.onSqlExpressionChange).call(t,this),this.onSqlExpressionClauseChange=i()(n=this.onSqlExpressionClauseChange).call(n,this),this.handleAceEditorRef=i()(r=this.handleAceEditorRef).call(r,this),this.selectProps={isMulti:!1,name:"select-column",labelKey:"label",autosize:!1,clearable:!1}}componentDidUpdate(){this.aceEditorRef&&this.aceEditorRef.editor.resize()}onSqlExpressionClauseChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({clause:e&&e.clause,expressionType:Hn}))}onSqlExpressionChange(e){this.props.onChange(this.props.adhocFilter.duplicateWith({sqlExpression:e,expressionType:Hn}))}handleAceEditorRef(e){e&&(this.aceEditorRef=e)}render(){var e;const{adhocFilter:t,height:n,options:r}=this.props,o={placeholder:Object(T.c)("choose WHERE or HAVING..."),options:l()(Vn),value:t.clause,onChange:this.onSqlExpressionClauseChange},i=v()(Bt.a).call(Bt.a,m()(e=f()(r).call(r,e=>e.column_name?{name:e.column_name,value:e.column_name,score:50,meta:"option"}:null)).call(e,Boolean));return Object(A.e)("span",null,Object(A.e)(z.a,{className:"filter-edit-clause-section"},Object(A.e)(Nt.g,a()({},this.selectProps,o,{className:"filter-edit-clause-dropdown"})),Object(A.e)("span",{className:"filter-edit-clause-info"},Object(A.e)("strong",null,"Where")," filters by columns.",Object(A.e)("br",null),Object(A.e)("strong",null,"Having")," filters by metrics.")),Object(A.e)(z.a,null,Object(A.e)(It.f,{ref:this.handleAceEditorRef,keywords:i,height:n-100+"px",onChange:this.onSqlExpressionChange,width:"100%",showGutter:!1,value:t.sqlExpression||t.translateToSql(),editorProps:{$blockScrolling:!0},enableLiveAutocompletion:!0,className:"adhoc-filter-sql-editor",wrapEnabled:!0})))}}nr.propTypes=tr;const rr={adhocFilter:d.a.instanceOf(zn).isRequired,onChange:d.a.func.isRequired,onClose:d.a.func.isRequired,onResize:d.a.func.isRequired,options:d.a.arrayOf(d.a.oneOfType([Tt,d.a.shape({saved_metric_name:d.a.string.isRequired}),tn])).isRequired,datasource:d.a.object,partitionColumn:d.a.string,theme:d.a.object};class ar extends u.a.Component{constructor(e){var t,n,r,a,o,s;super(e),this.onSave=i()(t=this.onSave).call(t,this),this.onDragDown=i()(n=this.onDragDown).call(n,this),this.onMouseMove=i()(r=this.onMouseMove).call(r,this),this.onMouseUp=i()(a=this.onMouseUp).call(a,this),this.onAdhocFilterChange=i()(o=this.onAdhocFilterChange).call(o,this),this.adjustHeight=i()(s=this.adjustHeight).call(s,this),this.state={adhocFilter:this.props.adhocFilter,width:300,height:190}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}onAdhocFilterChange(e){this.setState({adhocFilter:e})}onSave(){this.props.onChange(this.state.adhocFilter),this.props.onClose()}onDragDown(e){this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,document.addEventListener("mousemove",this.onMouseMove)}onMouseMove(e){this.props.onResize(),this.setState({width:Math.max(this.dragStartWidth+(e.clientX-this.dragStartX),300),height:Math.max(this.dragStartHeight+2*(e.clientY-this.dragStartY),190)})}onMouseUp(){document.removeEventListener("mousemove",this.onMouseMove)}adjustHeight(e){this.setState(t=>({height:t.height+e}))}render(){const e=this.props,{adhocFilter:t,options:n,datasource:r,partitionColumn:o,theme:i}=e,s=$()(e,["adhocFilter","options","onChange","onClose","onResize","datasource","partitionColumn","theme"]),{adhocFilter:l}=this.state,c=l.isValid(),u=!l.equals(t);return Object(A.e)(w.a,a()({id:"filter-edit-popover"},s),Object(A.e)(k.a,{theme:i},Object(A.e)(Dt.a,{id:"adhoc-filter-edit-tabs",defaultActiveKey:l.expressionType,className:"adhoc-filter-edit-tabs",style:{height:this.state.height,width:this.state.width}},Object(A.e)(At.a,{className:"adhoc-filter-edit-tab",eventKey:Bn,title:"Simple"},Object(A.e)(er,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:n,datasource:r,onHeightChange:this.adjustHeight,partitionColumn:o})),Object(A.e)(At.a,{className:"adhoc-filter-edit-tab",eventKey:Hn,title:"Custom SQL"},this.props.datasource&&"druid"===this.props.datasource.type?Object(A.e)("div",{className:"custom-sql-disabled-message"},"Custom SQL Filters are not available on druid datasources"):Object(A.e)(nr,{adhocFilter:this.state.adhocFilter,onChange:this.onAdhocFilterChange,options:this.props.options,height:this.state.height}))),Object(A.e)("div",null,Object(A.e)(Ft.a,{disabled:!c,buttonStyle:u&&c?"primary":"default",buttonSize:"small",className:"m-r-5",onClick:this.onSave,cta:!0},"Save"),Object(A.e)(Ft.a,{buttonSize:"small",onClick:this.props.onClose,cta:!0},"Close"),Object(A.e)("i",{role:"button","aria-label":"Resize",tabIndex:0,onMouseDown:this.onDragDown,className:"fa fa-expand edit-popover-resize text-muted"}))))}}ar.propTypes=rr;const or={adhocFilter:d.a.instanceOf(zn).isRequired,onFilterEdit:d.a.func.isRequired,options:d.a.arrayOf(d.a.oneOfType([Tt,d.a.shape({saved_metric_name:d.a.string.isRequired}),tn])).isRequired,datasource:d.a.object,partitionColumn:d.a.string};class ir extends u.a.PureComponent{constructor(e){var t,n,r,a;super(e),this.closeFilterEditOverlay=i()(t=this.closeFilterEditOverlay).call(t,this),this.onPopoverResize=i()(n=this.onPopoverResize).call(n,this),this.onOverlayEntered=i()(r=this.onOverlayEntered).call(r,this),this.onOverlayExited=i()(a=this.onOverlayExited).call(a,this),this.state={overlayShown:!1}}onPopoverResize(){this.forceUpdate()}onOverlayEntered(){this.props.adhocFilter.isNew=!1,this.setState({overlayShown:!0})}onOverlayExited(){this.setState({overlayShown:!1})}closeFilterEditOverlay(){this.refs.overlay.hide()}render(){const{adhocFilter:e,theme:t}=this.props,n=Object(A.e)(ar,{onResize:this.onPopoverResize,adhocFilter:e,onChange:this.props.onFilterEdit,onClose:this.closeFilterEditOverlay,options:this.props.options,datasource:this.props.datasource,partitionColumn:this.props.partitionColumn,theme:t});return Object(A.e)("div",{onMouseDownCapture:e=>e.stopPropagation()},e.isExtra&&Object(A.e)(P.a,{icon:"exclamation-triangle",placement:"top",className:"m-r-5 text-muted",tooltip:Object(T.c)("\n                This filter was inherited from the dashboard's context.\n                It won't be saved when saving the chart.\n              ")}),Object(A.e)(E.a,{ref:"overlay",placement:"right",trigger:"click",disabled:!0,overlay:n,rootClose:!0,shouldUpdatePosition:!0,defaultOverlayShown:e.isNew,onEntered:this.onOverlayEntered,onExited:this.onOverlayExited},Object(A.e)(Ke.a,{className:"option-label adhoc-option adhoc-filter-option"},e.getDefaultLabel(),Object(A.e)("i",{className:"fa fa-caret-"+(this.state.overlayShown?"left":"right")+" adhoc-label-arrow"}))))}}var sr=Object(k.c)(ir);ir.propTypes=or;const lr={name:d.a.string,onChange:d.a.func,value:d.a.arrayOf(Gn),datasource:d.a.object,columns:d.a.arrayOf(Tt),savedMetrics:d.a.arrayOf(kt),formData:d.a.shape({metric:d.a.oneOfType([d.a.string,tn]),metrics:d.a.arrayOf(d.a.oneOfType([d.a.string,tn]))})};function cr(e){return e&&!(e instanceof zn)&&e.expressionType}class ur extends u.a.Component{constructor(e){var t,n,r,a,o;super(e),this.optionsForSelect=i()(t=this.optionsForSelect).call(t,this),this.onFilterEdit=i()(n=this.onFilterEdit).call(n,this),this.onChange=i()(r=this.onChange).call(r,this),this.getMetricExpression=i()(a=this.getMetricExpression).call(a,this);const s=f()(o=this.props.value||[]).call(o,e=>cr(e)?new zn(e):e);this.optionRenderer=e=>Object(A.e)(Zn,{option:e}),this.valueRenderer=e=>Object(A.e)(sr,{adhocFilter:e,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource}),this.state={values:s,options:this.optionsForSelect(this.props)}}componentDidMount(){const{datasource:e}=this.props;if(e&&"table"===e.type){var t;const n=null===(t=e.database)||void 0===t?void 0:t.id,{datasource_name:r,schema:a,is_sqllab_view:o}=e;!o&&n&&r&&a&&Be.a.get({endpoint:"/superset/extra_table_metadata/"+n+"/"+r+"/"+a+"/"}).then(({json:e})=>{if(e&&e.partitions){const{partitions:t}=e;if(t&&t.cols&&1===l()(t.cols).length){const e=t.cols[0];this.valueRenderer=t=>Object(A.e)(sr,{adhocFilter:t,onFilterEdit:this.onFilterEdit,options:this.state.options,datasource:this.props.datasource,partitionColumn:e})}}}).catch(e=>{In.a.error("fetch extra_table_metadata:",e.statusText)})}}UNSAFE_componentWillReceiveProps(e){var t;(this.props.columns===e.columns&&this.props.formData===e.formData||this.setState({options:this.optionsForSelect(e)}),this.props.value!==e.value)&&this.setState({values:f()(t=e.value||[]).call(t,e=>cr(e)?new zn(e):e)})}onFilterEdit(e){var t;this.props.onChange(f()(t=Ln()(this.state)).call(t,t=>t.filterOptionName===e.filterOptionName?e:t))}onChange(e){var t,n;const r=m()(t=f()(n=e||[]).call(n,e=>e instanceof zn?e:e.saved_metric_name?new zn({expressionType:"druid"===this.props.datasource.type?Bn:Hn,subject:"druid"===this.props.datasource.type?e.saved_metric_name:this.getMetricExpression(e.saved_metric_name),operator:Ht.j[">"],comparator:0,clause:Vn.HAVING}):e.label?new zn({expressionType:"druid"===this.props.datasource.type?Bn:Hn,subject:"druid"===this.props.datasource.type?e.label:new Yt(e).translateToSql(),operator:Ht.j[">"],comparator:0,clause:Vn.HAVING}):e.column_name?new zn({expressionType:Bn,subject:e.column_name,operator:Ht.j["=="],comparator:"",clause:Vn.WHERE,isNew:!0}):null)).call(t,e=>e);this.props.onChange(r)}getMetricExpression(e){var t;return dt()(t=this.props.savedMetrics).call(t,t=>t.metric_name===e).expression}optionsForSelect(e){var t,n,r;const a=m()(t=[...e.columns,...f()(n=[...e.formData.metrics||[],e.formData.metric]).call(n,e=>e&&("string"==typeof e?{saved_metric_name:e}:new Yt(e)))]).call(t,e=>e);return Fn()(r=lt()(a).call(a,(e,t)=>(t.saved_metric_name?e.push(te()({},t,{filterOptionName:t.saved_metric_name})):t.column_name?e.push(te()({},t,{filterOptionName:"_col_"+t.column_name})):t instanceof Yt&&e.push(te()({},t,{filterOptionName:"_adhocmetric_"+t.label})),e),[])).call(r,(e,t)=>(e.saved_metric_name||e.column_name||e.label).localeCompare(t.saved_metric_name||t.column_name||t.label))}render(){return Object(A.e)("div",{className:"metrics-select"},Object(A.e)(K.a,this.props),Object(A.e)(wt.a,{isMulti:!0,name:"select-"+this.props.name,placeholder:Object(T.c)("choose a column or metric"),options:this.state.options,value:Ln()(this.state),labelKey:"label",valueKey:"filterOptionName",clearable:!0,closeOnSelect:!0,onChange:this.onChange,optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer}))}}ur.propTypes=lr,ur.defaultProps={name:"",onChange:()=>{},columns:[],savedMetrics:[],formData:{}};var pr=n(101),dr=n.n(pr);const hr={marginTop:"5px",minHeight:"30px"},fr={textAlign:"right"},br={label:d.a.string.isRequired,tooltip:d.a.string,control:d.a.node.isRequired,isCheckbox:d.a.bool};function mr({label:e,tooltip:t,control:n,isCheckbox:r}){const a=Object(A.e)("span",null,e," ",t&&Object(A.e)(P.a,{placement:"top",label:e,tooltip:t}));return r?Object(A.e)(G.a,{style:hr},Object(A.e)(W.a,{md:4,style:fr},n),Object(A.e)(W.a,{md:8},a)):Object(A.e)(G.a,{style:hr},Object(A.e)(W.a,{md:4,style:fr},a),Object(A.e)(W.a,{md:8},n))}mr.propTypes=br,mr.defaultProps={tooltip:null,isCheckbox:!1};const gr=new Ot.a(["TINYINT","SMALLINT","INT","INTEGER","BIGINT","LONG"]),vr=new Ot.a(["FLOAT","DOUBLE","REAL","NUMERIC","DECIMAL","MONEY"]),yr={datasource:d.a.object.isRequired,onChange:d.a.func,asc:d.a.bool,clearable:d.a.bool,multiple:d.a.bool,column:d.a.string,label:d.a.string,metric:d.a.string,searchAllOptions:d.a.bool,defaultValue:d.a.string},Or={width:350};class Cr extends u.a.Component{constructor(e){var t,n;super(e);const{column:r,metric:a,asc:o,clearable:s,multiple:l,searchAllOptions:c,label:u,defaultValue:p}=e,d={column:r,metric:a,label:u,asc:o,clearable:s,multiple:l,searchAllOptions:c,defaultValue:p};this.state=d,this.onChange=i()(t=this.onChange).call(t,this),this.onControlChange=i()(n=this.onControlChange).call(n,this)}onChange(){this.props.onChange(this.state)}onControlChange(e,t){let n=t;const{column:r,multiple:a}=this.state;if(t&&!a&&e===Ht.f.DEFAULT_VALUE){var o;const{datasource:e}=this.props,a=dt()(o=e.columns).call(o,e=>e.column_name===r);if(a&&a.type){const e=a.type.toUpperCase();"BOOLEAN"===e?n="true"===t:gr.has(e)?n=q()(Number(t))?null:dr()(t,10):vr.has(e)&&(n=q()(Number(t))?null:V()(t))}}this.setState({[e]:n},this.onChange)}setType(){}textSummary(){return this.state.column||"N/A"}renderForm(){var e,t,n,r,a,o;return Object(A.e)("div",null,Object(A.e)(mr,{label:Object(T.c)("Column"),control:Object(A.e)(yn.a,{value:this.state.column,name:"column",clearable:!1,options:v()(e=f()(t=m()(n=this.props.datasource.columns).call(n,e=>e!==this.state.column)).call(t,e=>({value:e.column_name,label:e.column_name}))).call(e,[{value:this.state.column,label:this.state.column}]),onChange:e=>this.onControlChange("column",e)})}),Object(A.e)(mr,{label:Object(T.c)("Label"),control:Object(A.e)(nt.a,{value:this.state.label,name:"label",onChange:e=>this.onControlChange("label",e)})}),Object(A.e)(mr,{label:Object(T.c)("Default"),tooltip:Object(T.c)("(optional) default value for the filter, when using the multiple option, you can use a semicolon-delimited list of options."),control:Object(A.e)(nt.a,{value:this.state.defaultValue,name:"defaultValue",onChange:e=>this.onControlChange(Ht.f.DEFAULT_VALUE,e)})}),Object(A.e)(mr,{label:Object(T.c)("Sort Metric"),tooltip:Object(T.c)("Metric to sort the results by"),control:Object(A.e)(yn.a,{value:this.state.metric,name:"column",options:v()(r=f()(a=m()(o=this.props.datasource.metrics).call(o,e=>e!==this.state.metric)).call(a,e=>({value:e.metric_name,label:e.metric_name}))).call(r,[{value:this.state.metric,label:this.state.metric}]),onChange:e=>this.onControlChange("metric",e)})}),Object(A.e)(mr,{label:Object(T.c)("Sort Ascending"),tooltip:Object(T.c)("Check for sorting ascending"),isCheckbox:!0,control:Object(A.e)(Z.a,{value:this.state.asc,onChange:e=>this.onControlChange("asc",e)})}),Object(A.e)(mr,{label:Object(T.c)("Allow Multiple Selections"),isCheckbox:!0,tooltip:Object(T.c)("Multiple selections allowed, otherwise filter is limited to a single value"),control:Object(A.e)(Z.a,{value:this.state.multiple,onChange:e=>this.onControlChange(Ht.f.MULTIPLE,e)})}),Object(A.e)(mr,{label:Object(T.c)("Search All Filter Options"),tooltip:Object(T.c)("By default, each filter loads at most 1000 choices at the initial page load. Check this box if you have more than 1000 filter values and want to enable dynamically searching that loads filter values as users type (may add stress to your database)."),isCheckbox:!0,control:Object(A.e)(Z.a,{value:this.state.searchAllOptions,onChange:e=>this.onControlChange(Ht.f.SEARCH_ALL_OPTIONS,e)})}),Object(A.e)(mr,{label:Object(T.c)("Required"),tooltip:Object(T.c)("User must select a value for this filter"),isCheckbox:!0,control:Object(A.e)(Z.a,{value:!this.state.clearable,onChange:e=>this.onControlChange("clearable",!e)})}))}renderPopover(){return Object(A.e)(w.a,{id:"ts-col-popo",title:Object(T.c)("Filter Configuration")},Object(A.e)("div",{style:Or},this.renderForm()))}render(){return Object(A.e)("span",null,this.textSummary()," ",Object(A.e)(E.a,{container:document.body,trigger:"click",rootClose:!0,ref:"trigger",placement:"right",overlay:this.renderPopover()},Object(A.e)(P.a,{icon:"edit",className:"text-primary",label:"edit-ts-column"})))}}function xr(e,t,n){class r extends u.a.Component{constructor(e){var t;super(e),this.state={validOptions:null,hasRunVerification:!1},this.getValidOptions=i()(t=this.getValidOptions).call(t,this)}componentDidMount(){this.getValidOptions()}componentDidUpdate(e){const{hasRunVerification:t}=this.state;xt()(this.props.controlValues,e.controlValues)&&t||this.getValidOptions()}getValidOptions(){const e=this.props.getEndpoint(this.props.controlValues);e&&(Be.a.get({endpoint:e}).then(({json:e})=>{mt()(e)&&this.setState({validOptions:new Ot.a(e)||new Ot.a})}).catch(e=>In.a.log(e)),this.state.hasRunVerification||this.setState({hasRunVerification:!0}))}render(){const{validOptions:r}=this.state,a=this.props[n],o=r?m()(a).call(a,e=>r.has(e[t])):a,i=te()({},this.props,{[n]:o});return Object(A.e)(e,i)}}return r.propTypes=e.propTypes,r}Cr.propTypes=yr,Cr.defaultProps={onChange:()=>{},asc:!0,clearable:!0,multiple:!0,searchAllOptions:!1};var wr={AnnotationLayerControl:B,BoundsControl:X,CheckboxControl:Z.a,CollectionControl:ue,ColorMapControl:me,ColorPickerControl:xe,ColorSchemeControl:we.a,DatasourceControl:$e,DateFilterControl:et.a,FixedOrMetricControl:bn,HiddenControl:gn,SelectAsyncControl:vn.a,SelectControl:yn.a,SliderControl:En,SpatialControl:Sn.a,TextAreaControl:_n.a,TextControl:nt.a,TimeSeriesColumnControl:Mn,ViewportControl:Rn.b,VizTypeControl:Dn.a,MetricsControl:cn,AdhocFilterControl:ur,FilterBoxItemControl:Cr,MetricsControlVerifiedOptions:xr(cn,"metric_name","savedMetrics"),SelectControlVerifiedOptions:xr(yn.a,"column_name","options"),AdhocFilterControlVerifiedOptions:xr(ur,"column_name","columns")};const Er=l()(wr),Sr={actions:d.a.object.isRequired,name:d.a.string.isRequired,type:d.a.oneOfType([d.a.oneOf(Er).isRequired,d.a.func.isRequired]),hidden:d.a.bool,label:d.a.string.isRequired,choices:d.a.oneOfType([d.a.arrayOf(d.a.array),d.a.func]),description:d.a.string,tooltipOnClick:d.a.func,places:d.a.number,validationErrors:d.a.array,renderTrigger:d.a.bool,rightNode:d.a.node,formData:d.a.object,value:d.a.oneOfType([d.a.string,d.a.number,d.a.object,d.a.bool,d.a.array,d.a.func])};class _r extends u.a.PureComponent{constructor(e){var t,n,r;super(e),this.state={hovered:!1},this.onChange=i()(t=this.onChange).call(t,this),this.onMouseEnter=i()(n=this.setHover).call(n,this,!0),this.onMouseLeave=i()(r=this.setHover).call(r,this,!1)}onChange(e,t){this.props.actions.setControlValue(this.props.name,e,t)}setHover(e){this.setState({hovered:e})}render(){const{type:e,hidden:t}=this.props;if(!e)return null;const n="string"==typeof e?wr[e]:e;return Object(A.e)("div",{className:"Control","data-test":this.props.name,style:t?{display:"none"}:void 0,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},Object(A.e)(n,a()({onChange:this.onChange,hovered:this.state.hovered},this.props)))}}_r.propTypes=Sr,_r.defaultProps={renderTrigger:!1,hidden:!1,validationErrors:[]}},924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=i(n(0)),a=i(n(53)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1186));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,i=e.size,s=e.renderers,l=e.borderRadius,c=e.boxShadow,u=(0,a.default)({default:{grid:{borderRadius:l,boxShadow:c,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,i,s.canvas)+") center left"}}});return r.default.createElement("div",{style:u.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=c(o),s=c(n(192)),l=c(n(225));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},926:function(e,t,n){"use strict";n.r(t),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return a})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return i})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return c})),n.d(t,"cyan",(function(){return u})),n.d(t,"teal",(function(){return p})),n.d(t,"green",(function(){return d})),n.d(t,"lightGreen",(function(){return h})),n.d(t,"lime",(function(){return f})),n.d(t,"yellow",(function(){return b})),n.d(t,"amber",(function(){return m})),n.d(t,"orange",(function(){return g})),n.d(t,"deepOrange",(function(){return v})),n.d(t,"brown",(function(){return y})),n.d(t,"grey",(function(){return O})),n.d(t,"blueGrey",(function(){return C})),n.d(t,"darkText",(function(){return x})),n.d(t,"lightText",(function(){return w})),n.d(t,"darkIcons",(function(){return E})),n.d(t,"lightIcons",(function(){return S})),n.d(t,"white",(function(){return _})),n.d(t,"black",(function(){return j}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},i={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},c={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},u={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},p={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},d={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},h={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},f={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},b={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},y={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},O={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},C={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},x={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},E={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},_="#ffffff",j="#000000";t.default={red:r,pink:a,purple:o,deepPurple:i,indigo:s,blue:l,lightBlue:c,cyan:u,teal:p,green:d,lightGreen:h,lime:f,yellow:b,amber:m,orange:g,deepOrange:v,brown:y,grey:O,blueGrey:C,darkText:x,lightText:w,darkIcons:E,lightIcons:S,white:_,black:j}},927:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t),n.d(t,"CHART_UPDATE_STARTED",(function(){return k})),n.d(t,"chartUpdateStarted",(function(){return P})),n.d(t,"CHART_UPDATE_SUCCEEDED",(function(){return M})),n.d(t,"chartUpdateSucceeded",(function(){return R})),n.d(t,"CHART_UPDATE_STOPPED",(function(){return D})),n.d(t,"chartUpdateStopped",(function(){return A})),n.d(t,"CHART_UPDATE_FAILED",(function(){return F})),n.d(t,"chartUpdateFailed",(function(){return N})),n.d(t,"CHART_RENDERING_FAILED",(function(){return L})),n.d(t,"chartRenderingFailed",(function(){return I})),n.d(t,"CHART_RENDERING_SUCCEEDED",(function(){return B})),n.d(t,"chartRenderingSucceeded",(function(){return H})),n.d(t,"REMOVE_CHART",(function(){return V})),n.d(t,"removeChart",(function(){return U})),n.d(t,"ANNOTATION_QUERY_SUCCESS",(function(){return q})),n.d(t,"annotationQuerySuccess",(function(){return z})),n.d(t,"ANNOTATION_QUERY_STARTED",(function(){return G})),n.d(t,"annotationQueryStarted",(function(){return W})),n.d(t,"ANNOTATION_QUERY_FAILED",(function(){return Y})),n.d(t,"annotationQueryFailed",(function(){return K})),n.d(t,"getChartDataRequest",(function(){return Q})),n.d(t,"runAnnotationQuery",(function(){return X})),n.d(t,"TRIGGER_QUERY",(function(){return Z})),n.d(t,"triggerQuery",(function(){return J})),n.d(t,"RENDER_TRIGGERED",(function(){return $})),n.d(t,"renderTriggered",(function(){return ee})),n.d(t,"UPDATE_QUERY_FORM_DATA",(function(){return te})),n.d(t,"updateQueryFormData",(function(){return ne})),n.d(t,"UPDATE_CHART_ID",(function(){return re})),n.d(t,"updateChartId",(function(){return ae})),n.d(t,"ADD_CHART",(function(){return oe})),n.d(t,"addChart",(function(){return ie})),n.d(t,"exploreJSON",(function(){return se})),n.d(t,"GET_SAVED_CHART",(function(){return le})),n.d(t,"getSavedChart",(function(){return ce})),n.d(t,"POST_CHART_FORM_DATA",(function(){return ue})),n.d(t,"postChartFormData",(function(){return pe})),n.d(t,"redirectSQLLab",(function(){return de})),n.d(t,"refreshChart",(function(){return he}));n(113),n(121),n(33);var r=n(6),a=n.n(r),o=n(44),i=n.n(o),s=n(29),l=n.n(s),c=n(55),u=n.n(c),p=n(30),d=n.n(p),h=n(88),f=n.n(h),b=n(3),m=n.n(b),g=n(15),v=n.n(g),y=n(89),O=n(7),C=n(45),x=n(108),w=n(840),E=n(42),S=n(209),_=n(79),j=n(51),T=n(278);const k="CHART_UPDATE_STARTED";function P(e,t,n){return{type:k,queryController:e,latestQueryFormData:t,key:n}}const M="CHART_UPDATE_SUCCEEDED";function R(e,t){return{type:M,queryResponse:e,key:t}}const D="CHART_UPDATE_STOPPED";function A(e){return{type:D,key:e}}const F="CHART_UPDATE_FAILED";function N(e,t){return{type:F,queryResponse:e,key:t}}const L="CHART_RENDERING_FAILED";function I(e,t,n){return{type:L,error:e,key:t,stackTrace:n}}const B="CHART_RENDERING_SUCCEEDED";function H(e){return{type:B,key:e}}const V="REMOVE_CHART";function U(e){return{type:V,key:e}}const q="ANNOTATION_QUERY_SUCCESS";function z(e,t,n){return{type:q,annotation:e,queryResponse:t,key:n}}const G="ANNOTATION_QUERY_STARTED";function W(e,t,n){return{type:G,annotation:e,queryController:t,key:n}}const Y="ANNOTATION_QUERY_FAILED";function K(e,t,n){return{type:Y,annotation:e,queryResponse:t,key:n}}async function Q({formData:e,resultFormat:t="json",resultType:n="full",force:r=!1,method:a="POST",requestParams:o={}}){let i=m()({},o);return T.a&&(i=m()({},i,{mode:"cors",credentials:"include"})),Object(x.l)(e)?(async(e,t,n,r,a="POST",o={})=>{const i=Object(x.i)({resultFormat:t,resultType:n}),s=T.a&&(null==o?void 0:o.dashboard_id),l=Object(x.h)({formData:e,endpointType:i,force:r,allowDomainSharding:s,method:a,requestParams:o.dashboard_id?{dashboard_id:o.dashboard_id}:{}}),c=m()({},o,{url:l,postPayload:{form_data:e}});return(Object(C.c)(C.a.CLIENT_CACHE)?y.a.get:y.a.post)(c).then(({json:e})=>({result:[e]}))})(e,t,n,r,a,i):(async(e,t,n,r,a)=>{const o=Object(x.a)({formData:e,resultType:n,resultFormat:t,force:r}),i=a.dashboard_id?{dashboard_id:a.dashboard_id}:{},s=T.a&&(null==a?void 0:a.dashboard_id),l=Object(x.e)({path:"/api/v1/chart/data",qs:i,allowDomainSharding:s}).toString(),c=m()({},a,{url:l,headers:{"Content-Type":"application/json"},body:f()(o)});return y.a.post(c).then(({json:e})=>e)})(e,t,n,r,i)}function X(e,t=60,n=null,r,a=!1){return function(o,s){var c;const p=r||d()(s().charts)[0],h=m()({},n||s().charts[p].latestQueryFormData);if(!Object(w.f)(e.sourceType))return u.a.resolve();const f=h.time_grain_sqla||h.granularity;h.time_grain_sqla=f,h.granularity=f;const b=d()(e.overrides);(l()(b).call(b,"since")||l()(b).call(b,"until"))&&(e.overrides=m()({},e.overrides,{time_range:null}));const g=i()(c=d()(e.overrides)).call(c,(t,n)=>m()({},t,{[n]:e.overrides[n]||h[n]}),{});if(!a&&h){const e=h.extra_filters&&h.extra_filters.length>0;g.extra_filters=e?h.extra_filters:void 0}const v=e.sourceType===w.a.NATIVE,O=Object(x.d)(e.value,g,v),C=new AbortController,{signal:E}=C;return o(W(e,C,p)),y.a.get({url:O,signal:E,timeout:1e3*t}).then(({json:t})=>o(z(e,t,p))).catch(t=>Object(j.a)(t).then(t=>{var n;"timeout"===t.statusText?o(K(e,{error:"Query Timeout"},p)):l()(n=(t.error||"").toLowerCase()).call(n,"no data")?o(z(e,t,p)):"abort"!==t.statusText&&o(K(e,t,p))}))}}const Z="TRIGGER_QUERY";function J(e=!0,t){return{type:Z,value:e,key:t}}const $="RENDER_TRIGGERED";function ee(e,t){return{type:$,value:e,key:t}}const te="UPDATE_QUERY_FORM_DATA";function ne(e,t){return{type:te,value:e,key:t}}const re="UPDATE_CHART_ID";function ae(e,t=0){return{type:re,newId:e,key:t}}const oe="ADD_CHART";function ie(e,t){return{type:oe,chart:e,key:t}}function se(e,t=!1,n=60,r,o,i){return async s=>{const l=_.q.getTimestamp(),c=new AbortController,p={signal:c.signal,timeout:1e3*n};i&&(p.dashboard_id=i);const d=Q({formData:e,resultFormat:"json",resultType:"full",force:t,method:o,requestParams:p});s(P(c,e,r));const h=d.then(n=>{const a=n.result[0];return s(Object(S.logEvent)(_.h,{slice_id:r,is_cached:a.is_cached,force_refresh:t,row_count:a.rowcount,datasource:e.datasource,start_offset:l,ts:(new Date).getTime(),duration:_.q.getTimestamp()-l,has_extra_filters:e.extra_filters&&e.extra_filters.length>0,viz_type:e.viz_type,data_age:a.is_cached?v()(new Date).diff(v.a.utc(a.cached_dttm)):null})),s(R(a,r))}).catch(t=>{const n=(t,n)=>{s(Object(S.logEvent)(_.h,{slice_id:r,has_err:!0,is_cached:n,error_details:t,datasource:e.datasource,start_offset:l,ts:(new Date).getTime(),duration:_.q.getTimestamp()-l}))};return"AbortError"===t.name?(n("abort"),s(A(r))):Object(j.a)(t).then(e=>("timeout"===t.statusText?n("timeout"):n(e.error,e.is_cached),s(N(e,r))))}),f=e.annotation_layers||[],b=i>0;return u.a.all([h,s(J(!1,r)),s(ne(e,r)),...a()(f).call(f,t=>s(X(t,n,e,r,b)))])}}const le="GET_SAVED_CHART";function ce(e,t=!1,n=60,r,a){return se(e,t,n,r,"GET",a)}const ue="POST_CHART_FORM_DATA";function pe(e,t=!1,n=60,r,a){return se(e,t,n,r,"POST",a)}function de(e){return t=>{Q({formData:e,resultFormat:"json",resultType:"query"}).then(({result:t})=>{const n={datasourceKey:e.datasource,sql:t[0].query};Object(x.k)("/superset/sqllab",n)}).catch(()=>t(Object(E.c)(Object(O.c)("An error occurred while loading the SQL"))))}}function he(e,t,n){return(r,a)=>{const o=(a().charts||{})[e],i=a().dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT;o.latestQueryFormData&&0!==d()(o.latestQueryFormData).length&&r(pe(o.latestQueryFormData,t,i,o.id,n))}}},932:function(e,t,n){},933:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=(n(0),n(2)),i=n.n(o),s=n(7),l=n(351),c=n(48),u=n(73),p=n(1);const d={dataEndpoint:i.a.string.isRequired,multi:i.a.bool,mutator:i.a.func,onAsyncErrorMessage:i.a.string,onChange:i.a.func,placeholder:i.a.string,value:i.a.oneOfType([i.a.string,i.a.number,i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.number)]),addDangerToast:i.a.func.isRequired},h={multi:!0,onAsyncErrorMessage:Object(s.c)("Error while fetching data"),onChange:()=>{},placeholder:Object(s.c)("Select ...")},f=e=>{const{value:t,onChange:n,dataEndpoint:r,multi:o,mutator:i,placeholder:s,onAsyncErrorMessage:u}=e;return Object(p.e)("div",null,Object(p.e)(c.a,e),Object(p.e)(l.a,{dataEndpoint:r,onChange:e=>{let t;t=o?a()(e).call(e,e=>e.value):e?e.value:null,n(t)},onAsyncError:t=>e.addDangerToast(u+": "+t),mutator:i,multi:o,value:t,placeholder:s,valueRenderer:e=>Object(p.e)("div",null,e.label)}))};f.propTypes=d,f.defaultProps=h,t.a=Object(u.a)(f)},934:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(5),a=n.n(r),o=n(192),i=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n.n(c),p=n(314),d=n(306),h=n(7),f=n(21),b=n(153),m=n(116),g=n(48),v=n(1);const y={name:u.a.string,onChange:u.a.func,value:u.a.string,height:u.a.number,minLines:u.a.number,maxLines:u.a.number,offerEditInModal:u.a.bool,language:u.a.oneOf([null,"json","html","sql","markdown","javascript"]),aboveEditorSection:u.a.node,readOnly:u.a.bool};class O extends l.a.Component{constructor(){super(),this.onAceChangeDebounce=i()(e=>{this.onAceChange(e)},300)}onControlChange(e){this.props.onChange(e.target.value)}onAceChange(e){this.props.onChange(e)}renderEditor(e=!1){var t;const n=this.props.value||"",r=e?40:this.props.minLines||12;return this.props.language?Object(v.e)(b.g,{mode:this.props.language,style:{border:"1px solid #CCC"},minLines:r,maxLines:e?1e3:this.props.maxLines,onChange:this.onAceChangeDebounce,width:"100%",height:r+"em",editorProps:{$blockScrolling:!0},value:n,readOnly:this.props.readOnly}):Object(v.e)(p.a,{controlId:"formControlsTextarea"},Object(v.e)(d.a,{componentClass:"textarea",placeholder:Object(h.c)("textarea"),onChange:a()(t=this.onControlChange).call(t,this),value:n,disabled:this.props.readOnly,style:{height:this.props.height}}))}renderModalBody(){return Object(v.e)("div",null,Object(v.e)("div",null,this.props.aboveEditorSection),this.renderEditor(!0))}render(){const e=Object(v.e)(g.a,this.props);return Object(v.e)("div",null,e,this.renderEditor(),this.props.offerEditInModal&&Object(v.e)(m.a,{bsSize:"large",modalTitle:e,triggerNode:Object(v.e)(f.a,{buttonSize:"small",className:"m-t-5"},Object(h.c)("Edit")," ",Object(v.e)("strong",null,this.props.language)," ",Object(h.c)("in modal")),modalBody:this.renderModalBody(!0)}))}}O.propTypes=y,O.defaultProps={onChange:()=>{},value:"",height:250,minLines:3,maxLines:10,offerEditInModal:!0,readOnly:!1}},935:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(5),a=n.n(r),o=n(0),i=n.n(o),s=n(2),l=n.n(s),c=n(850),u=n(692),p=n(7),d=n(63),h=n(124).f,f=n(250),b=n(349),m=n(48),g=n(248),v=n(1);const y="latlong",O="delimited",C="geohash",x={onChange:l.a.func,value:l.a.object,animation:l.a.bool,choices:l.a.array};class w extends i.a.Component{constructor(e){var t,n,r;super(e);const o=e.value||{};let i;e.choices.length>0&&(i=e.choices[0][0]),this.state={type:o.type||y,delimiter:o.delimiter||",",latCol:o.latCol||i,lonCol:o.lonCol||i,lonlatCol:o.lonlatCol||i,reverseCheckbox:o.reverseCheckbox||!1,geohashCol:o.geohashCol||i,value:null,errors:[]},this.toggleCheckbox=a()(t=this.toggleCheckbox).call(t,this),this.onChange=a()(n=this.onChange).call(n,this),this.renderReverseCheckbox=a()(r=this.renderReverseCheckbox).call(r,this)}componentDidMount(){this.onChange()}onChange(){const{type:e}=this.state,t={type:e},n=[],r=Object(p.c)("Invalid lat/long configuration.");e===y?(t.latCol=this.state.latCol,t.lonCol=this.state.lonCol,t.lonCol&&t.latCol||n.push(r)):e===O?(t.lonlatCol=this.state.lonlatCol,t.delimiter=this.state.delimiter,t.reverseCheckbox=this.state.reverseCheckbox,t.lonlatCol&&t.delimiter||n.push(r)):e===C&&(t.geohashCol=this.state.geohashCol,t.reverseCheckbox=this.state.reverseCheckbox,t.geohashCol||n.push(r)),this.setState({value:t,errors:n}),this.props.onChange(t,n)}setType(e){this.setState({type:e},this.onChange)}toggleCheckbox(){this.setState(e=>({reverseCheckbox:!e.reverseCheckbox}),this.onChange)}renderLabelContent(){return this.state.errors.length>0?"N/A":this.state.type===y?this.state.lonCol+" | "+this.state.latCol:this.state.type===O?""+this.state.lonlatCol:this.state.type===C?""+this.state.geohashCol:null}renderSelect(e,t){return Object(v.e)(g.a,{name:e,choices:this.props.choices,value:this.state[e],clearable:!1,onFocus:()=>{this.setType(t)},onChange:t=>{this.setState({[e]:t},this.onChange)}})}renderReverseCheckbox(){return Object(v.e)("span",null,Object(p.c)("Reverse lat/long "),Object(v.e)(b.a,{checked:this.state.reverseCheckbox,onChange:this.toggleCheckbox}))}renderPopoverContent(){var e,t,n;return Object(v.e)("div",{style:{width:"300px"}},Object(v.e)(f.a,{title:Object(p.c)("Longitude & Latitude columns"),isSelected:this.state.type===y,onSelect:a()(e=this.setType).call(e,this,y)},Object(v.e)(c.a,null,Object(v.e)(u.a,{md:6},"Longitude",this.renderSelect("lonCol",y)),Object(v.e)(u.a,{md:6},"Latitude",this.renderSelect("latCol",y)))),Object(v.e)(f.a,{title:Object(p.c)("Delimited long & lat single column"),info:Object(p.c)("Multiple formats accepted, look the geopy.points Python library for more details"),isSelected:this.state.type===O,onSelect:a()(t=this.setType).call(t,this,O)},Object(v.e)(c.a,null,Object(v.e)(u.a,{md:6},Object(p.c)("Column"),this.renderSelect("lonlatCol",O)),Object(v.e)(u.a,{md:6},this.renderReverseCheckbox()))),Object(v.e)(f.a,{title:Object(p.c)("Geohash"),isSelected:this.state.type===C,onSelect:a()(n=this.setType).call(n,this,C)},Object(v.e)(c.a,null,Object(v.e)(u.a,{md:6},"Column",this.renderSelect("geohashCol",C)),Object(v.e)(u.a,{md:6},this.renderReverseCheckbox()))))}render(){return Object(v.e)("div",null,Object(v.e)(m.a,this.props),Object(v.e)(h,{content:this.renderPopoverContent(),placement:"topLeft",trigger:"click"},Object(v.e)(d.a,{className:"pointer"},this.renderLabelContent())))}}w.propTypes=x,w.defaultProps={onChange:()=>{},animation:!0,choices:[]}},937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(1177);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return v(r).default}});var a=n(1196);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return v(a).default}});var o=n(1198);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return v(o).default}});var i=n(1200);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return v(i).default}});var s=n(1204);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return v(s).default}});var l=n(1207);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return v(l).default}});var c=n(1209);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return v(c).default}});var u=n(1211);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return v(u).default}});var p=n(1212);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return v(p).default}});var d=n(1218);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return v(d).default}});var h=n(1221);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return v(h).default}});var f=n(1225);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return v(f).default}});var b=n(1228);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return v(b).default}});var m=n(925);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return v(m).default}});var g=v(i);function v(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},964:function(e,t,n){"use strict";var r=n(31);t.__esModule=!0,t.default=void 0;var a=r(n(783));t.end=a.default;var o=r(n(243));t.properties=o.default;var i={end:a.default,properties:o.default};t.default=i},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1184);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return p(r).default}});var a=n(924);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return p(a).default}});var o=n(1187);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return p(o).default}});var i=n(1188);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return p(i).default}});var s=n(1190);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return p(s).default}});var l=n(1191);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return p(l).default}});var c=n(925);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return p(c).default}});var u=n(1193);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return p(u).default}})}}]);